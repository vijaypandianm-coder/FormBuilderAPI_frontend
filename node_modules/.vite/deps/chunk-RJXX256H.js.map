{
  "version": 3,
  "sources": ["browser-external:https", "browser-external:http", "browser-external:net", "browser-external:tls", "browser-external:buffer", "../../ms/index.js", "../../debug/src/common.js", "../../debug/src/browser.js", "browser-external:node:vm", "browser-external:node:tty", "browser-external:node:path/posix", "../../vitest/dist/chunks/cli-api.6GYRwzrM.js", "../../vitest/dist/chunks/coverage.D_JHT54q.js", "../../vitest/dist/chunks/coverage.DT47gDHj.js", "../../vitest/dist/chunks/defaults.BOqNVLsY.js", "../../@vitest/snapshot/dist/manager.js", "../../vitest/dist/chunks/cac.Be29vze6.js", "../../vitest/dist/chunks/index.Bgo3tNWt.js", "../../vitest/dist/module-evaluator.js", "../../@vitest/utils/dist/highlight.js", "../../@jridgewell/sourcemap-codec/src/vlq.ts", "../../@jridgewell/sourcemap-codec/src/strings.ts", "../../@jridgewell/sourcemap-codec/src/scopes.ts", "../../@jridgewell/sourcemap-codec/src/sourcemap-codec.ts", "../../magic-string/src/BitSet.js", "../../magic-string/src/Chunk.js", "../../magic-string/src/SourceMap.js", "../../magic-string/src/utils/guessIndent.js", "../../magic-string/src/utils/getRelativePath.js", "../../magic-string/src/utils/isObject.js", "../../magic-string/src/utils/getLocator.js", "../../magic-string/src/utils/Mappings.js", "../../magic-string/src/MagicString.js", "../../magic-string/src/Bundle.js", "../../vitest/node_modules/@vitest/mocker/dist/chunk-utils.js", "../../estree-walker/src/walker.js", "../../estree-walker/src/sync.js", "../../estree-walker/src/index.js", "../../vitest/node_modules/@vitest/mocker/dist/chunk-automock.js", "../../vitest/node_modules/@vitest/mocker/dist/node.js", "../../vitest/node_modules/@vitest/mocker/dist/redirect.js", "../../@vitest/utils/dist/resolver.js", "../../es-module-lexer/dist/lexer.js", "../../vitest/dist/chunks/index.BdSLhLDZ.js"],
  "sourcesContent": ["module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      console.warn(`Module \"https\" has been externalized for browser compatibility. Cannot access \"https.${key}\" in client code. See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      console.warn(`Module \"http\" has been externalized for browser compatibility. Cannot access \"http.${key}\" in client code. See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      console.warn(`Module \"net\" has been externalized for browser compatibility. Cannot access \"net.${key}\" in client code. See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      console.warn(`Module \"tls\" has been externalized for browser compatibility. Cannot access \"tls.${key}\" in client code. See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      console.warn(`Module \"buffer\" has been externalized for browser compatibility. Cannot access \"buffer.${key}\" in client code. See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)\n    }\n  }\n}))", "/**\r\n * Helpers.\r\n */\r\n\r\nvar s = 1000;\r\nvar m = s * 60;\r\nvar h = m * 60;\r\nvar d = h * 24;\r\nvar w = d * 7;\r\nvar y = d * 365.25;\r\n\r\n/**\r\n * Parse or format the given `val`.\r\n *\r\n * Options:\r\n *\r\n *  - `long` verbose formatting [false]\r\n *\r\n * @param {String|Number} val\r\n * @param {Object} [options]\r\n * @throws {Error} throw an error if val is not a non-empty string or a number\r\n * @return {String|Number}\r\n * @api public\r\n */\r\n\r\nmodule.exports = function (val, options) {\r\n  options = options || {};\r\n  var type = typeof val;\r\n  if (type === 'string' && val.length > 0) {\r\n    return parse(val);\r\n  } else if (type === 'number' && isFinite(val)) {\r\n    return options.long ? fmtLong(val) : fmtShort(val);\r\n  }\r\n  throw new Error(\r\n    'val is not a non-empty string or a valid number. val=' +\r\n      JSON.stringify(val)\r\n  );\r\n};\r\n\r\n/**\r\n * Parse the given `str` and return milliseconds.\r\n *\r\n * @param {String} str\r\n * @return {Number}\r\n * @api private\r\n */\r\n\r\nfunction parse(str) {\r\n  str = String(str);\r\n  if (str.length > 100) {\r\n    return;\r\n  }\r\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\r\n    str\r\n  );\r\n  if (!match) {\r\n    return;\r\n  }\r\n  var n = parseFloat(match[1]);\r\n  var type = (match[2] || 'ms').toLowerCase();\r\n  switch (type) {\r\n    case 'years':\r\n    case 'year':\r\n    case 'yrs':\r\n    case 'yr':\r\n    case 'y':\r\n      return n * y;\r\n    case 'weeks':\r\n    case 'week':\r\n    case 'w':\r\n      return n * w;\r\n    case 'days':\r\n    case 'day':\r\n    case 'd':\r\n      return n * d;\r\n    case 'hours':\r\n    case 'hour':\r\n    case 'hrs':\r\n    case 'hr':\r\n    case 'h':\r\n      return n * h;\r\n    case 'minutes':\r\n    case 'minute':\r\n    case 'mins':\r\n    case 'min':\r\n    case 'm':\r\n      return n * m;\r\n    case 'seconds':\r\n    case 'second':\r\n    case 'secs':\r\n    case 'sec':\r\n    case 's':\r\n      return n * s;\r\n    case 'milliseconds':\r\n    case 'millisecond':\r\n    case 'msecs':\r\n    case 'msec':\r\n    case 'ms':\r\n      return n;\r\n    default:\r\n      return undefined;\r\n  }\r\n}\r\n\r\n/**\r\n * Short format for `ms`.\r\n *\r\n * @param {Number} ms\r\n * @return {String}\r\n * @api private\r\n */\r\n\r\nfunction fmtShort(ms) {\r\n  var msAbs = Math.abs(ms);\r\n  if (msAbs >= d) {\r\n    return Math.round(ms / d) + 'd';\r\n  }\r\n  if (msAbs >= h) {\r\n    return Math.round(ms / h) + 'h';\r\n  }\r\n  if (msAbs >= m) {\r\n    return Math.round(ms / m) + 'm';\r\n  }\r\n  if (msAbs >= s) {\r\n    return Math.round(ms / s) + 's';\r\n  }\r\n  return ms + 'ms';\r\n}\r\n\r\n/**\r\n * Long format for `ms`.\r\n *\r\n * @param {Number} ms\r\n * @return {String}\r\n * @api private\r\n */\r\n\r\nfunction fmtLong(ms) {\r\n  var msAbs = Math.abs(ms);\r\n  if (msAbs >= d) {\r\n    return plural(ms, msAbs, d, 'day');\r\n  }\r\n  if (msAbs >= h) {\r\n    return plural(ms, msAbs, h, 'hour');\r\n  }\r\n  if (msAbs >= m) {\r\n    return plural(ms, msAbs, m, 'minute');\r\n  }\r\n  if (msAbs >= s) {\r\n    return plural(ms, msAbs, s, 'second');\r\n  }\r\n  return ms + ' ms';\r\n}\r\n\r\n/**\r\n * Pluralization helper.\r\n */\r\n\r\nfunction plural(ms, msAbs, n, name) {\r\n  var isPlural = msAbs >= n * 1.5;\r\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\r\n}\r\n", "\r\n/**\r\n * This is the common logic for both the Node.js and web browser\r\n * implementations of `debug()`.\r\n */\r\n\r\nfunction setup(env) {\r\n\tcreateDebug.debug = createDebug;\r\n\tcreateDebug.default = createDebug;\r\n\tcreateDebug.coerce = coerce;\r\n\tcreateDebug.disable = disable;\r\n\tcreateDebug.enable = enable;\r\n\tcreateDebug.enabled = enabled;\r\n\tcreateDebug.humanize = require('ms');\r\n\tcreateDebug.destroy = destroy;\r\n\r\n\tObject.keys(env).forEach(key => {\r\n\t\tcreateDebug[key] = env[key];\r\n\t});\r\n\r\n\t/**\r\n\t* The currently active debug mode names, and names to skip.\r\n\t*/\r\n\r\n\tcreateDebug.names = [];\r\n\tcreateDebug.skips = [];\r\n\r\n\t/**\r\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\r\n\t*\r\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\r\n\t*/\r\n\tcreateDebug.formatters = {};\r\n\r\n\t/**\r\n\t* Selects a color for a debug namespace\r\n\t* @param {String} namespace The namespace string for the debug instance to be colored\r\n\t* @return {Number|String} An ANSI color code for the given namespace\r\n\t* @api private\r\n\t*/\r\n\tfunction selectColor(namespace) {\r\n\t\tlet hash = 0;\r\n\r\n\t\tfor (let i = 0; i < namespace.length; i++) {\r\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\r\n\t\t\thash |= 0; // Convert to 32bit integer\r\n\t\t}\r\n\r\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\r\n\t}\r\n\tcreateDebug.selectColor = selectColor;\r\n\r\n\t/**\r\n\t* Create a debugger with the given `namespace`.\r\n\t*\r\n\t* @param {String} namespace\r\n\t* @return {Function}\r\n\t* @api public\r\n\t*/\r\n\tfunction createDebug(namespace) {\r\n\t\tlet prevTime;\r\n\t\tlet enableOverride = null;\r\n\t\tlet namespacesCache;\r\n\t\tlet enabledCache;\r\n\r\n\t\tfunction debug(...args) {\r\n\t\t\t// Disabled?\r\n\t\t\tif (!debug.enabled) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst self = debug;\r\n\r\n\t\t\t// Set `diff` timestamp\r\n\t\t\tconst curr = Number(new Date());\r\n\t\t\tconst ms = curr - (prevTime || curr);\r\n\t\t\tself.diff = ms;\r\n\t\t\tself.prev = prevTime;\r\n\t\t\tself.curr = curr;\r\n\t\t\tprevTime = curr;\r\n\r\n\t\t\targs[0] = createDebug.coerce(args[0]);\r\n\r\n\t\t\tif (typeof args[0] !== 'string') {\r\n\t\t\t\t// Anything else let's inspect with %O\r\n\t\t\t\targs.unshift('%O');\r\n\t\t\t}\r\n\r\n\t\t\t// Apply any `formatters` transformations\r\n\t\t\tlet index = 0;\r\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\r\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\r\n\t\t\t\tif (match === '%%') {\r\n\t\t\t\t\treturn '%';\r\n\t\t\t\t}\r\n\t\t\t\tindex++;\r\n\t\t\t\tconst formatter = createDebug.formatters[format];\r\n\t\t\t\tif (typeof formatter === 'function') {\r\n\t\t\t\t\tconst val = args[index];\r\n\t\t\t\t\tmatch = formatter.call(self, val);\r\n\r\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\r\n\t\t\t\t\targs.splice(index, 1);\r\n\t\t\t\t\tindex--;\r\n\t\t\t\t}\r\n\t\t\t\treturn match;\r\n\t\t\t});\r\n\r\n\t\t\t// Apply env-specific formatting (colors, etc.)\r\n\t\t\tcreateDebug.formatArgs.call(self, args);\r\n\r\n\t\t\tconst logFn = self.log || createDebug.log;\r\n\t\t\tlogFn.apply(self, args);\r\n\t\t}\r\n\r\n\t\tdebug.namespace = namespace;\r\n\t\tdebug.useColors = createDebug.useColors();\r\n\t\tdebug.color = createDebug.selectColor(namespace);\r\n\t\tdebug.extend = extend;\r\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\r\n\r\n\t\tObject.defineProperty(debug, 'enabled', {\r\n\t\t\tenumerable: true,\r\n\t\t\tconfigurable: false,\r\n\t\t\tget: () => {\r\n\t\t\t\tif (enableOverride !== null) {\r\n\t\t\t\t\treturn enableOverride;\r\n\t\t\t\t}\r\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\r\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\r\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn enabledCache;\r\n\t\t\t},\r\n\t\t\tset: v => {\r\n\t\t\t\tenableOverride = v;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// Env-specific initialization logic for debug instances\r\n\t\tif (typeof createDebug.init === 'function') {\r\n\t\t\tcreateDebug.init(debug);\r\n\t\t}\r\n\r\n\t\treturn debug;\r\n\t}\r\n\r\n\tfunction extend(namespace, delimiter) {\r\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\r\n\t\tnewDebug.log = this.log;\r\n\t\treturn newDebug;\r\n\t}\r\n\r\n\t/**\r\n\t* Enables a debug mode by namespaces. This can include modes\r\n\t* separated by a colon and wildcards.\r\n\t*\r\n\t* @param {String} namespaces\r\n\t* @api public\r\n\t*/\r\n\tfunction enable(namespaces) {\r\n\t\tcreateDebug.save(namespaces);\r\n\t\tcreateDebug.namespaces = namespaces;\r\n\r\n\t\tcreateDebug.names = [];\r\n\t\tcreateDebug.skips = [];\r\n\r\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '')\r\n\t\t\t.trim()\r\n\t\t\t.replace(/\\s+/g, ',')\r\n\t\t\t.split(',')\r\n\t\t\t.filter(Boolean);\r\n\r\n\t\tfor (const ns of split) {\r\n\t\t\tif (ns[0] === '-') {\r\n\t\t\t\tcreateDebug.skips.push(ns.slice(1));\r\n\t\t\t} else {\r\n\t\t\t\tcreateDebug.names.push(ns);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Checks if the given string matches a namespace template, honoring\r\n\t * asterisks as wildcards.\r\n\t *\r\n\t * @param {String} search\r\n\t * @param {String} template\r\n\t * @return {Boolean}\r\n\t */\r\n\tfunction matchesTemplate(search, template) {\r\n\t\tlet searchIndex = 0;\r\n\t\tlet templateIndex = 0;\r\n\t\tlet starIndex = -1;\r\n\t\tlet matchIndex = 0;\r\n\r\n\t\twhile (searchIndex < search.length) {\r\n\t\t\tif (templateIndex < template.length && (template[templateIndex] === search[searchIndex] || template[templateIndex] === '*')) {\r\n\t\t\t\t// Match character or proceed with wildcard\r\n\t\t\t\tif (template[templateIndex] === '*') {\r\n\t\t\t\t\tstarIndex = templateIndex;\r\n\t\t\t\t\tmatchIndex = searchIndex;\r\n\t\t\t\t\ttemplateIndex++; // Skip the '*'\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsearchIndex++;\r\n\t\t\t\t\ttemplateIndex++;\r\n\t\t\t\t}\r\n\t\t\t} else if (starIndex !== -1) { // eslint-disable-line no-negated-condition\r\n\t\t\t\t// Backtrack to the last '*' and try to match more characters\r\n\t\t\t\ttemplateIndex = starIndex + 1;\r\n\t\t\t\tmatchIndex++;\r\n\t\t\t\tsearchIndex = matchIndex;\r\n\t\t\t} else {\r\n\t\t\t\treturn false; // No match\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Handle trailing '*' in template\r\n\t\twhile (templateIndex < template.length && template[templateIndex] === '*') {\r\n\t\t\ttemplateIndex++;\r\n\t\t}\r\n\r\n\t\treturn templateIndex === template.length;\r\n\t}\r\n\r\n\t/**\r\n\t* Disable debug output.\r\n\t*\r\n\t* @return {String} namespaces\r\n\t* @api public\r\n\t*/\r\n\tfunction disable() {\r\n\t\tconst namespaces = [\r\n\t\t\t...createDebug.names,\r\n\t\t\t...createDebug.skips.map(namespace => '-' + namespace)\r\n\t\t].join(',');\r\n\t\tcreateDebug.enable('');\r\n\t\treturn namespaces;\r\n\t}\r\n\r\n\t/**\r\n\t* Returns true if the given mode name is enabled, false otherwise.\r\n\t*\r\n\t* @param {String} name\r\n\t* @return {Boolean}\r\n\t* @api public\r\n\t*/\r\n\tfunction enabled(name) {\r\n\t\tfor (const skip of createDebug.skips) {\r\n\t\t\tif (matchesTemplate(name, skip)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor (const ns of createDebug.names) {\r\n\t\t\tif (matchesTemplate(name, ns)) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\t/**\r\n\t* Coerce `val`.\r\n\t*\r\n\t* @param {Mixed} val\r\n\t* @return {Mixed}\r\n\t* @api private\r\n\t*/\r\n\tfunction coerce(val) {\r\n\t\tif (val instanceof Error) {\r\n\t\t\treturn val.stack || val.message;\r\n\t\t}\r\n\t\treturn val;\r\n\t}\r\n\r\n\t/**\r\n\t* XXX DO NOT USE. This is a temporary stub function.\r\n\t* XXX It WILL be removed in the next major release.\r\n\t*/\r\n\tfunction destroy() {\r\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\r\n\t}\r\n\r\n\tcreateDebug.enable(createDebug.load());\r\n\r\n\treturn createDebug;\r\n}\r\n\r\nmodule.exports = setup;\r\n", "/* eslint-env browser */\r\n\r\n/**\r\n * This is the web browser implementation of `debug()`.\r\n */\r\n\r\nexports.formatArgs = formatArgs;\r\nexports.save = save;\r\nexports.load = load;\r\nexports.useColors = useColors;\r\nexports.storage = localstorage();\r\nexports.destroy = (() => {\r\n\tlet warned = false;\r\n\r\n\treturn () => {\r\n\t\tif (!warned) {\r\n\t\t\twarned = true;\r\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\r\n\t\t}\r\n\t};\r\n})();\r\n\r\n/**\r\n * Colors.\r\n */\r\n\r\nexports.colors = [\r\n\t'#0000CC',\r\n\t'#0000FF',\r\n\t'#0033CC',\r\n\t'#0033FF',\r\n\t'#0066CC',\r\n\t'#0066FF',\r\n\t'#0099CC',\r\n\t'#0099FF',\r\n\t'#00CC00',\r\n\t'#00CC33',\r\n\t'#00CC66',\r\n\t'#00CC99',\r\n\t'#00CCCC',\r\n\t'#00CCFF',\r\n\t'#3300CC',\r\n\t'#3300FF',\r\n\t'#3333CC',\r\n\t'#3333FF',\r\n\t'#3366CC',\r\n\t'#3366FF',\r\n\t'#3399CC',\r\n\t'#3399FF',\r\n\t'#33CC00',\r\n\t'#33CC33',\r\n\t'#33CC66',\r\n\t'#33CC99',\r\n\t'#33CCCC',\r\n\t'#33CCFF',\r\n\t'#6600CC',\r\n\t'#6600FF',\r\n\t'#6633CC',\r\n\t'#6633FF',\r\n\t'#66CC00',\r\n\t'#66CC33',\r\n\t'#9900CC',\r\n\t'#9900FF',\r\n\t'#9933CC',\r\n\t'#9933FF',\r\n\t'#99CC00',\r\n\t'#99CC33',\r\n\t'#CC0000',\r\n\t'#CC0033',\r\n\t'#CC0066',\r\n\t'#CC0099',\r\n\t'#CC00CC',\r\n\t'#CC00FF',\r\n\t'#CC3300',\r\n\t'#CC3333',\r\n\t'#CC3366',\r\n\t'#CC3399',\r\n\t'#CC33CC',\r\n\t'#CC33FF',\r\n\t'#CC6600',\r\n\t'#CC6633',\r\n\t'#CC9900',\r\n\t'#CC9933',\r\n\t'#CCCC00',\r\n\t'#CCCC33',\r\n\t'#FF0000',\r\n\t'#FF0033',\r\n\t'#FF0066',\r\n\t'#FF0099',\r\n\t'#FF00CC',\r\n\t'#FF00FF',\r\n\t'#FF3300',\r\n\t'#FF3333',\r\n\t'#FF3366',\r\n\t'#FF3399',\r\n\t'#FF33CC',\r\n\t'#FF33FF',\r\n\t'#FF6600',\r\n\t'#FF6633',\r\n\t'#FF9900',\r\n\t'#FF9933',\r\n\t'#FFCC00',\r\n\t'#FFCC33'\r\n];\r\n\r\n/**\r\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\r\n * and the Firebug extension (any Firefox version) are known\r\n * to support \"%c\" CSS customizations.\r\n *\r\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\r\n */\r\n\r\n// eslint-disable-next-line complexity\r\nfunction useColors() {\r\n\t// NB: In an Electron preload script, document will be defined but not fully\r\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\r\n\t// explicitly\r\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\r\n\t\treturn true;\r\n\t}\r\n\r\n\t// Internet Explorer and Edge do not support colors.\r\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tlet m;\r\n\r\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\r\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\r\n\t// eslint-disable-next-line no-return-assign\r\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\r\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\r\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\r\n\t\t// Is firefox >= v31?\r\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\r\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && (m = navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)) && parseInt(m[1], 10) >= 31) ||\r\n\t\t// Double check webkit in userAgent just in case we are in a worker\r\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\r\n}\r\n\r\n/**\r\n * Colorize log arguments if enabled.\r\n *\r\n * @api public\r\n */\r\n\r\nfunction formatArgs(args) {\r\n\targs[0] = (this.useColors ? '%c' : '') +\r\n\t\tthis.namespace +\r\n\t\t(this.useColors ? ' %c' : ' ') +\r\n\t\targs[0] +\r\n\t\t(this.useColors ? '%c ' : ' ') +\r\n\t\t'+' + module.exports.humanize(this.diff);\r\n\r\n\tif (!this.useColors) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tconst c = 'color: ' + this.color;\r\n\targs.splice(1, 0, c, 'color: inherit');\r\n\r\n\t// The final \"%c\" is somewhat tricky, because there could be other\r\n\t// arguments passed either before or after the %c, so we need to\r\n\t// figure out the correct index to insert the CSS into\r\n\tlet index = 0;\r\n\tlet lastC = 0;\r\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\r\n\t\tif (match === '%%') {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tindex++;\r\n\t\tif (match === '%c') {\r\n\t\t\t// We only are interested in the *last* %c\r\n\t\t\t// (the user may have provided their own)\r\n\t\t\tlastC = index;\r\n\t\t}\r\n\t});\r\n\r\n\targs.splice(lastC, 0, c);\r\n}\r\n\r\n/**\r\n * Invokes `console.debug()` when available.\r\n * No-op when `console.debug` is not a \"function\".\r\n * If `console.debug` is not available, falls back\r\n * to `console.log`.\r\n *\r\n * @api public\r\n */\r\nexports.log = console.debug || console.log || (() => {});\r\n\r\n/**\r\n * Save `namespaces`.\r\n *\r\n * @param {String} namespaces\r\n * @api private\r\n */\r\nfunction save(namespaces) {\r\n\ttry {\r\n\t\tif (namespaces) {\r\n\t\t\texports.storage.setItem('debug', namespaces);\r\n\t\t} else {\r\n\t\t\texports.storage.removeItem('debug');\r\n\t\t}\r\n\t} catch (error) {\r\n\t\t// Swallow\r\n\t\t// XXX (@Qix-) should we be logging these?\r\n\t}\r\n}\r\n\r\n/**\r\n * Load `namespaces`.\r\n *\r\n * @return {String} returns the previously persisted debug modes\r\n * @api private\r\n */\r\nfunction load() {\r\n\tlet r;\r\n\ttry {\r\n\t\tr = exports.storage.getItem('debug') || exports.storage.getItem('DEBUG') ;\r\n\t} catch (error) {\r\n\t\t// Swallow\r\n\t\t// XXX (@Qix-) should we be logging these?\r\n\t}\r\n\r\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\r\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\r\n\t\tr = process.env.DEBUG;\r\n\t}\r\n\r\n\treturn r;\r\n}\r\n\r\n/**\r\n * Localstorage attempts to return the localstorage.\r\n *\r\n * This is necessary because safari throws\r\n * when a user disables cookies/localstorage\r\n * and you attempt to access it.\r\n *\r\n * @return {LocalStorage}\r\n * @api private\r\n */\r\n\r\nfunction localstorage() {\r\n\ttry {\r\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\r\n\t\t// The Browser also has localStorage in the global context.\r\n\t\treturn localStorage;\r\n\t} catch (error) {\r\n\t\t// Swallow\r\n\t\t// XXX (@Qix-) should we be logging these?\r\n\t}\r\n}\r\n\r\nmodule.exports = require('./common')(exports);\r\n\r\nconst {formatters} = module.exports;\r\n\r\n/**\r\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\r\n */\r\n\r\nformatters.j = function (v) {\r\n\ttry {\r\n\t\treturn JSON.stringify(v);\r\n\t} catch (error) {\r\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\r\n\t}\r\n};\r\n", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      console.warn(`Module \"node:vm\" has been externalized for browser compatibility. Cannot access \"node:vm.${key}\" in client code. See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      console.warn(`Module \"node:tty\" has been externalized for browser compatibility. Cannot access \"node:tty.${key}\" in client code. See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      console.warn(`Module \"node:path/posix\" has been externalized for browser compatibility. Cannot access \"node:path/posix.${key}\" in client code. See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)\n    }\n  }\n}))", "import fs, { promises as promises$1, existsSync, mkdirSync, readFileSync, statSync, readdirSync, writeFileSync } from 'node:fs';\nimport { relative, resolve, dirname, join, extname, normalize, basename, isAbsolute } from 'pathe';\nimport { C as CoverageProviderMap } from './coverage.D_JHT54q.js';\nimport path, { resolve as resolve$1 } from 'node:path';\nimport { noop, createDefer, slash, isExternalUrl, unwrapId, nanoid, withTrailingSlash, cleanUrl, wrapId, toArray, deepMerge, deepClone, isPrimitive, notNullish } from '@vitest/utils/helpers';\nimport { a as any, p as prompt } from './index.Dc3xnDvT.js';\nimport { h as hash, R as RandomSequencer, i as isPackageExists, c as isBrowserEnabled, r as resolveConfig, g as getCoverageProvider, a as resolveApiServerConfig, d as resolveModule } from './coverage.DT47gDHj.js';\nimport * as vite from 'vite';\nimport { parseAst, fetchModule, version, searchForWorkspaceRoot, mergeConfig, createServer } from 'vite';\nimport { A as API_PATH, c as configFiles, d as defaultBrowserPort, a as defaultPort } from './constants.D_Q9UYh-.js';\nimport * as nodeos from 'node:os';\nimport nodeos__default, { tmpdir } from 'node:os';\nimport { generateHash as generateHash$1, calculateSuiteHash, someTasksAreOnly, interpretTaskModes, hasFailed, generateFileHash, limitConcurrency, createFileTask as createFileTask$1, getTasks, isTestCase } from '@vitest/runner/utils';\nimport { SnapshotManager } from '@vitest/snapshot/manager';\nimport { v as version$1 } from './cac.Be29vze6.js';\nimport { c as createBirpc } from './index.Bgo3tNWt.js';\nimport { p as parse, d as stringify, e as TraceMap, o as originalPositionFor, h as ancestor, i as printError, f as formatProjectName, w as withLabel, j as errorBanner, k as divider, l as Typechecker, m as generateCodeFrame, n as createDefinesScript, R as ReportersMap, B as BlobReporter, r as readBlobs, q as convertTasksToEvents, H as HangingProcessReporter } from './index.CcRZ6fUh.js';\nimport require$$0$3 from 'events';\nimport require$$1$1 from 'https';\nimport require$$2 from 'http';\nimport require$$3 from 'net';\nimport require$$4 from 'tls';\nimport require$$1 from 'crypto';\nimport require$$0$2 from 'stream';\nimport require$$7 from 'url';\nimport require$$0 from 'zlib';\nimport require$$0$1 from 'buffer';\nimport { g as getDefaultExportFromCjs } from './_commonjsHelpers.BFTU3MAI.js';\nimport crypto, { createHash } from 'node:crypto';\nimport { rootDir, distDir } from '../path.js';\nimport createDebug from 'debug';\nimport { readFile, writeFile, rename, stat, unlink, rm, mkdir, copyFile } from 'node:fs/promises';\nimport { VitestModuleEvaluator } from '#module-evaluator';\nimport { ModuleRunner } from 'vite/module-runner';\nimport { Console } from 'node:console';\nimport c from 'tinyrainbow';\nimport { highlight } from '@vitest/utils/highlight';\nimport { createRequire, isBuiltin, builtinModules } from 'node:module';\nimport url, { fileURLToPath, pathToFileURL } from 'node:url';\nimport { i as isTTY, a as isWindows } from './env.D4Lgay0q.js';\nimport { isatty } from 'node:tty';\nimport EventEmitter$1, { EventEmitter } from 'node:events';\nimport { fork } from 'node:child_process';\nimport v8 from 'node:v8';\nimport { Worker } from 'node:worker_threads';\nimport pm from 'picomatch';\nimport { glob, isDynamicPattern } from 'tinyglobby';\nimport MagicString from 'magic-string';\nimport { hoistMocksPlugin, automockPlugin } from '@vitest/mocker/node';\nimport { c as configDefaults } from './defaults.BOqNVLsY.js';\nimport { KNOWN_ASSET_RE } from '@vitest/utils/constants';\nimport { findNearestPackageData } from '@vitest/utils/resolver';\nimport * as esModuleLexer from 'es-module-lexer';\nimport { a as BenchmarkReportsMap } from './index.BdSLhLDZ.js';\nimport assert$1 from 'node:assert';\nimport { serializeValue } from '@vitest/utils/serialize';\nimport { parseErrorStacktrace } from '@vitest/utils/source-map';\nimport readline from 'node:readline';\nimport { stripVTControlCharacters } from 'node:util';\n\nvar bufferUtil = {exports: {}};\n\nvar constants;\nvar hasRequiredConstants;\n\nfunction requireConstants () {\n\tif (hasRequiredConstants) return constants;\n\thasRequiredConstants = 1;\n\n\tconst BINARY_TYPES = ['nodebuffer', 'arraybuffer', 'fragments'];\n\tconst hasBlob = typeof Blob !== 'undefined';\n\n\tif (hasBlob) BINARY_TYPES.push('blob');\n\n\tconstants = {\n\t  BINARY_TYPES,\n\t  EMPTY_BUFFER: Buffer.alloc(0),\n\t  GUID: '258EAFA5-E914-47DA-95CA-C5AB0DC85B11',\n\t  hasBlob,\n\t  kForOnEventAttribute: Symbol('kIsForOnEventAttribute'),\n\t  kListener: Symbol('kListener'),\n\t  kStatusCode: Symbol('status-code'),\n\t  kWebSocket: Symbol('websocket'),\n\t  NOOP: () => {}\n\t};\n\treturn constants;\n}\n\nvar hasRequiredBufferUtil;\n\nfunction requireBufferUtil () {\n\tif (hasRequiredBufferUtil) return bufferUtil.exports;\n\thasRequiredBufferUtil = 1;\n\n\tconst { EMPTY_BUFFER } = requireConstants();\n\n\tconst FastBuffer = Buffer[Symbol.species];\n\n\t/**\n\t * Merges an array of buffers into a new buffer.\n\t *\n\t * @param {Buffer[]} list The array of buffers to concat\n\t * @param {Number} totalLength The total length of buffers in the list\n\t * @return {Buffer} The resulting buffer\n\t * @public\n\t */\n\tfunction concat(list, totalLength) {\n\t  if (list.length === 0) return EMPTY_BUFFER;\n\t  if (list.length === 1) return list[0];\n\n\t  const target = Buffer.allocUnsafe(totalLength);\n\t  let offset = 0;\n\n\t  for (let i = 0; i < list.length; i++) {\n\t    const buf = list[i];\n\t    target.set(buf, offset);\n\t    offset += buf.length;\n\t  }\n\n\t  if (offset < totalLength) {\n\t    return new FastBuffer(target.buffer, target.byteOffset, offset);\n\t  }\n\n\t  return target;\n\t}\n\n\t/**\n\t * Masks a buffer using the given mask.\n\t *\n\t * @param {Buffer} source The buffer to mask\n\t * @param {Buffer} mask The mask to use\n\t * @param {Buffer} output The buffer where to store the result\n\t * @param {Number} offset The offset at which to start writing\n\t * @param {Number} length The number of bytes to mask.\n\t * @public\n\t */\n\tfunction _mask(source, mask, output, offset, length) {\n\t  for (let i = 0; i < length; i++) {\n\t    output[offset + i] = source[i] ^ mask[i & 3];\n\t  }\n\t}\n\n\t/**\n\t * Unmasks a buffer using the given mask.\n\t *\n\t * @param {Buffer} buffer The buffer to unmask\n\t * @param {Buffer} mask The mask to use\n\t * @public\n\t */\n\tfunction _unmask(buffer, mask) {\n\t  for (let i = 0; i < buffer.length; i++) {\n\t    buffer[i] ^= mask[i & 3];\n\t  }\n\t}\n\n\t/**\n\t * Converts a buffer to an `ArrayBuffer`.\n\t *\n\t * @param {Buffer} buf The buffer to convert\n\t * @return {ArrayBuffer} Converted buffer\n\t * @public\n\t */\n\tfunction toArrayBuffer(buf) {\n\t  if (buf.length === buf.buffer.byteLength) {\n\t    return buf.buffer;\n\t  }\n\n\t  return buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.length);\n\t}\n\n\t/**\n\t * Converts `data` to a `Buffer`.\n\t *\n\t * @param {*} data The data to convert\n\t * @return {Buffer} The buffer\n\t * @throws {TypeError}\n\t * @public\n\t */\n\tfunction toBuffer(data) {\n\t  toBuffer.readOnly = true;\n\n\t  if (Buffer.isBuffer(data)) return data;\n\n\t  let buf;\n\n\t  if (data instanceof ArrayBuffer) {\n\t    buf = new FastBuffer(data);\n\t  } else if (ArrayBuffer.isView(data)) {\n\t    buf = new FastBuffer(data.buffer, data.byteOffset, data.byteLength);\n\t  } else {\n\t    buf = Buffer.from(data);\n\t    toBuffer.readOnly = false;\n\t  }\n\n\t  return buf;\n\t}\n\n\tbufferUtil.exports = {\n\t  concat,\n\t  mask: _mask,\n\t  toArrayBuffer,\n\t  toBuffer,\n\t  unmask: _unmask\n\t};\n\n\t/* istanbul ignore else  */\n\tif (!process.env.WS_NO_BUFFER_UTIL) {\n\t  try {\n\t    const bufferUtil$1 = require('bufferutil');\n\n\t    bufferUtil.exports.mask = function (source, mask, output, offset, length) {\n\t      if (length < 48) _mask(source, mask, output, offset, length);\n\t      else bufferUtil$1.mask(source, mask, output, offset, length);\n\t    };\n\n\t    bufferUtil.exports.unmask = function (buffer, mask) {\n\t      if (buffer.length < 32) _unmask(buffer, mask);\n\t      else bufferUtil$1.unmask(buffer, mask);\n\t    };\n\t  } catch (e) {\n\t    // Continue regardless of the error.\n\t  }\n\t}\n\treturn bufferUtil.exports;\n}\n\nvar limiter;\nvar hasRequiredLimiter;\n\nfunction requireLimiter () {\n\tif (hasRequiredLimiter) return limiter;\n\thasRequiredLimiter = 1;\n\n\tconst kDone = Symbol('kDone');\n\tconst kRun = Symbol('kRun');\n\n\t/**\n\t * A very simple job queue with adjustable concurrency. Adapted from\n\t * https://github.com/STRML/async-limiter\n\t */\n\tclass Limiter {\n\t  /**\n\t   * Creates a new `Limiter`.\n\t   *\n\t   * @param {Number} [concurrency=Infinity] The maximum number of jobs allowed\n\t   *     to run concurrently\n\t   */\n\t  constructor(concurrency) {\n\t    this[kDone] = () => {\n\t      this.pending--;\n\t      this[kRun]();\n\t    };\n\t    this.concurrency = concurrency || Infinity;\n\t    this.jobs = [];\n\t    this.pending = 0;\n\t  }\n\n\t  /**\n\t   * Adds a job to the queue.\n\t   *\n\t   * @param {Function} job The job to run\n\t   * @public\n\t   */\n\t  add(job) {\n\t    this.jobs.push(job);\n\t    this[kRun]();\n\t  }\n\n\t  /**\n\t   * Removes a job from the queue and runs it if possible.\n\t   *\n\t   * @private\n\t   */\n\t  [kRun]() {\n\t    if (this.pending === this.concurrency) return;\n\n\t    if (this.jobs.length) {\n\t      const job = this.jobs.shift();\n\n\t      this.pending++;\n\t      job(this[kDone]);\n\t    }\n\t  }\n\t}\n\n\tlimiter = Limiter;\n\treturn limiter;\n}\n\nvar permessageDeflate;\nvar hasRequiredPermessageDeflate;\n\nfunction requirePermessageDeflate () {\n\tif (hasRequiredPermessageDeflate) return permessageDeflate;\n\thasRequiredPermessageDeflate = 1;\n\n\tconst zlib = require$$0;\n\n\tconst bufferUtil = requireBufferUtil();\n\tconst Limiter = requireLimiter();\n\tconst { kStatusCode } = requireConstants();\n\n\tconst FastBuffer = Buffer[Symbol.species];\n\tconst TRAILER = Buffer.from([0x00, 0x00, 0xff, 0xff]);\n\tconst kPerMessageDeflate = Symbol('permessage-deflate');\n\tconst kTotalLength = Symbol('total-length');\n\tconst kCallback = Symbol('callback');\n\tconst kBuffers = Symbol('buffers');\n\tconst kError = Symbol('error');\n\n\t//\n\t// We limit zlib concurrency, which prevents severe memory fragmentation\n\t// as documented in https://github.com/nodejs/node/issues/8871#issuecomment-250915913\n\t// and https://github.com/websockets/ws/issues/1202\n\t//\n\t// Intentionally global; it's the global thread pool that's an issue.\n\t//\n\tlet zlibLimiter;\n\n\t/**\n\t * permessage-deflate implementation.\n\t */\n\tclass PerMessageDeflate {\n\t  /**\n\t   * Creates a PerMessageDeflate instance.\n\t   *\n\t   * @param {Object} [options] Configuration options\n\t   * @param {(Boolean|Number)} [options.clientMaxWindowBits] Advertise support\n\t   *     for, or request, a custom client window size\n\t   * @param {Boolean} [options.clientNoContextTakeover=false] Advertise/\n\t   *     acknowledge disabling of client context takeover\n\t   * @param {Number} [options.concurrencyLimit=10] The number of concurrent\n\t   *     calls to zlib\n\t   * @param {(Boolean|Number)} [options.serverMaxWindowBits] Request/confirm the\n\t   *     use of a custom server window size\n\t   * @param {Boolean} [options.serverNoContextTakeover=false] Request/accept\n\t   *     disabling of server context takeover\n\t   * @param {Number} [options.threshold=1024] Size (in bytes) below which\n\t   *     messages should not be compressed if context takeover is disabled\n\t   * @param {Object} [options.zlibDeflateOptions] Options to pass to zlib on\n\t   *     deflate\n\t   * @param {Object} [options.zlibInflateOptions] Options to pass to zlib on\n\t   *     inflate\n\t   * @param {Boolean} [isServer=false] Create the instance in either server or\n\t   *     client mode\n\t   * @param {Number} [maxPayload=0] The maximum allowed message length\n\t   */\n\t  constructor(options, isServer, maxPayload) {\n\t    this._maxPayload = maxPayload | 0;\n\t    this._options = options || {};\n\t    this._threshold =\n\t      this._options.threshold !== undefined ? this._options.threshold : 1024;\n\t    this._isServer = !!isServer;\n\t    this._deflate = null;\n\t    this._inflate = null;\n\n\t    this.params = null;\n\n\t    if (!zlibLimiter) {\n\t      const concurrency =\n\t        this._options.concurrencyLimit !== undefined\n\t          ? this._options.concurrencyLimit\n\t          : 10;\n\t      zlibLimiter = new Limiter(concurrency);\n\t    }\n\t  }\n\n\t  /**\n\t   * @type {String}\n\t   */\n\t  static get extensionName() {\n\t    return 'permessage-deflate';\n\t  }\n\n\t  /**\n\t   * Create an extension negotiation offer.\n\t   *\n\t   * @return {Object} Extension parameters\n\t   * @public\n\t   */\n\t  offer() {\n\t    const params = {};\n\n\t    if (this._options.serverNoContextTakeover) {\n\t      params.server_no_context_takeover = true;\n\t    }\n\t    if (this._options.clientNoContextTakeover) {\n\t      params.client_no_context_takeover = true;\n\t    }\n\t    if (this._options.serverMaxWindowBits) {\n\t      params.server_max_window_bits = this._options.serverMaxWindowBits;\n\t    }\n\t    if (this._options.clientMaxWindowBits) {\n\t      params.client_max_window_bits = this._options.clientMaxWindowBits;\n\t    } else if (this._options.clientMaxWindowBits == null) {\n\t      params.client_max_window_bits = true;\n\t    }\n\n\t    return params;\n\t  }\n\n\t  /**\n\t   * Accept an extension negotiation offer/response.\n\t   *\n\t   * @param {Array} configurations The extension negotiation offers/reponse\n\t   * @return {Object} Accepted configuration\n\t   * @public\n\t   */\n\t  accept(configurations) {\n\t    configurations = this.normalizeParams(configurations);\n\n\t    this.params = this._isServer\n\t      ? this.acceptAsServer(configurations)\n\t      : this.acceptAsClient(configurations);\n\n\t    return this.params;\n\t  }\n\n\t  /**\n\t   * Releases all resources used by the extension.\n\t   *\n\t   * @public\n\t   */\n\t  cleanup() {\n\t    if (this._inflate) {\n\t      this._inflate.close();\n\t      this._inflate = null;\n\t    }\n\n\t    if (this._deflate) {\n\t      const callback = this._deflate[kCallback];\n\n\t      this._deflate.close();\n\t      this._deflate = null;\n\n\t      if (callback) {\n\t        callback(\n\t          new Error(\n\t            'The deflate stream was closed while data was being processed'\n\t          )\n\t        );\n\t      }\n\t    }\n\t  }\n\n\t  /**\n\t   *  Accept an extension negotiation offer.\n\t   *\n\t   * @param {Array} offers The extension negotiation offers\n\t   * @return {Object} Accepted configuration\n\t   * @private\n\t   */\n\t  acceptAsServer(offers) {\n\t    const opts = this._options;\n\t    const accepted = offers.find((params) => {\n\t      if (\n\t        (opts.serverNoContextTakeover === false &&\n\t          params.server_no_context_takeover) ||\n\t        (params.server_max_window_bits &&\n\t          (opts.serverMaxWindowBits === false ||\n\t            (typeof opts.serverMaxWindowBits === 'number' &&\n\t              opts.serverMaxWindowBits > params.server_max_window_bits))) ||\n\t        (typeof opts.clientMaxWindowBits === 'number' &&\n\t          !params.client_max_window_bits)\n\t      ) {\n\t        return false;\n\t      }\n\n\t      return true;\n\t    });\n\n\t    if (!accepted) {\n\t      throw new Error('None of the extension offers can be accepted');\n\t    }\n\n\t    if (opts.serverNoContextTakeover) {\n\t      accepted.server_no_context_takeover = true;\n\t    }\n\t    if (opts.clientNoContextTakeover) {\n\t      accepted.client_no_context_takeover = true;\n\t    }\n\t    if (typeof opts.serverMaxWindowBits === 'number') {\n\t      accepted.server_max_window_bits = opts.serverMaxWindowBits;\n\t    }\n\t    if (typeof opts.clientMaxWindowBits === 'number') {\n\t      accepted.client_max_window_bits = opts.clientMaxWindowBits;\n\t    } else if (\n\t      accepted.client_max_window_bits === true ||\n\t      opts.clientMaxWindowBits === false\n\t    ) {\n\t      delete accepted.client_max_window_bits;\n\t    }\n\n\t    return accepted;\n\t  }\n\n\t  /**\n\t   * Accept the extension negotiation response.\n\t   *\n\t   * @param {Array} response The extension negotiation response\n\t   * @return {Object} Accepted configuration\n\t   * @private\n\t   */\n\t  acceptAsClient(response) {\n\t    const params = response[0];\n\n\t    if (\n\t      this._options.clientNoContextTakeover === false &&\n\t      params.client_no_context_takeover\n\t    ) {\n\t      throw new Error('Unexpected parameter \"client_no_context_takeover\"');\n\t    }\n\n\t    if (!params.client_max_window_bits) {\n\t      if (typeof this._options.clientMaxWindowBits === 'number') {\n\t        params.client_max_window_bits = this._options.clientMaxWindowBits;\n\t      }\n\t    } else if (\n\t      this._options.clientMaxWindowBits === false ||\n\t      (typeof this._options.clientMaxWindowBits === 'number' &&\n\t        params.client_max_window_bits > this._options.clientMaxWindowBits)\n\t    ) {\n\t      throw new Error(\n\t        'Unexpected or invalid parameter \"client_max_window_bits\"'\n\t      );\n\t    }\n\n\t    return params;\n\t  }\n\n\t  /**\n\t   * Normalize parameters.\n\t   *\n\t   * @param {Array} configurations The extension negotiation offers/reponse\n\t   * @return {Array} The offers/response with normalized parameters\n\t   * @private\n\t   */\n\t  normalizeParams(configurations) {\n\t    configurations.forEach((params) => {\n\t      Object.keys(params).forEach((key) => {\n\t        let value = params[key];\n\n\t        if (value.length > 1) {\n\t          throw new Error(`Parameter \"${key}\" must have only a single value`);\n\t        }\n\n\t        value = value[0];\n\n\t        if (key === 'client_max_window_bits') {\n\t          if (value !== true) {\n\t            const num = +value;\n\t            if (!Number.isInteger(num) || num < 8 || num > 15) {\n\t              throw new TypeError(\n\t                `Invalid value for parameter \"${key}\": ${value}`\n\t              );\n\t            }\n\t            value = num;\n\t          } else if (!this._isServer) {\n\t            throw new TypeError(\n\t              `Invalid value for parameter \"${key}\": ${value}`\n\t            );\n\t          }\n\t        } else if (key === 'server_max_window_bits') {\n\t          const num = +value;\n\t          if (!Number.isInteger(num) || num < 8 || num > 15) {\n\t            throw new TypeError(\n\t              `Invalid value for parameter \"${key}\": ${value}`\n\t            );\n\t          }\n\t          value = num;\n\t        } else if (\n\t          key === 'client_no_context_takeover' ||\n\t          key === 'server_no_context_takeover'\n\t        ) {\n\t          if (value !== true) {\n\t            throw new TypeError(\n\t              `Invalid value for parameter \"${key}\": ${value}`\n\t            );\n\t          }\n\t        } else {\n\t          throw new Error(`Unknown parameter \"${key}\"`);\n\t        }\n\n\t        params[key] = value;\n\t      });\n\t    });\n\n\t    return configurations;\n\t  }\n\n\t  /**\n\t   * Decompress data. Concurrency limited.\n\t   *\n\t   * @param {Buffer} data Compressed data\n\t   * @param {Boolean} fin Specifies whether or not this is the last fragment\n\t   * @param {Function} callback Callback\n\t   * @public\n\t   */\n\t  decompress(data, fin, callback) {\n\t    zlibLimiter.add((done) => {\n\t      this._decompress(data, fin, (err, result) => {\n\t        done();\n\t        callback(err, result);\n\t      });\n\t    });\n\t  }\n\n\t  /**\n\t   * Compress data. Concurrency limited.\n\t   *\n\t   * @param {(Buffer|String)} data Data to compress\n\t   * @param {Boolean} fin Specifies whether or not this is the last fragment\n\t   * @param {Function} callback Callback\n\t   * @public\n\t   */\n\t  compress(data, fin, callback) {\n\t    zlibLimiter.add((done) => {\n\t      this._compress(data, fin, (err, result) => {\n\t        done();\n\t        callback(err, result);\n\t      });\n\t    });\n\t  }\n\n\t  /**\n\t   * Decompress data.\n\t   *\n\t   * @param {Buffer} data Compressed data\n\t   * @param {Boolean} fin Specifies whether or not this is the last fragment\n\t   * @param {Function} callback Callback\n\t   * @private\n\t   */\n\t  _decompress(data, fin, callback) {\n\t    const endpoint = this._isServer ? 'client' : 'server';\n\n\t    if (!this._inflate) {\n\t      const key = `${endpoint}_max_window_bits`;\n\t      const windowBits =\n\t        typeof this.params[key] !== 'number'\n\t          ? zlib.Z_DEFAULT_WINDOWBITS\n\t          : this.params[key];\n\n\t      this._inflate = zlib.createInflateRaw({\n\t        ...this._options.zlibInflateOptions,\n\t        windowBits\n\t      });\n\t      this._inflate[kPerMessageDeflate] = this;\n\t      this._inflate[kTotalLength] = 0;\n\t      this._inflate[kBuffers] = [];\n\t      this._inflate.on('error', inflateOnError);\n\t      this._inflate.on('data', inflateOnData);\n\t    }\n\n\t    this._inflate[kCallback] = callback;\n\n\t    this._inflate.write(data);\n\t    if (fin) this._inflate.write(TRAILER);\n\n\t    this._inflate.flush(() => {\n\t      const err = this._inflate[kError];\n\n\t      if (err) {\n\t        this._inflate.close();\n\t        this._inflate = null;\n\t        callback(err);\n\t        return;\n\t      }\n\n\t      const data = bufferUtil.concat(\n\t        this._inflate[kBuffers],\n\t        this._inflate[kTotalLength]\n\t      );\n\n\t      if (this._inflate._readableState.endEmitted) {\n\t        this._inflate.close();\n\t        this._inflate = null;\n\t      } else {\n\t        this._inflate[kTotalLength] = 0;\n\t        this._inflate[kBuffers] = [];\n\n\t        if (fin && this.params[`${endpoint}_no_context_takeover`]) {\n\t          this._inflate.reset();\n\t        }\n\t      }\n\n\t      callback(null, data);\n\t    });\n\t  }\n\n\t  /**\n\t   * Compress data.\n\t   *\n\t   * @param {(Buffer|String)} data Data to compress\n\t   * @param {Boolean} fin Specifies whether or not this is the last fragment\n\t   * @param {Function} callback Callback\n\t   * @private\n\t   */\n\t  _compress(data, fin, callback) {\n\t    const endpoint = this._isServer ? 'server' : 'client';\n\n\t    if (!this._deflate) {\n\t      const key = `${endpoint}_max_window_bits`;\n\t      const windowBits =\n\t        typeof this.params[key] !== 'number'\n\t          ? zlib.Z_DEFAULT_WINDOWBITS\n\t          : this.params[key];\n\n\t      this._deflate = zlib.createDeflateRaw({\n\t        ...this._options.zlibDeflateOptions,\n\t        windowBits\n\t      });\n\n\t      this._deflate[kTotalLength] = 0;\n\t      this._deflate[kBuffers] = [];\n\n\t      this._deflate.on('data', deflateOnData);\n\t    }\n\n\t    this._deflate[kCallback] = callback;\n\n\t    this._deflate.write(data);\n\t    this._deflate.flush(zlib.Z_SYNC_FLUSH, () => {\n\t      if (!this._deflate) {\n\t        //\n\t        // The deflate stream was closed while data was being processed.\n\t        //\n\t        return;\n\t      }\n\n\t      let data = bufferUtil.concat(\n\t        this._deflate[kBuffers],\n\t        this._deflate[kTotalLength]\n\t      );\n\n\t      if (fin) {\n\t        data = new FastBuffer(data.buffer, data.byteOffset, data.length - 4);\n\t      }\n\n\t      //\n\t      // Ensure that the callback will not be called again in\n\t      // `PerMessageDeflate#cleanup()`.\n\t      //\n\t      this._deflate[kCallback] = null;\n\n\t      this._deflate[kTotalLength] = 0;\n\t      this._deflate[kBuffers] = [];\n\n\t      if (fin && this.params[`${endpoint}_no_context_takeover`]) {\n\t        this._deflate.reset();\n\t      }\n\n\t      callback(null, data);\n\t    });\n\t  }\n\t}\n\n\tpermessageDeflate = PerMessageDeflate;\n\n\t/**\n\t * The listener of the `zlib.DeflateRaw` stream `'data'` event.\n\t *\n\t * @param {Buffer} chunk A chunk of data\n\t * @private\n\t */\n\tfunction deflateOnData(chunk) {\n\t  this[kBuffers].push(chunk);\n\t  this[kTotalLength] += chunk.length;\n\t}\n\n\t/**\n\t * The listener of the `zlib.InflateRaw` stream `'data'` event.\n\t *\n\t * @param {Buffer} chunk A chunk of data\n\t * @private\n\t */\n\tfunction inflateOnData(chunk) {\n\t  this[kTotalLength] += chunk.length;\n\n\t  if (\n\t    this[kPerMessageDeflate]._maxPayload < 1 ||\n\t    this[kTotalLength] <= this[kPerMessageDeflate]._maxPayload\n\t  ) {\n\t    this[kBuffers].push(chunk);\n\t    return;\n\t  }\n\n\t  this[kError] = new RangeError('Max payload size exceeded');\n\t  this[kError].code = 'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH';\n\t  this[kError][kStatusCode] = 1009;\n\t  this.removeListener('data', inflateOnData);\n\n\t  //\n\t  // The choice to employ `zlib.reset()` over `zlib.close()` is dictated by the\n\t  // fact that in Node.js versions prior to 13.10.0, the callback for\n\t  // `zlib.flush()` is not called if `zlib.close()` is used. Utilizing\n\t  // `zlib.reset()` ensures that either the callback is invoked or an error is\n\t  // emitted.\n\t  //\n\t  this.reset();\n\t}\n\n\t/**\n\t * The listener of the `zlib.InflateRaw` stream `'error'` event.\n\t *\n\t * @param {Error} err The emitted error\n\t * @private\n\t */\n\tfunction inflateOnError(err) {\n\t  //\n\t  // There is no need to call `Zlib#close()` as the handle is automatically\n\t  // closed when an error is emitted.\n\t  //\n\t  this[kPerMessageDeflate]._inflate = null;\n\n\t  if (this[kError]) {\n\t    this[kCallback](this[kError]);\n\t    return;\n\t  }\n\n\t  err[kStatusCode] = 1007;\n\t  this[kCallback](err);\n\t}\n\treturn permessageDeflate;\n}\n\nvar validation = {exports: {}};\n\nvar hasRequiredValidation;\n\nfunction requireValidation () {\n\tif (hasRequiredValidation) return validation.exports;\n\thasRequiredValidation = 1;\n\n\tconst { isUtf8 } = require$$0$1;\n\n\tconst { hasBlob } = requireConstants();\n\n\t//\n\t// Allowed token characters:\n\t//\n\t// '!', '#', '$', '%', '&', ''', '*', '+', '-',\n\t// '.', 0-9, A-Z, '^', '_', '`', a-z, '|', '~'\n\t//\n\t// tokenChars[32] === 0 // ' '\n\t// tokenChars[33] === 1 // '!'\n\t// tokenChars[34] === 0 // '\"'\n\t// ...\n\t//\n\t// prettier-ignore\n\tconst tokenChars = [\n\t  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 0 - 15\n\t  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 16 - 31\n\t  0, 1, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 1, 1, 0, // 32 - 47\n\t  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, // 48 - 63\n\t  0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 64 - 79\n\t  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, // 80 - 95\n\t  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 96 - 111\n\t  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0 // 112 - 127\n\t];\n\n\t/**\n\t * Checks if a status code is allowed in a close frame.\n\t *\n\t * @param {Number} code The status code\n\t * @return {Boolean} `true` if the status code is valid, else `false`\n\t * @public\n\t */\n\tfunction isValidStatusCode(code) {\n\t  return (\n\t    (code >= 1000 &&\n\t      code <= 1014 &&\n\t      code !== 1004 &&\n\t      code !== 1005 &&\n\t      code !== 1006) ||\n\t    (code >= 3000 && code <= 4999)\n\t  );\n\t}\n\n\t/**\n\t * Checks if a given buffer contains only correct UTF-8.\n\t * Ported from https://www.cl.cam.ac.uk/%7Emgk25/ucs/utf8_check.c by\n\t * Markus Kuhn.\n\t *\n\t * @param {Buffer} buf The buffer to check\n\t * @return {Boolean} `true` if `buf` contains only correct UTF-8, else `false`\n\t * @public\n\t */\n\tfunction _isValidUTF8(buf) {\n\t  const len = buf.length;\n\t  let i = 0;\n\n\t  while (i < len) {\n\t    if ((buf[i] & 0x80) === 0) {\n\t      // 0xxxxxxx\n\t      i++;\n\t    } else if ((buf[i] & 0xe0) === 0xc0) {\n\t      // 110xxxxx 10xxxxxx\n\t      if (\n\t        i + 1 === len ||\n\t        (buf[i + 1] & 0xc0) !== 0x80 ||\n\t        (buf[i] & 0xfe) === 0xc0 // Overlong\n\t      ) {\n\t        return false;\n\t      }\n\n\t      i += 2;\n\t    } else if ((buf[i] & 0xf0) === 0xe0) {\n\t      // 1110xxxx 10xxxxxx 10xxxxxx\n\t      if (\n\t        i + 2 >= len ||\n\t        (buf[i + 1] & 0xc0) !== 0x80 ||\n\t        (buf[i + 2] & 0xc0) !== 0x80 ||\n\t        (buf[i] === 0xe0 && (buf[i + 1] & 0xe0) === 0x80) || // Overlong\n\t        (buf[i] === 0xed && (buf[i + 1] & 0xe0) === 0xa0) // Surrogate (U+D800 - U+DFFF)\n\t      ) {\n\t        return false;\n\t      }\n\n\t      i += 3;\n\t    } else if ((buf[i] & 0xf8) === 0xf0) {\n\t      // 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx\n\t      if (\n\t        i + 3 >= len ||\n\t        (buf[i + 1] & 0xc0) !== 0x80 ||\n\t        (buf[i + 2] & 0xc0) !== 0x80 ||\n\t        (buf[i + 3] & 0xc0) !== 0x80 ||\n\t        (buf[i] === 0xf0 && (buf[i + 1] & 0xf0) === 0x80) || // Overlong\n\t        (buf[i] === 0xf4 && buf[i + 1] > 0x8f) ||\n\t        buf[i] > 0xf4 // > U+10FFFF\n\t      ) {\n\t        return false;\n\t      }\n\n\t      i += 4;\n\t    } else {\n\t      return false;\n\t    }\n\t  }\n\n\t  return true;\n\t}\n\n\t/**\n\t * Determines whether a value is a `Blob`.\n\t *\n\t * @param {*} value The value to be tested\n\t * @return {Boolean} `true` if `value` is a `Blob`, else `false`\n\t * @private\n\t */\n\tfunction isBlob(value) {\n\t  return (\n\t    hasBlob &&\n\t    typeof value === 'object' &&\n\t    typeof value.arrayBuffer === 'function' &&\n\t    typeof value.type === 'string' &&\n\t    typeof value.stream === 'function' &&\n\t    (value[Symbol.toStringTag] === 'Blob' ||\n\t      value[Symbol.toStringTag] === 'File')\n\t  );\n\t}\n\n\tvalidation.exports = {\n\t  isBlob,\n\t  isValidStatusCode,\n\t  isValidUTF8: _isValidUTF8,\n\t  tokenChars\n\t};\n\n\tif (isUtf8) {\n\t  validation.exports.isValidUTF8 = function (buf) {\n\t    return buf.length < 24 ? _isValidUTF8(buf) : isUtf8(buf);\n\t  };\n\t} /* istanbul ignore else  */ else if (!process.env.WS_NO_UTF_8_VALIDATE) {\n\t  try {\n\t    const isValidUTF8 = require('utf-8-validate');\n\n\t    validation.exports.isValidUTF8 = function (buf) {\n\t      return buf.length < 32 ? _isValidUTF8(buf) : isValidUTF8(buf);\n\t    };\n\t  } catch (e) {\n\t    // Continue regardless of the error.\n\t  }\n\t}\n\treturn validation.exports;\n}\n\nvar receiver;\nvar hasRequiredReceiver;\n\nfunction requireReceiver () {\n\tif (hasRequiredReceiver) return receiver;\n\thasRequiredReceiver = 1;\n\n\tconst { Writable } = require$$0$2;\n\n\tconst PerMessageDeflate = requirePermessageDeflate();\n\tconst {\n\t  BINARY_TYPES,\n\t  EMPTY_BUFFER,\n\t  kStatusCode,\n\t  kWebSocket\n\t} = requireConstants();\n\tconst { concat, toArrayBuffer, unmask } = requireBufferUtil();\n\tconst { isValidStatusCode, isValidUTF8 } = requireValidation();\n\n\tconst FastBuffer = Buffer[Symbol.species];\n\n\tconst GET_INFO = 0;\n\tconst GET_PAYLOAD_LENGTH_16 = 1;\n\tconst GET_PAYLOAD_LENGTH_64 = 2;\n\tconst GET_MASK = 3;\n\tconst GET_DATA = 4;\n\tconst INFLATING = 5;\n\tconst DEFER_EVENT = 6;\n\n\t/**\n\t * HyBi Receiver implementation.\n\t *\n\t * @extends Writable\n\t */\n\tclass Receiver extends Writable {\n\t  /**\n\t   * Creates a Receiver instance.\n\t   *\n\t   * @param {Object} [options] Options object\n\t   * @param {Boolean} [options.allowSynchronousEvents=true] Specifies whether\n\t   *     any of the `'message'`, `'ping'`, and `'pong'` events can be emitted\n\t   *     multiple times in the same tick\n\t   * @param {String} [options.binaryType=nodebuffer] The type for binary data\n\t   * @param {Object} [options.extensions] An object containing the negotiated\n\t   *     extensions\n\t   * @param {Boolean} [options.isServer=false] Specifies whether to operate in\n\t   *     client or server mode\n\t   * @param {Number} [options.maxPayload=0] The maximum allowed message length\n\t   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n\t   *     not to skip UTF-8 validation for text and close messages\n\t   */\n\t  constructor(options = {}) {\n\t    super();\n\n\t    this._allowSynchronousEvents =\n\t      options.allowSynchronousEvents !== undefined\n\t        ? options.allowSynchronousEvents\n\t        : true;\n\t    this._binaryType = options.binaryType || BINARY_TYPES[0];\n\t    this._extensions = options.extensions || {};\n\t    this._isServer = !!options.isServer;\n\t    this._maxPayload = options.maxPayload | 0;\n\t    this._skipUTF8Validation = !!options.skipUTF8Validation;\n\t    this[kWebSocket] = undefined;\n\n\t    this._bufferedBytes = 0;\n\t    this._buffers = [];\n\n\t    this._compressed = false;\n\t    this._payloadLength = 0;\n\t    this._mask = undefined;\n\t    this._fragmented = 0;\n\t    this._masked = false;\n\t    this._fin = false;\n\t    this._opcode = 0;\n\n\t    this._totalPayloadLength = 0;\n\t    this._messageLength = 0;\n\t    this._fragments = [];\n\n\t    this._errored = false;\n\t    this._loop = false;\n\t    this._state = GET_INFO;\n\t  }\n\n\t  /**\n\t   * Implements `Writable.prototype._write()`.\n\t   *\n\t   * @param {Buffer} chunk The chunk of data to write\n\t   * @param {String} encoding The character encoding of `chunk`\n\t   * @param {Function} cb Callback\n\t   * @private\n\t   */\n\t  _write(chunk, encoding, cb) {\n\t    if (this._opcode === 0x08 && this._state == GET_INFO) return cb();\n\n\t    this._bufferedBytes += chunk.length;\n\t    this._buffers.push(chunk);\n\t    this.startLoop(cb);\n\t  }\n\n\t  /**\n\t   * Consumes `n` bytes from the buffered data.\n\t   *\n\t   * @param {Number} n The number of bytes to consume\n\t   * @return {Buffer} The consumed bytes\n\t   * @private\n\t   */\n\t  consume(n) {\n\t    this._bufferedBytes -= n;\n\n\t    if (n === this._buffers[0].length) return this._buffers.shift();\n\n\t    if (n < this._buffers[0].length) {\n\t      const buf = this._buffers[0];\n\t      this._buffers[0] = new FastBuffer(\n\t        buf.buffer,\n\t        buf.byteOffset + n,\n\t        buf.length - n\n\t      );\n\n\t      return new FastBuffer(buf.buffer, buf.byteOffset, n);\n\t    }\n\n\t    const dst = Buffer.allocUnsafe(n);\n\n\t    do {\n\t      const buf = this._buffers[0];\n\t      const offset = dst.length - n;\n\n\t      if (n >= buf.length) {\n\t        dst.set(this._buffers.shift(), offset);\n\t      } else {\n\t        dst.set(new Uint8Array(buf.buffer, buf.byteOffset, n), offset);\n\t        this._buffers[0] = new FastBuffer(\n\t          buf.buffer,\n\t          buf.byteOffset + n,\n\t          buf.length - n\n\t        );\n\t      }\n\n\t      n -= buf.length;\n\t    } while (n > 0);\n\n\t    return dst;\n\t  }\n\n\t  /**\n\t   * Starts the parsing loop.\n\t   *\n\t   * @param {Function} cb Callback\n\t   * @private\n\t   */\n\t  startLoop(cb) {\n\t    this._loop = true;\n\n\t    do {\n\t      switch (this._state) {\n\t        case GET_INFO:\n\t          this.getInfo(cb);\n\t          break;\n\t        case GET_PAYLOAD_LENGTH_16:\n\t          this.getPayloadLength16(cb);\n\t          break;\n\t        case GET_PAYLOAD_LENGTH_64:\n\t          this.getPayloadLength64(cb);\n\t          break;\n\t        case GET_MASK:\n\t          this.getMask();\n\t          break;\n\t        case GET_DATA:\n\t          this.getData(cb);\n\t          break;\n\t        case INFLATING:\n\t        case DEFER_EVENT:\n\t          this._loop = false;\n\t          return;\n\t      }\n\t    } while (this._loop);\n\n\t    if (!this._errored) cb();\n\t  }\n\n\t  /**\n\t   * Reads the first two bytes of a frame.\n\t   *\n\t   * @param {Function} cb Callback\n\t   * @private\n\t   */\n\t  getInfo(cb) {\n\t    if (this._bufferedBytes < 2) {\n\t      this._loop = false;\n\t      return;\n\t    }\n\n\t    const buf = this.consume(2);\n\n\t    if ((buf[0] & 0x30) !== 0x00) {\n\t      const error = this.createError(\n\t        RangeError,\n\t        'RSV2 and RSV3 must be clear',\n\t        true,\n\t        1002,\n\t        'WS_ERR_UNEXPECTED_RSV_2_3'\n\t      );\n\n\t      cb(error);\n\t      return;\n\t    }\n\n\t    const compressed = (buf[0] & 0x40) === 0x40;\n\n\t    if (compressed && !this._extensions[PerMessageDeflate.extensionName]) {\n\t      const error = this.createError(\n\t        RangeError,\n\t        'RSV1 must be clear',\n\t        true,\n\t        1002,\n\t        'WS_ERR_UNEXPECTED_RSV_1'\n\t      );\n\n\t      cb(error);\n\t      return;\n\t    }\n\n\t    this._fin = (buf[0] & 0x80) === 0x80;\n\t    this._opcode = buf[0] & 0x0f;\n\t    this._payloadLength = buf[1] & 0x7f;\n\n\t    if (this._opcode === 0x00) {\n\t      if (compressed) {\n\t        const error = this.createError(\n\t          RangeError,\n\t          'RSV1 must be clear',\n\t          true,\n\t          1002,\n\t          'WS_ERR_UNEXPECTED_RSV_1'\n\t        );\n\n\t        cb(error);\n\t        return;\n\t      }\n\n\t      if (!this._fragmented) {\n\t        const error = this.createError(\n\t          RangeError,\n\t          'invalid opcode 0',\n\t          true,\n\t          1002,\n\t          'WS_ERR_INVALID_OPCODE'\n\t        );\n\n\t        cb(error);\n\t        return;\n\t      }\n\n\t      this._opcode = this._fragmented;\n\t    } else if (this._opcode === 0x01 || this._opcode === 0x02) {\n\t      if (this._fragmented) {\n\t        const error = this.createError(\n\t          RangeError,\n\t          `invalid opcode ${this._opcode}`,\n\t          true,\n\t          1002,\n\t          'WS_ERR_INVALID_OPCODE'\n\t        );\n\n\t        cb(error);\n\t        return;\n\t      }\n\n\t      this._compressed = compressed;\n\t    } else if (this._opcode > 0x07 && this._opcode < 0x0b) {\n\t      if (!this._fin) {\n\t        const error = this.createError(\n\t          RangeError,\n\t          'FIN must be set',\n\t          true,\n\t          1002,\n\t          'WS_ERR_EXPECTED_FIN'\n\t        );\n\n\t        cb(error);\n\t        return;\n\t      }\n\n\t      if (compressed) {\n\t        const error = this.createError(\n\t          RangeError,\n\t          'RSV1 must be clear',\n\t          true,\n\t          1002,\n\t          'WS_ERR_UNEXPECTED_RSV_1'\n\t        );\n\n\t        cb(error);\n\t        return;\n\t      }\n\n\t      if (\n\t        this._payloadLength > 0x7d ||\n\t        (this._opcode === 0x08 && this._payloadLength === 1)\n\t      ) {\n\t        const error = this.createError(\n\t          RangeError,\n\t          `invalid payload length ${this._payloadLength}`,\n\t          true,\n\t          1002,\n\t          'WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH'\n\t        );\n\n\t        cb(error);\n\t        return;\n\t      }\n\t    } else {\n\t      const error = this.createError(\n\t        RangeError,\n\t        `invalid opcode ${this._opcode}`,\n\t        true,\n\t        1002,\n\t        'WS_ERR_INVALID_OPCODE'\n\t      );\n\n\t      cb(error);\n\t      return;\n\t    }\n\n\t    if (!this._fin && !this._fragmented) this._fragmented = this._opcode;\n\t    this._masked = (buf[1] & 0x80) === 0x80;\n\n\t    if (this._isServer) {\n\t      if (!this._masked) {\n\t        const error = this.createError(\n\t          RangeError,\n\t          'MASK must be set',\n\t          true,\n\t          1002,\n\t          'WS_ERR_EXPECTED_MASK'\n\t        );\n\n\t        cb(error);\n\t        return;\n\t      }\n\t    } else if (this._masked) {\n\t      const error = this.createError(\n\t        RangeError,\n\t        'MASK must be clear',\n\t        true,\n\t        1002,\n\t        'WS_ERR_UNEXPECTED_MASK'\n\t      );\n\n\t      cb(error);\n\t      return;\n\t    }\n\n\t    if (this._payloadLength === 126) this._state = GET_PAYLOAD_LENGTH_16;\n\t    else if (this._payloadLength === 127) this._state = GET_PAYLOAD_LENGTH_64;\n\t    else this.haveLength(cb);\n\t  }\n\n\t  /**\n\t   * Gets extended payload length (7+16).\n\t   *\n\t   * @param {Function} cb Callback\n\t   * @private\n\t   */\n\t  getPayloadLength16(cb) {\n\t    if (this._bufferedBytes < 2) {\n\t      this._loop = false;\n\t      return;\n\t    }\n\n\t    this._payloadLength = this.consume(2).readUInt16BE(0);\n\t    this.haveLength(cb);\n\t  }\n\n\t  /**\n\t   * Gets extended payload length (7+64).\n\t   *\n\t   * @param {Function} cb Callback\n\t   * @private\n\t   */\n\t  getPayloadLength64(cb) {\n\t    if (this._bufferedBytes < 8) {\n\t      this._loop = false;\n\t      return;\n\t    }\n\n\t    const buf = this.consume(8);\n\t    const num = buf.readUInt32BE(0);\n\n\t    //\n\t    // The maximum safe integer in JavaScript is 2^53 - 1. An error is returned\n\t    // if payload length is greater than this number.\n\t    //\n\t    if (num > Math.pow(2, 53 - 32) - 1) {\n\t      const error = this.createError(\n\t        RangeError,\n\t        'Unsupported WebSocket frame: payload length > 2^53 - 1',\n\t        false,\n\t        1009,\n\t        'WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH'\n\t      );\n\n\t      cb(error);\n\t      return;\n\t    }\n\n\t    this._payloadLength = num * Math.pow(2, 32) + buf.readUInt32BE(4);\n\t    this.haveLength(cb);\n\t  }\n\n\t  /**\n\t   * Payload length has been read.\n\t   *\n\t   * @param {Function} cb Callback\n\t   * @private\n\t   */\n\t  haveLength(cb) {\n\t    if (this._payloadLength && this._opcode < 0x08) {\n\t      this._totalPayloadLength += this._payloadLength;\n\t      if (this._totalPayloadLength > this._maxPayload && this._maxPayload > 0) {\n\t        const error = this.createError(\n\t          RangeError,\n\t          'Max payload size exceeded',\n\t          false,\n\t          1009,\n\t          'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH'\n\t        );\n\n\t        cb(error);\n\t        return;\n\t      }\n\t    }\n\n\t    if (this._masked) this._state = GET_MASK;\n\t    else this._state = GET_DATA;\n\t  }\n\n\t  /**\n\t   * Reads mask bytes.\n\t   *\n\t   * @private\n\t   */\n\t  getMask() {\n\t    if (this._bufferedBytes < 4) {\n\t      this._loop = false;\n\t      return;\n\t    }\n\n\t    this._mask = this.consume(4);\n\t    this._state = GET_DATA;\n\t  }\n\n\t  /**\n\t   * Reads data bytes.\n\t   *\n\t   * @param {Function} cb Callback\n\t   * @private\n\t   */\n\t  getData(cb) {\n\t    let data = EMPTY_BUFFER;\n\n\t    if (this._payloadLength) {\n\t      if (this._bufferedBytes < this._payloadLength) {\n\t        this._loop = false;\n\t        return;\n\t      }\n\n\t      data = this.consume(this._payloadLength);\n\n\t      if (\n\t        this._masked &&\n\t        (this._mask[0] | this._mask[1] | this._mask[2] | this._mask[3]) !== 0\n\t      ) {\n\t        unmask(data, this._mask);\n\t      }\n\t    }\n\n\t    if (this._opcode > 0x07) {\n\t      this.controlMessage(data, cb);\n\t      return;\n\t    }\n\n\t    if (this._compressed) {\n\t      this._state = INFLATING;\n\t      this.decompress(data, cb);\n\t      return;\n\t    }\n\n\t    if (data.length) {\n\t      //\n\t      // This message is not compressed so its length is the sum of the payload\n\t      // length of all fragments.\n\t      //\n\t      this._messageLength = this._totalPayloadLength;\n\t      this._fragments.push(data);\n\t    }\n\n\t    this.dataMessage(cb);\n\t  }\n\n\t  /**\n\t   * Decompresses data.\n\t   *\n\t   * @param {Buffer} data Compressed data\n\t   * @param {Function} cb Callback\n\t   * @private\n\t   */\n\t  decompress(data, cb) {\n\t    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n\n\t    perMessageDeflate.decompress(data, this._fin, (err, buf) => {\n\t      if (err) return cb(err);\n\n\t      if (buf.length) {\n\t        this._messageLength += buf.length;\n\t        if (this._messageLength > this._maxPayload && this._maxPayload > 0) {\n\t          const error = this.createError(\n\t            RangeError,\n\t            'Max payload size exceeded',\n\t            false,\n\t            1009,\n\t            'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH'\n\t          );\n\n\t          cb(error);\n\t          return;\n\t        }\n\n\t        this._fragments.push(buf);\n\t      }\n\n\t      this.dataMessage(cb);\n\t      if (this._state === GET_INFO) this.startLoop(cb);\n\t    });\n\t  }\n\n\t  /**\n\t   * Handles a data message.\n\t   *\n\t   * @param {Function} cb Callback\n\t   * @private\n\t   */\n\t  dataMessage(cb) {\n\t    if (!this._fin) {\n\t      this._state = GET_INFO;\n\t      return;\n\t    }\n\n\t    const messageLength = this._messageLength;\n\t    const fragments = this._fragments;\n\n\t    this._totalPayloadLength = 0;\n\t    this._messageLength = 0;\n\t    this._fragmented = 0;\n\t    this._fragments = [];\n\n\t    if (this._opcode === 2) {\n\t      let data;\n\n\t      if (this._binaryType === 'nodebuffer') {\n\t        data = concat(fragments, messageLength);\n\t      } else if (this._binaryType === 'arraybuffer') {\n\t        data = toArrayBuffer(concat(fragments, messageLength));\n\t      } else if (this._binaryType === 'blob') {\n\t        data = new Blob(fragments);\n\t      } else {\n\t        data = fragments;\n\t      }\n\n\t      if (this._allowSynchronousEvents) {\n\t        this.emit('message', data, true);\n\t        this._state = GET_INFO;\n\t      } else {\n\t        this._state = DEFER_EVENT;\n\t        setImmediate(() => {\n\t          this.emit('message', data, true);\n\t          this._state = GET_INFO;\n\t          this.startLoop(cb);\n\t        });\n\t      }\n\t    } else {\n\t      const buf = concat(fragments, messageLength);\n\n\t      if (!this._skipUTF8Validation && !isValidUTF8(buf)) {\n\t        const error = this.createError(\n\t          Error,\n\t          'invalid UTF-8 sequence',\n\t          true,\n\t          1007,\n\t          'WS_ERR_INVALID_UTF8'\n\t        );\n\n\t        cb(error);\n\t        return;\n\t      }\n\n\t      if (this._state === INFLATING || this._allowSynchronousEvents) {\n\t        this.emit('message', buf, false);\n\t        this._state = GET_INFO;\n\t      } else {\n\t        this._state = DEFER_EVENT;\n\t        setImmediate(() => {\n\t          this.emit('message', buf, false);\n\t          this._state = GET_INFO;\n\t          this.startLoop(cb);\n\t        });\n\t      }\n\t    }\n\t  }\n\n\t  /**\n\t   * Handles a control message.\n\t   *\n\t   * @param {Buffer} data Data to handle\n\t   * @return {(Error|RangeError|undefined)} A possible error\n\t   * @private\n\t   */\n\t  controlMessage(data, cb) {\n\t    if (this._opcode === 0x08) {\n\t      if (data.length === 0) {\n\t        this._loop = false;\n\t        this.emit('conclude', 1005, EMPTY_BUFFER);\n\t        this.end();\n\t      } else {\n\t        const code = data.readUInt16BE(0);\n\n\t        if (!isValidStatusCode(code)) {\n\t          const error = this.createError(\n\t            RangeError,\n\t            `invalid status code ${code}`,\n\t            true,\n\t            1002,\n\t            'WS_ERR_INVALID_CLOSE_CODE'\n\t          );\n\n\t          cb(error);\n\t          return;\n\t        }\n\n\t        const buf = new FastBuffer(\n\t          data.buffer,\n\t          data.byteOffset + 2,\n\t          data.length - 2\n\t        );\n\n\t        if (!this._skipUTF8Validation && !isValidUTF8(buf)) {\n\t          const error = this.createError(\n\t            Error,\n\t            'invalid UTF-8 sequence',\n\t            true,\n\t            1007,\n\t            'WS_ERR_INVALID_UTF8'\n\t          );\n\n\t          cb(error);\n\t          return;\n\t        }\n\n\t        this._loop = false;\n\t        this.emit('conclude', code, buf);\n\t        this.end();\n\t      }\n\n\t      this._state = GET_INFO;\n\t      return;\n\t    }\n\n\t    if (this._allowSynchronousEvents) {\n\t      this.emit(this._opcode === 0x09 ? 'ping' : 'pong', data);\n\t      this._state = GET_INFO;\n\t    } else {\n\t      this._state = DEFER_EVENT;\n\t      setImmediate(() => {\n\t        this.emit(this._opcode === 0x09 ? 'ping' : 'pong', data);\n\t        this._state = GET_INFO;\n\t        this.startLoop(cb);\n\t      });\n\t    }\n\t  }\n\n\t  /**\n\t   * Builds an error object.\n\t   *\n\t   * @param {function(new:Error|RangeError)} ErrorCtor The error constructor\n\t   * @param {String} message The error message\n\t   * @param {Boolean} prefix Specifies whether or not to add a default prefix to\n\t   *     `message`\n\t   * @param {Number} statusCode The status code\n\t   * @param {String} errorCode The exposed error code\n\t   * @return {(Error|RangeError)} The error\n\t   * @private\n\t   */\n\t  createError(ErrorCtor, message, prefix, statusCode, errorCode) {\n\t    this._loop = false;\n\t    this._errored = true;\n\n\t    const err = new ErrorCtor(\n\t      prefix ? `Invalid WebSocket frame: ${message}` : message\n\t    );\n\n\t    Error.captureStackTrace(err, this.createError);\n\t    err.code = errorCode;\n\t    err[kStatusCode] = statusCode;\n\t    return err;\n\t  }\n\t}\n\n\treceiver = Receiver;\n\treturn receiver;\n}\n\n/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^Duplex\" }] */\n\nvar sender;\nvar hasRequiredSender;\n\nfunction requireSender () {\n\tif (hasRequiredSender) return sender;\n\thasRequiredSender = 1;\n\n\tconst { Duplex } = require$$0$2;\n\tconst { randomFillSync } = require$$1;\n\n\tconst PerMessageDeflate = requirePermessageDeflate();\n\tconst { EMPTY_BUFFER, kWebSocket, NOOP } = requireConstants();\n\tconst { isBlob, isValidStatusCode } = requireValidation();\n\tconst { mask: applyMask, toBuffer } = requireBufferUtil();\n\n\tconst kByteLength = Symbol('kByteLength');\n\tconst maskBuffer = Buffer.alloc(4);\n\tconst RANDOM_POOL_SIZE = 8 * 1024;\n\tlet randomPool;\n\tlet randomPoolPointer = RANDOM_POOL_SIZE;\n\n\tconst DEFAULT = 0;\n\tconst DEFLATING = 1;\n\tconst GET_BLOB_DATA = 2;\n\n\t/**\n\t * HyBi Sender implementation.\n\t */\n\tclass Sender {\n\t  /**\n\t   * Creates a Sender instance.\n\t   *\n\t   * @param {Duplex} socket The connection socket\n\t   * @param {Object} [extensions] An object containing the negotiated extensions\n\t   * @param {Function} [generateMask] The function used to generate the masking\n\t   *     key\n\t   */\n\t  constructor(socket, extensions, generateMask) {\n\t    this._extensions = extensions || {};\n\n\t    if (generateMask) {\n\t      this._generateMask = generateMask;\n\t      this._maskBuffer = Buffer.alloc(4);\n\t    }\n\n\t    this._socket = socket;\n\n\t    this._firstFragment = true;\n\t    this._compress = false;\n\n\t    this._bufferedBytes = 0;\n\t    this._queue = [];\n\t    this._state = DEFAULT;\n\t    this.onerror = NOOP;\n\t    this[kWebSocket] = undefined;\n\t  }\n\n\t  /**\n\t   * Frames a piece of data according to the HyBi WebSocket protocol.\n\t   *\n\t   * @param {(Buffer|String)} data The data to frame\n\t   * @param {Object} options Options object\n\t   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\n\t   *     FIN bit\n\t   * @param {Function} [options.generateMask] The function used to generate the\n\t   *     masking key\n\t   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n\t   *     `data`\n\t   * @param {Buffer} [options.maskBuffer] The buffer used to store the masking\n\t   *     key\n\t   * @param {Number} options.opcode The opcode\n\t   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\n\t   *     modified\n\t   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\n\t   *     RSV1 bit\n\t   * @return {(Buffer|String)[]} The framed data\n\t   * @public\n\t   */\n\t  static frame(data, options) {\n\t    let mask;\n\t    let merge = false;\n\t    let offset = 2;\n\t    let skipMasking = false;\n\n\t    if (options.mask) {\n\t      mask = options.maskBuffer || maskBuffer;\n\n\t      if (options.generateMask) {\n\t        options.generateMask(mask);\n\t      } else {\n\t        if (randomPoolPointer === RANDOM_POOL_SIZE) {\n\t          /* istanbul ignore else  */\n\t          if (randomPool === undefined) {\n\t            //\n\t            // This is lazily initialized because server-sent frames must not\n\t            // be masked so it may never be used.\n\t            //\n\t            randomPool = Buffer.alloc(RANDOM_POOL_SIZE);\n\t          }\n\n\t          randomFillSync(randomPool, 0, RANDOM_POOL_SIZE);\n\t          randomPoolPointer = 0;\n\t        }\n\n\t        mask[0] = randomPool[randomPoolPointer++];\n\t        mask[1] = randomPool[randomPoolPointer++];\n\t        mask[2] = randomPool[randomPoolPointer++];\n\t        mask[3] = randomPool[randomPoolPointer++];\n\t      }\n\n\t      skipMasking = (mask[0] | mask[1] | mask[2] | mask[3]) === 0;\n\t      offset = 6;\n\t    }\n\n\t    let dataLength;\n\n\t    if (typeof data === 'string') {\n\t      if (\n\t        (!options.mask || skipMasking) &&\n\t        options[kByteLength] !== undefined\n\t      ) {\n\t        dataLength = options[kByteLength];\n\t      } else {\n\t        data = Buffer.from(data);\n\t        dataLength = data.length;\n\t      }\n\t    } else {\n\t      dataLength = data.length;\n\t      merge = options.mask && options.readOnly && !skipMasking;\n\t    }\n\n\t    let payloadLength = dataLength;\n\n\t    if (dataLength >= 65536) {\n\t      offset += 8;\n\t      payloadLength = 127;\n\t    } else if (dataLength > 125) {\n\t      offset += 2;\n\t      payloadLength = 126;\n\t    }\n\n\t    const target = Buffer.allocUnsafe(merge ? dataLength + offset : offset);\n\n\t    target[0] = options.fin ? options.opcode | 0x80 : options.opcode;\n\t    if (options.rsv1) target[0] |= 0x40;\n\n\t    target[1] = payloadLength;\n\n\t    if (payloadLength === 126) {\n\t      target.writeUInt16BE(dataLength, 2);\n\t    } else if (payloadLength === 127) {\n\t      target[2] = target[3] = 0;\n\t      target.writeUIntBE(dataLength, 4, 6);\n\t    }\n\n\t    if (!options.mask) return [target, data];\n\n\t    target[1] |= 0x80;\n\t    target[offset - 4] = mask[0];\n\t    target[offset - 3] = mask[1];\n\t    target[offset - 2] = mask[2];\n\t    target[offset - 1] = mask[3];\n\n\t    if (skipMasking) return [target, data];\n\n\t    if (merge) {\n\t      applyMask(data, mask, target, offset, dataLength);\n\t      return [target];\n\t    }\n\n\t    applyMask(data, mask, data, 0, dataLength);\n\t    return [target, data];\n\t  }\n\n\t  /**\n\t   * Sends a close message to the other peer.\n\t   *\n\t   * @param {Number} [code] The status code component of the body\n\t   * @param {(String|Buffer)} [data] The message component of the body\n\t   * @param {Boolean} [mask=false] Specifies whether or not to mask the message\n\t   * @param {Function} [cb] Callback\n\t   * @public\n\t   */\n\t  close(code, data, mask, cb) {\n\t    let buf;\n\n\t    if (code === undefined) {\n\t      buf = EMPTY_BUFFER;\n\t    } else if (typeof code !== 'number' || !isValidStatusCode(code)) {\n\t      throw new TypeError('First argument must be a valid error code number');\n\t    } else if (data === undefined || !data.length) {\n\t      buf = Buffer.allocUnsafe(2);\n\t      buf.writeUInt16BE(code, 0);\n\t    } else {\n\t      const length = Buffer.byteLength(data);\n\n\t      if (length > 123) {\n\t        throw new RangeError('The message must not be greater than 123 bytes');\n\t      }\n\n\t      buf = Buffer.allocUnsafe(2 + length);\n\t      buf.writeUInt16BE(code, 0);\n\n\t      if (typeof data === 'string') {\n\t        buf.write(data, 2);\n\t      } else {\n\t        buf.set(data, 2);\n\t      }\n\t    }\n\n\t    const options = {\n\t      [kByteLength]: buf.length,\n\t      fin: true,\n\t      generateMask: this._generateMask,\n\t      mask,\n\t      maskBuffer: this._maskBuffer,\n\t      opcode: 0x08,\n\t      readOnly: false,\n\t      rsv1: false\n\t    };\n\n\t    if (this._state !== DEFAULT) {\n\t      this.enqueue([this.dispatch, buf, false, options, cb]);\n\t    } else {\n\t      this.sendFrame(Sender.frame(buf, options), cb);\n\t    }\n\t  }\n\n\t  /**\n\t   * Sends a ping message to the other peer.\n\t   *\n\t   * @param {*} data The message to send\n\t   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n\t   * @param {Function} [cb] Callback\n\t   * @public\n\t   */\n\t  ping(data, mask, cb) {\n\t    let byteLength;\n\t    let readOnly;\n\n\t    if (typeof data === 'string') {\n\t      byteLength = Buffer.byteLength(data);\n\t      readOnly = false;\n\t    } else if (isBlob(data)) {\n\t      byteLength = data.size;\n\t      readOnly = false;\n\t    } else {\n\t      data = toBuffer(data);\n\t      byteLength = data.length;\n\t      readOnly = toBuffer.readOnly;\n\t    }\n\n\t    if (byteLength > 125) {\n\t      throw new RangeError('The data size must not be greater than 125 bytes');\n\t    }\n\n\t    const options = {\n\t      [kByteLength]: byteLength,\n\t      fin: true,\n\t      generateMask: this._generateMask,\n\t      mask,\n\t      maskBuffer: this._maskBuffer,\n\t      opcode: 0x09,\n\t      readOnly,\n\t      rsv1: false\n\t    };\n\n\t    if (isBlob(data)) {\n\t      if (this._state !== DEFAULT) {\n\t        this.enqueue([this.getBlobData, data, false, options, cb]);\n\t      } else {\n\t        this.getBlobData(data, false, options, cb);\n\t      }\n\t    } else if (this._state !== DEFAULT) {\n\t      this.enqueue([this.dispatch, data, false, options, cb]);\n\t    } else {\n\t      this.sendFrame(Sender.frame(data, options), cb);\n\t    }\n\t  }\n\n\t  /**\n\t   * Sends a pong message to the other peer.\n\t   *\n\t   * @param {*} data The message to send\n\t   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n\t   * @param {Function} [cb] Callback\n\t   * @public\n\t   */\n\t  pong(data, mask, cb) {\n\t    let byteLength;\n\t    let readOnly;\n\n\t    if (typeof data === 'string') {\n\t      byteLength = Buffer.byteLength(data);\n\t      readOnly = false;\n\t    } else if (isBlob(data)) {\n\t      byteLength = data.size;\n\t      readOnly = false;\n\t    } else {\n\t      data = toBuffer(data);\n\t      byteLength = data.length;\n\t      readOnly = toBuffer.readOnly;\n\t    }\n\n\t    if (byteLength > 125) {\n\t      throw new RangeError('The data size must not be greater than 125 bytes');\n\t    }\n\n\t    const options = {\n\t      [kByteLength]: byteLength,\n\t      fin: true,\n\t      generateMask: this._generateMask,\n\t      mask,\n\t      maskBuffer: this._maskBuffer,\n\t      opcode: 0x0a,\n\t      readOnly,\n\t      rsv1: false\n\t    };\n\n\t    if (isBlob(data)) {\n\t      if (this._state !== DEFAULT) {\n\t        this.enqueue([this.getBlobData, data, false, options, cb]);\n\t      } else {\n\t        this.getBlobData(data, false, options, cb);\n\t      }\n\t    } else if (this._state !== DEFAULT) {\n\t      this.enqueue([this.dispatch, data, false, options, cb]);\n\t    } else {\n\t      this.sendFrame(Sender.frame(data, options), cb);\n\t    }\n\t  }\n\n\t  /**\n\t   * Sends a data message to the other peer.\n\t   *\n\t   * @param {*} data The message to send\n\t   * @param {Object} options Options object\n\t   * @param {Boolean} [options.binary=false] Specifies whether `data` is binary\n\t   *     or text\n\t   * @param {Boolean} [options.compress=false] Specifies whether or not to\n\t   *     compress `data`\n\t   * @param {Boolean} [options.fin=false] Specifies whether the fragment is the\n\t   *     last one\n\t   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n\t   *     `data`\n\t   * @param {Function} [cb] Callback\n\t   * @public\n\t   */\n\t  send(data, options, cb) {\n\t    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n\t    let opcode = options.binary ? 2 : 1;\n\t    let rsv1 = options.compress;\n\n\t    let byteLength;\n\t    let readOnly;\n\n\t    if (typeof data === 'string') {\n\t      byteLength = Buffer.byteLength(data);\n\t      readOnly = false;\n\t    } else if (isBlob(data)) {\n\t      byteLength = data.size;\n\t      readOnly = false;\n\t    } else {\n\t      data = toBuffer(data);\n\t      byteLength = data.length;\n\t      readOnly = toBuffer.readOnly;\n\t    }\n\n\t    if (this._firstFragment) {\n\t      this._firstFragment = false;\n\t      if (\n\t        rsv1 &&\n\t        perMessageDeflate &&\n\t        perMessageDeflate.params[\n\t          perMessageDeflate._isServer\n\t            ? 'server_no_context_takeover'\n\t            : 'client_no_context_takeover'\n\t        ]\n\t      ) {\n\t        rsv1 = byteLength >= perMessageDeflate._threshold;\n\t      }\n\t      this._compress = rsv1;\n\t    } else {\n\t      rsv1 = false;\n\t      opcode = 0;\n\t    }\n\n\t    if (options.fin) this._firstFragment = true;\n\n\t    const opts = {\n\t      [kByteLength]: byteLength,\n\t      fin: options.fin,\n\t      generateMask: this._generateMask,\n\t      mask: options.mask,\n\t      maskBuffer: this._maskBuffer,\n\t      opcode,\n\t      readOnly,\n\t      rsv1\n\t    };\n\n\t    if (isBlob(data)) {\n\t      if (this._state !== DEFAULT) {\n\t        this.enqueue([this.getBlobData, data, this._compress, opts, cb]);\n\t      } else {\n\t        this.getBlobData(data, this._compress, opts, cb);\n\t      }\n\t    } else if (this._state !== DEFAULT) {\n\t      this.enqueue([this.dispatch, data, this._compress, opts, cb]);\n\t    } else {\n\t      this.dispatch(data, this._compress, opts, cb);\n\t    }\n\t  }\n\n\t  /**\n\t   * Gets the contents of a blob as binary data.\n\t   *\n\t   * @param {Blob} blob The blob\n\t   * @param {Boolean} [compress=false] Specifies whether or not to compress\n\t   *     the data\n\t   * @param {Object} options Options object\n\t   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\n\t   *     FIN bit\n\t   * @param {Function} [options.generateMask] The function used to generate the\n\t   *     masking key\n\t   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n\t   *     `data`\n\t   * @param {Buffer} [options.maskBuffer] The buffer used to store the masking\n\t   *     key\n\t   * @param {Number} options.opcode The opcode\n\t   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\n\t   *     modified\n\t   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\n\t   *     RSV1 bit\n\t   * @param {Function} [cb] Callback\n\t   * @private\n\t   */\n\t  getBlobData(blob, compress, options, cb) {\n\t    this._bufferedBytes += options[kByteLength];\n\t    this._state = GET_BLOB_DATA;\n\n\t    blob\n\t      .arrayBuffer()\n\t      .then((arrayBuffer) => {\n\t        if (this._socket.destroyed) {\n\t          const err = new Error(\n\t            'The socket was closed while the blob was being read'\n\t          );\n\n\t          //\n\t          // `callCallbacks` is called in the next tick to ensure that errors\n\t          // that might be thrown in the callbacks behave like errors thrown\n\t          // outside the promise chain.\n\t          //\n\t          process.nextTick(callCallbacks, this, err, cb);\n\t          return;\n\t        }\n\n\t        this._bufferedBytes -= options[kByteLength];\n\t        const data = toBuffer(arrayBuffer);\n\n\t        if (!compress) {\n\t          this._state = DEFAULT;\n\t          this.sendFrame(Sender.frame(data, options), cb);\n\t          this.dequeue();\n\t        } else {\n\t          this.dispatch(data, compress, options, cb);\n\t        }\n\t      })\n\t      .catch((err) => {\n\t        //\n\t        // `onError` is called in the next tick for the same reason that\n\t        // `callCallbacks` above is.\n\t        //\n\t        process.nextTick(onError, this, err, cb);\n\t      });\n\t  }\n\n\t  /**\n\t   * Dispatches a message.\n\t   *\n\t   * @param {(Buffer|String)} data The message to send\n\t   * @param {Boolean} [compress=false] Specifies whether or not to compress\n\t   *     `data`\n\t   * @param {Object} options Options object\n\t   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\n\t   *     FIN bit\n\t   * @param {Function} [options.generateMask] The function used to generate the\n\t   *     masking key\n\t   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n\t   *     `data`\n\t   * @param {Buffer} [options.maskBuffer] The buffer used to store the masking\n\t   *     key\n\t   * @param {Number} options.opcode The opcode\n\t   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\n\t   *     modified\n\t   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\n\t   *     RSV1 bit\n\t   * @param {Function} [cb] Callback\n\t   * @private\n\t   */\n\t  dispatch(data, compress, options, cb) {\n\t    if (!compress) {\n\t      this.sendFrame(Sender.frame(data, options), cb);\n\t      return;\n\t    }\n\n\t    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n\n\t    this._bufferedBytes += options[kByteLength];\n\t    this._state = DEFLATING;\n\t    perMessageDeflate.compress(data, options.fin, (_, buf) => {\n\t      if (this._socket.destroyed) {\n\t        const err = new Error(\n\t          'The socket was closed while data was being compressed'\n\t        );\n\n\t        callCallbacks(this, err, cb);\n\t        return;\n\t      }\n\n\t      this._bufferedBytes -= options[kByteLength];\n\t      this._state = DEFAULT;\n\t      options.readOnly = false;\n\t      this.sendFrame(Sender.frame(buf, options), cb);\n\t      this.dequeue();\n\t    });\n\t  }\n\n\t  /**\n\t   * Executes queued send operations.\n\t   *\n\t   * @private\n\t   */\n\t  dequeue() {\n\t    while (this._state === DEFAULT && this._queue.length) {\n\t      const params = this._queue.shift();\n\n\t      this._bufferedBytes -= params[3][kByteLength];\n\t      Reflect.apply(params[0], this, params.slice(1));\n\t    }\n\t  }\n\n\t  /**\n\t   * Enqueues a send operation.\n\t   *\n\t   * @param {Array} params Send operation parameters.\n\t   * @private\n\t   */\n\t  enqueue(params) {\n\t    this._bufferedBytes += params[3][kByteLength];\n\t    this._queue.push(params);\n\t  }\n\n\t  /**\n\t   * Sends a frame.\n\t   *\n\t   * @param {(Buffer | String)[]} list The frame to send\n\t   * @param {Function} [cb] Callback\n\t   * @private\n\t   */\n\t  sendFrame(list, cb) {\n\t    if (list.length === 2) {\n\t      this._socket.cork();\n\t      this._socket.write(list[0]);\n\t      this._socket.write(list[1], cb);\n\t      this._socket.uncork();\n\t    } else {\n\t      this._socket.write(list[0], cb);\n\t    }\n\t  }\n\t}\n\n\tsender = Sender;\n\n\t/**\n\t * Calls queued callbacks with an error.\n\t *\n\t * @param {Sender} sender The `Sender` instance\n\t * @param {Error} err The error to call the callbacks with\n\t * @param {Function} [cb] The first callback\n\t * @private\n\t */\n\tfunction callCallbacks(sender, err, cb) {\n\t  if (typeof cb === 'function') cb(err);\n\n\t  for (let i = 0; i < sender._queue.length; i++) {\n\t    const params = sender._queue[i];\n\t    const callback = params[params.length - 1];\n\n\t    if (typeof callback === 'function') callback(err);\n\t  }\n\t}\n\n\t/**\n\t * Handles a `Sender` error.\n\t *\n\t * @param {Sender} sender The `Sender` instance\n\t * @param {Error} err The error\n\t * @param {Function} [cb] The first pending callback\n\t * @private\n\t */\n\tfunction onError(sender, err, cb) {\n\t  callCallbacks(sender, err, cb);\n\t  sender.onerror(err);\n\t}\n\treturn sender;\n}\n\nvar eventTarget;\nvar hasRequiredEventTarget;\n\nfunction requireEventTarget () {\n\tif (hasRequiredEventTarget) return eventTarget;\n\thasRequiredEventTarget = 1;\n\n\tconst { kForOnEventAttribute, kListener } = requireConstants();\n\n\tconst kCode = Symbol('kCode');\n\tconst kData = Symbol('kData');\n\tconst kError = Symbol('kError');\n\tconst kMessage = Symbol('kMessage');\n\tconst kReason = Symbol('kReason');\n\tconst kTarget = Symbol('kTarget');\n\tconst kType = Symbol('kType');\n\tconst kWasClean = Symbol('kWasClean');\n\n\t/**\n\t * Class representing an event.\n\t */\n\tclass Event {\n\t  /**\n\t   * Create a new `Event`.\n\t   *\n\t   * @param {String} type The name of the event\n\t   * @throws {TypeError} If the `type` argument is not specified\n\t   */\n\t  constructor(type) {\n\t    this[kTarget] = null;\n\t    this[kType] = type;\n\t  }\n\n\t  /**\n\t   * @type {*}\n\t   */\n\t  get target() {\n\t    return this[kTarget];\n\t  }\n\n\t  /**\n\t   * @type {String}\n\t   */\n\t  get type() {\n\t    return this[kType];\n\t  }\n\t}\n\n\tObject.defineProperty(Event.prototype, 'target', { enumerable: true });\n\tObject.defineProperty(Event.prototype, 'type', { enumerable: true });\n\n\t/**\n\t * Class representing a close event.\n\t *\n\t * @extends Event\n\t */\n\tclass CloseEvent extends Event {\n\t  /**\n\t   * Create a new `CloseEvent`.\n\t   *\n\t   * @param {String} type The name of the event\n\t   * @param {Object} [options] A dictionary object that allows for setting\n\t   *     attributes via object members of the same name\n\t   * @param {Number} [options.code=0] The status code explaining why the\n\t   *     connection was closed\n\t   * @param {String} [options.reason=''] A human-readable string explaining why\n\t   *     the connection was closed\n\t   * @param {Boolean} [options.wasClean=false] Indicates whether or not the\n\t   *     connection was cleanly closed\n\t   */\n\t  constructor(type, options = {}) {\n\t    super(type);\n\n\t    this[kCode] = options.code === undefined ? 0 : options.code;\n\t    this[kReason] = options.reason === undefined ? '' : options.reason;\n\t    this[kWasClean] = options.wasClean === undefined ? false : options.wasClean;\n\t  }\n\n\t  /**\n\t   * @type {Number}\n\t   */\n\t  get code() {\n\t    return this[kCode];\n\t  }\n\n\t  /**\n\t   * @type {String}\n\t   */\n\t  get reason() {\n\t    return this[kReason];\n\t  }\n\n\t  /**\n\t   * @type {Boolean}\n\t   */\n\t  get wasClean() {\n\t    return this[kWasClean];\n\t  }\n\t}\n\n\tObject.defineProperty(CloseEvent.prototype, 'code', { enumerable: true });\n\tObject.defineProperty(CloseEvent.prototype, 'reason', { enumerable: true });\n\tObject.defineProperty(CloseEvent.prototype, 'wasClean', { enumerable: true });\n\n\t/**\n\t * Class representing an error event.\n\t *\n\t * @extends Event\n\t */\n\tclass ErrorEvent extends Event {\n\t  /**\n\t   * Create a new `ErrorEvent`.\n\t   *\n\t   * @param {String} type The name of the event\n\t   * @param {Object} [options] A dictionary object that allows for setting\n\t   *     attributes via object members of the same name\n\t   * @param {*} [options.error=null] The error that generated this event\n\t   * @param {String} [options.message=''] The error message\n\t   */\n\t  constructor(type, options = {}) {\n\t    super(type);\n\n\t    this[kError] = options.error === undefined ? null : options.error;\n\t    this[kMessage] = options.message === undefined ? '' : options.message;\n\t  }\n\n\t  /**\n\t   * @type {*}\n\t   */\n\t  get error() {\n\t    return this[kError];\n\t  }\n\n\t  /**\n\t   * @type {String}\n\t   */\n\t  get message() {\n\t    return this[kMessage];\n\t  }\n\t}\n\n\tObject.defineProperty(ErrorEvent.prototype, 'error', { enumerable: true });\n\tObject.defineProperty(ErrorEvent.prototype, 'message', { enumerable: true });\n\n\t/**\n\t * Class representing a message event.\n\t *\n\t * @extends Event\n\t */\n\tclass MessageEvent extends Event {\n\t  /**\n\t   * Create a new `MessageEvent`.\n\t   *\n\t   * @param {String} type The name of the event\n\t   * @param {Object} [options] A dictionary object that allows for setting\n\t   *     attributes via object members of the same name\n\t   * @param {*} [options.data=null] The message content\n\t   */\n\t  constructor(type, options = {}) {\n\t    super(type);\n\n\t    this[kData] = options.data === undefined ? null : options.data;\n\t  }\n\n\t  /**\n\t   * @type {*}\n\t   */\n\t  get data() {\n\t    return this[kData];\n\t  }\n\t}\n\n\tObject.defineProperty(MessageEvent.prototype, 'data', { enumerable: true });\n\n\t/**\n\t * This provides methods for emulating the `EventTarget` interface. It's not\n\t * meant to be used directly.\n\t *\n\t * @mixin\n\t */\n\tconst EventTarget = {\n\t  /**\n\t   * Register an event listener.\n\t   *\n\t   * @param {String} type A string representing the event type to listen for\n\t   * @param {(Function|Object)} handler The listener to add\n\t   * @param {Object} [options] An options object specifies characteristics about\n\t   *     the event listener\n\t   * @param {Boolean} [options.once=false] A `Boolean` indicating that the\n\t   *     listener should be invoked at most once after being added. If `true`,\n\t   *     the listener would be automatically removed when invoked.\n\t   * @public\n\t   */\n\t  addEventListener(type, handler, options = {}) {\n\t    for (const listener of this.listeners(type)) {\n\t      if (\n\t        !options[kForOnEventAttribute] &&\n\t        listener[kListener] === handler &&\n\t        !listener[kForOnEventAttribute]\n\t      ) {\n\t        return;\n\t      }\n\t    }\n\n\t    let wrapper;\n\n\t    if (type === 'message') {\n\t      wrapper = function onMessage(data, isBinary) {\n\t        const event = new MessageEvent('message', {\n\t          data: isBinary ? data : data.toString()\n\t        });\n\n\t        event[kTarget] = this;\n\t        callListener(handler, this, event);\n\t      };\n\t    } else if (type === 'close') {\n\t      wrapper = function onClose(code, message) {\n\t        const event = new CloseEvent('close', {\n\t          code,\n\t          reason: message.toString(),\n\t          wasClean: this._closeFrameReceived && this._closeFrameSent\n\t        });\n\n\t        event[kTarget] = this;\n\t        callListener(handler, this, event);\n\t      };\n\t    } else if (type === 'error') {\n\t      wrapper = function onError(error) {\n\t        const event = new ErrorEvent('error', {\n\t          error,\n\t          message: error.message\n\t        });\n\n\t        event[kTarget] = this;\n\t        callListener(handler, this, event);\n\t      };\n\t    } else if (type === 'open') {\n\t      wrapper = function onOpen() {\n\t        const event = new Event('open');\n\n\t        event[kTarget] = this;\n\t        callListener(handler, this, event);\n\t      };\n\t    } else {\n\t      return;\n\t    }\n\n\t    wrapper[kForOnEventAttribute] = !!options[kForOnEventAttribute];\n\t    wrapper[kListener] = handler;\n\n\t    if (options.once) {\n\t      this.once(type, wrapper);\n\t    } else {\n\t      this.on(type, wrapper);\n\t    }\n\t  },\n\n\t  /**\n\t   * Remove an event listener.\n\t   *\n\t   * @param {String} type A string representing the event type to remove\n\t   * @param {(Function|Object)} handler The listener to remove\n\t   * @public\n\t   */\n\t  removeEventListener(type, handler) {\n\t    for (const listener of this.listeners(type)) {\n\t      if (listener[kListener] === handler && !listener[kForOnEventAttribute]) {\n\t        this.removeListener(type, listener);\n\t        break;\n\t      }\n\t    }\n\t  }\n\t};\n\n\teventTarget = {\n\t  CloseEvent,\n\t  ErrorEvent,\n\t  Event,\n\t  EventTarget,\n\t  MessageEvent\n\t};\n\n\t/**\n\t * Call an event listener\n\t *\n\t * @param {(Function|Object)} listener The listener to call\n\t * @param {*} thisArg The value to use as `this`` when calling the listener\n\t * @param {Event} event The event to pass to the listener\n\t * @private\n\t */\n\tfunction callListener(listener, thisArg, event) {\n\t  if (typeof listener === 'object' && listener.handleEvent) {\n\t    listener.handleEvent.call(listener, event);\n\t  } else {\n\t    listener.call(thisArg, event);\n\t  }\n\t}\n\treturn eventTarget;\n}\n\nvar extension;\nvar hasRequiredExtension;\n\nfunction requireExtension () {\n\tif (hasRequiredExtension) return extension;\n\thasRequiredExtension = 1;\n\n\tconst { tokenChars } = requireValidation();\n\n\t/**\n\t * Adds an offer to the map of extension offers or a parameter to the map of\n\t * parameters.\n\t *\n\t * @param {Object} dest The map of extension offers or parameters\n\t * @param {String} name The extension or parameter name\n\t * @param {(Object|Boolean|String)} elem The extension parameters or the\n\t *     parameter value\n\t * @private\n\t */\n\tfunction push(dest, name, elem) {\n\t  if (dest[name] === undefined) dest[name] = [elem];\n\t  else dest[name].push(elem);\n\t}\n\n\t/**\n\t * Parses the `Sec-WebSocket-Extensions` header into an object.\n\t *\n\t * @param {String} header The field value of the header\n\t * @return {Object} The parsed object\n\t * @public\n\t */\n\tfunction parse(header) {\n\t  const offers = Object.create(null);\n\t  let params = Object.create(null);\n\t  let mustUnescape = false;\n\t  let isEscaping = false;\n\t  let inQuotes = false;\n\t  let extensionName;\n\t  let paramName;\n\t  let start = -1;\n\t  let code = -1;\n\t  let end = -1;\n\t  let i = 0;\n\n\t  for (; i < header.length; i++) {\n\t    code = header.charCodeAt(i);\n\n\t    if (extensionName === undefined) {\n\t      if (end === -1 && tokenChars[code] === 1) {\n\t        if (start === -1) start = i;\n\t      } else if (\n\t        i !== 0 &&\n\t        (code === 0x20 /* ' ' */ || code === 0x09) /* '\\t' */\n\t      ) {\n\t        if (end === -1 && start !== -1) end = i;\n\t      } else if (code === 0x3b /* ';' */ || code === 0x2c /* ',' */) {\n\t        if (start === -1) {\n\t          throw new SyntaxError(`Unexpected character at index ${i}`);\n\t        }\n\n\t        if (end === -1) end = i;\n\t        const name = header.slice(start, end);\n\t        if (code === 0x2c) {\n\t          push(offers, name, params);\n\t          params = Object.create(null);\n\t        } else {\n\t          extensionName = name;\n\t        }\n\n\t        start = end = -1;\n\t      } else {\n\t        throw new SyntaxError(`Unexpected character at index ${i}`);\n\t      }\n\t    } else if (paramName === undefined) {\n\t      if (end === -1 && tokenChars[code] === 1) {\n\t        if (start === -1) start = i;\n\t      } else if (code === 0x20 || code === 0x09) {\n\t        if (end === -1 && start !== -1) end = i;\n\t      } else if (code === 0x3b || code === 0x2c) {\n\t        if (start === -1) {\n\t          throw new SyntaxError(`Unexpected character at index ${i}`);\n\t        }\n\n\t        if (end === -1) end = i;\n\t        push(params, header.slice(start, end), true);\n\t        if (code === 0x2c) {\n\t          push(offers, extensionName, params);\n\t          params = Object.create(null);\n\t          extensionName = undefined;\n\t        }\n\n\t        start = end = -1;\n\t      } else if (code === 0x3d /* '=' */ && start !== -1 && end === -1) {\n\t        paramName = header.slice(start, i);\n\t        start = end = -1;\n\t      } else {\n\t        throw new SyntaxError(`Unexpected character at index ${i}`);\n\t      }\n\t    } else {\n\t      //\n\t      // The value of a quoted-string after unescaping must conform to the\n\t      // token ABNF, so only token characters are valid.\n\t      // Ref: https://tools.ietf.org/html/rfc6455#section-9.1\n\t      //\n\t      if (isEscaping) {\n\t        if (tokenChars[code] !== 1) {\n\t          throw new SyntaxError(`Unexpected character at index ${i}`);\n\t        }\n\t        if (start === -1) start = i;\n\t        else if (!mustUnescape) mustUnescape = true;\n\t        isEscaping = false;\n\t      } else if (inQuotes) {\n\t        if (tokenChars[code] === 1) {\n\t          if (start === -1) start = i;\n\t        } else if (code === 0x22 /* '\"' */ && start !== -1) {\n\t          inQuotes = false;\n\t          end = i;\n\t        } else if (code === 0x5c /* '\\' */) {\n\t          isEscaping = true;\n\t        } else {\n\t          throw new SyntaxError(`Unexpected character at index ${i}`);\n\t        }\n\t      } else if (code === 0x22 && header.charCodeAt(i - 1) === 0x3d) {\n\t        inQuotes = true;\n\t      } else if (end === -1 && tokenChars[code] === 1) {\n\t        if (start === -1) start = i;\n\t      } else if (start !== -1 && (code === 0x20 || code === 0x09)) {\n\t        if (end === -1) end = i;\n\t      } else if (code === 0x3b || code === 0x2c) {\n\t        if (start === -1) {\n\t          throw new SyntaxError(`Unexpected character at index ${i}`);\n\t        }\n\n\t        if (end === -1) end = i;\n\t        let value = header.slice(start, end);\n\t        if (mustUnescape) {\n\t          value = value.replace(/\\\\/g, '');\n\t          mustUnescape = false;\n\t        }\n\t        push(params, paramName, value);\n\t        if (code === 0x2c) {\n\t          push(offers, extensionName, params);\n\t          params = Object.create(null);\n\t          extensionName = undefined;\n\t        }\n\n\t        paramName = undefined;\n\t        start = end = -1;\n\t      } else {\n\t        throw new SyntaxError(`Unexpected character at index ${i}`);\n\t      }\n\t    }\n\t  }\n\n\t  if (start === -1 || inQuotes || code === 0x20 || code === 0x09) {\n\t    throw new SyntaxError('Unexpected end of input');\n\t  }\n\n\t  if (end === -1) end = i;\n\t  const token = header.slice(start, end);\n\t  if (extensionName === undefined) {\n\t    push(offers, token, params);\n\t  } else {\n\t    if (paramName === undefined) {\n\t      push(params, token, true);\n\t    } else if (mustUnescape) {\n\t      push(params, paramName, token.replace(/\\\\/g, ''));\n\t    } else {\n\t      push(params, paramName, token);\n\t    }\n\t    push(offers, extensionName, params);\n\t  }\n\n\t  return offers;\n\t}\n\n\t/**\n\t * Builds the `Sec-WebSocket-Extensions` header field value.\n\t *\n\t * @param {Object} extensions The map of extensions and parameters to format\n\t * @return {String} A string representing the given object\n\t * @public\n\t */\n\tfunction format(extensions) {\n\t  return Object.keys(extensions)\n\t    .map((extension) => {\n\t      let configurations = extensions[extension];\n\t      if (!Array.isArray(configurations)) configurations = [configurations];\n\t      return configurations\n\t        .map((params) => {\n\t          return [extension]\n\t            .concat(\n\t              Object.keys(params).map((k) => {\n\t                let values = params[k];\n\t                if (!Array.isArray(values)) values = [values];\n\t                return values\n\t                  .map((v) => (v === true ? k : `${k}=${v}`))\n\t                  .join('; ');\n\t              })\n\t            )\n\t            .join('; ');\n\t        })\n\t        .join(', ');\n\t    })\n\t    .join(', ');\n\t}\n\n\textension = { format, parse };\n\treturn extension;\n}\n\n/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^Duplex|Readable$\", \"caughtErrors\": \"none\" }] */\n\nvar websocket;\nvar hasRequiredWebsocket;\n\nfunction requireWebsocket () {\n\tif (hasRequiredWebsocket) return websocket;\n\thasRequiredWebsocket = 1;\n\n\tconst EventEmitter = require$$0$3;\n\tconst https = require$$1$1;\n\tconst http = require$$2;\n\tconst net = require$$3;\n\tconst tls = require$$4;\n\tconst { randomBytes, createHash } = require$$1;\n\tconst { Duplex, Readable } = require$$0$2;\n\tconst { URL } = require$$7;\n\n\tconst PerMessageDeflate = requirePermessageDeflate();\n\tconst Receiver = requireReceiver();\n\tconst Sender = requireSender();\n\tconst { isBlob } = requireValidation();\n\n\tconst {\n\t  BINARY_TYPES,\n\t  EMPTY_BUFFER,\n\t  GUID,\n\t  kForOnEventAttribute,\n\t  kListener,\n\t  kStatusCode,\n\t  kWebSocket,\n\t  NOOP\n\t} = requireConstants();\n\tconst {\n\t  EventTarget: { addEventListener, removeEventListener }\n\t} = requireEventTarget();\n\tconst { format, parse } = requireExtension();\n\tconst { toBuffer } = requireBufferUtil();\n\n\tconst closeTimeout = 30 * 1000;\n\tconst kAborted = Symbol('kAborted');\n\tconst protocolVersions = [8, 13];\n\tconst readyStates = ['CONNECTING', 'OPEN', 'CLOSING', 'CLOSED'];\n\tconst subprotocolRegex = /^[!#$%&'*+\\-.0-9A-Z^_`|a-z~]+$/;\n\n\t/**\n\t * Class representing a WebSocket.\n\t *\n\t * @extends EventEmitter\n\t */\n\tclass WebSocket extends EventEmitter {\n\t  /**\n\t   * Create a new `WebSocket`.\n\t   *\n\t   * @param {(String|URL)} address The URL to which to connect\n\t   * @param {(String|String[])} [protocols] The subprotocols\n\t   * @param {Object} [options] Connection options\n\t   */\n\t  constructor(address, protocols, options) {\n\t    super();\n\n\t    this._binaryType = BINARY_TYPES[0];\n\t    this._closeCode = 1006;\n\t    this._closeFrameReceived = false;\n\t    this._closeFrameSent = false;\n\t    this._closeMessage = EMPTY_BUFFER;\n\t    this._closeTimer = null;\n\t    this._errorEmitted = false;\n\t    this._extensions = {};\n\t    this._paused = false;\n\t    this._protocol = '';\n\t    this._readyState = WebSocket.CONNECTING;\n\t    this._receiver = null;\n\t    this._sender = null;\n\t    this._socket = null;\n\n\t    if (address !== null) {\n\t      this._bufferedAmount = 0;\n\t      this._isServer = false;\n\t      this._redirects = 0;\n\n\t      if (protocols === undefined) {\n\t        protocols = [];\n\t      } else if (!Array.isArray(protocols)) {\n\t        if (typeof protocols === 'object' && protocols !== null) {\n\t          options = protocols;\n\t          protocols = [];\n\t        } else {\n\t          protocols = [protocols];\n\t        }\n\t      }\n\n\t      initAsClient(this, address, protocols, options);\n\t    } else {\n\t      this._autoPong = options.autoPong;\n\t      this._isServer = true;\n\t    }\n\t  }\n\n\t  /**\n\t   * For historical reasons, the custom \"nodebuffer\" type is used by the default\n\t   * instead of \"blob\".\n\t   *\n\t   * @type {String}\n\t   */\n\t  get binaryType() {\n\t    return this._binaryType;\n\t  }\n\n\t  set binaryType(type) {\n\t    if (!BINARY_TYPES.includes(type)) return;\n\n\t    this._binaryType = type;\n\n\t    //\n\t    // Allow to change `binaryType` on the fly.\n\t    //\n\t    if (this._receiver) this._receiver._binaryType = type;\n\t  }\n\n\t  /**\n\t   * @type {Number}\n\t   */\n\t  get bufferedAmount() {\n\t    if (!this._socket) return this._bufferedAmount;\n\n\t    return this._socket._writableState.length + this._sender._bufferedBytes;\n\t  }\n\n\t  /**\n\t   * @type {String}\n\t   */\n\t  get extensions() {\n\t    return Object.keys(this._extensions).join();\n\t  }\n\n\t  /**\n\t   * @type {Boolean}\n\t   */\n\t  get isPaused() {\n\t    return this._paused;\n\t  }\n\n\t  /**\n\t   * @type {Function}\n\t   */\n\t  /* istanbul ignore next */\n\t  get onclose() {\n\t    return null;\n\t  }\n\n\t  /**\n\t   * @type {Function}\n\t   */\n\t  /* istanbul ignore next */\n\t  get onerror() {\n\t    return null;\n\t  }\n\n\t  /**\n\t   * @type {Function}\n\t   */\n\t  /* istanbul ignore next */\n\t  get onopen() {\n\t    return null;\n\t  }\n\n\t  /**\n\t   * @type {Function}\n\t   */\n\t  /* istanbul ignore next */\n\t  get onmessage() {\n\t    return null;\n\t  }\n\n\t  /**\n\t   * @type {String}\n\t   */\n\t  get protocol() {\n\t    return this._protocol;\n\t  }\n\n\t  /**\n\t   * @type {Number}\n\t   */\n\t  get readyState() {\n\t    return this._readyState;\n\t  }\n\n\t  /**\n\t   * @type {String}\n\t   */\n\t  get url() {\n\t    return this._url;\n\t  }\n\n\t  /**\n\t   * Set up the socket and the internal resources.\n\t   *\n\t   * @param {Duplex} socket The network socket between the server and client\n\t   * @param {Buffer} head The first packet of the upgraded stream\n\t   * @param {Object} options Options object\n\t   * @param {Boolean} [options.allowSynchronousEvents=false] Specifies whether\n\t   *     any of the `'message'`, `'ping'`, and `'pong'` events can be emitted\n\t   *     multiple times in the same tick\n\t   * @param {Function} [options.generateMask] The function used to generate the\n\t   *     masking key\n\t   * @param {Number} [options.maxPayload=0] The maximum allowed message size\n\t   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n\t   *     not to skip UTF-8 validation for text and close messages\n\t   * @private\n\t   */\n\t  setSocket(socket, head, options) {\n\t    const receiver = new Receiver({\n\t      allowSynchronousEvents: options.allowSynchronousEvents,\n\t      binaryType: this.binaryType,\n\t      extensions: this._extensions,\n\t      isServer: this._isServer,\n\t      maxPayload: options.maxPayload,\n\t      skipUTF8Validation: options.skipUTF8Validation\n\t    });\n\n\t    const sender = new Sender(socket, this._extensions, options.generateMask);\n\n\t    this._receiver = receiver;\n\t    this._sender = sender;\n\t    this._socket = socket;\n\n\t    receiver[kWebSocket] = this;\n\t    sender[kWebSocket] = this;\n\t    socket[kWebSocket] = this;\n\n\t    receiver.on('conclude', receiverOnConclude);\n\t    receiver.on('drain', receiverOnDrain);\n\t    receiver.on('error', receiverOnError);\n\t    receiver.on('message', receiverOnMessage);\n\t    receiver.on('ping', receiverOnPing);\n\t    receiver.on('pong', receiverOnPong);\n\n\t    sender.onerror = senderOnError;\n\n\t    //\n\t    // These methods may not be available if `socket` is just a `Duplex`.\n\t    //\n\t    if (socket.setTimeout) socket.setTimeout(0);\n\t    if (socket.setNoDelay) socket.setNoDelay();\n\n\t    if (head.length > 0) socket.unshift(head);\n\n\t    socket.on('close', socketOnClose);\n\t    socket.on('data', socketOnData);\n\t    socket.on('end', socketOnEnd);\n\t    socket.on('error', socketOnError);\n\n\t    this._readyState = WebSocket.OPEN;\n\t    this.emit('open');\n\t  }\n\n\t  /**\n\t   * Emit the `'close'` event.\n\t   *\n\t   * @private\n\t   */\n\t  emitClose() {\n\t    if (!this._socket) {\n\t      this._readyState = WebSocket.CLOSED;\n\t      this.emit('close', this._closeCode, this._closeMessage);\n\t      return;\n\t    }\n\n\t    if (this._extensions[PerMessageDeflate.extensionName]) {\n\t      this._extensions[PerMessageDeflate.extensionName].cleanup();\n\t    }\n\n\t    this._receiver.removeAllListeners();\n\t    this._readyState = WebSocket.CLOSED;\n\t    this.emit('close', this._closeCode, this._closeMessage);\n\t  }\n\n\t  /**\n\t   * Start a closing handshake.\n\t   *\n\t   *          +----------+   +-----------+   +----------+\n\t   *     - - -|ws.close()|-->|close frame|-->|ws.close()|- - -\n\t   *    |     +----------+   +-----------+   +----------+     |\n\t   *          +----------+   +-----------+         |\n\t   * CLOSING  |ws.close()|<--|close frame|<--+-----+       CLOSING\n\t   *          +----------+   +-----------+   |\n\t   *    |           |                        |   +---+        |\n\t   *                +------------------------+-->|fin| - - - -\n\t   *    |         +---+                      |   +---+\n\t   *     - - - - -|fin|<---------------------+\n\t   *              +---+\n\t   *\n\t   * @param {Number} [code] Status code explaining why the connection is closing\n\t   * @param {(String|Buffer)} [data] The reason why the connection is\n\t   *     closing\n\t   * @public\n\t   */\n\t  close(code, data) {\n\t    if (this.readyState === WebSocket.CLOSED) return;\n\t    if (this.readyState === WebSocket.CONNECTING) {\n\t      const msg = 'WebSocket was closed before the connection was established';\n\t      abortHandshake(this, this._req, msg);\n\t      return;\n\t    }\n\n\t    if (this.readyState === WebSocket.CLOSING) {\n\t      if (\n\t        this._closeFrameSent &&\n\t        (this._closeFrameReceived || this._receiver._writableState.errorEmitted)\n\t      ) {\n\t        this._socket.end();\n\t      }\n\n\t      return;\n\t    }\n\n\t    this._readyState = WebSocket.CLOSING;\n\t    this._sender.close(code, data, !this._isServer, (err) => {\n\t      //\n\t      // This error is handled by the `'error'` listener on the socket. We only\n\t      // want to know if the close frame has been sent here.\n\t      //\n\t      if (err) return;\n\n\t      this._closeFrameSent = true;\n\n\t      if (\n\t        this._closeFrameReceived ||\n\t        this._receiver._writableState.errorEmitted\n\t      ) {\n\t        this._socket.end();\n\t      }\n\t    });\n\n\t    setCloseTimer(this);\n\t  }\n\n\t  /**\n\t   * Pause the socket.\n\t   *\n\t   * @public\n\t   */\n\t  pause() {\n\t    if (\n\t      this.readyState === WebSocket.CONNECTING ||\n\t      this.readyState === WebSocket.CLOSED\n\t    ) {\n\t      return;\n\t    }\n\n\t    this._paused = true;\n\t    this._socket.pause();\n\t  }\n\n\t  /**\n\t   * Send a ping.\n\t   *\n\t   * @param {*} [data] The data to send\n\t   * @param {Boolean} [mask] Indicates whether or not to mask `data`\n\t   * @param {Function} [cb] Callback which is executed when the ping is sent\n\t   * @public\n\t   */\n\t  ping(data, mask, cb) {\n\t    if (this.readyState === WebSocket.CONNECTING) {\n\t      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n\t    }\n\n\t    if (typeof data === 'function') {\n\t      cb = data;\n\t      data = mask = undefined;\n\t    } else if (typeof mask === 'function') {\n\t      cb = mask;\n\t      mask = undefined;\n\t    }\n\n\t    if (typeof data === 'number') data = data.toString();\n\n\t    if (this.readyState !== WebSocket.OPEN) {\n\t      sendAfterClose(this, data, cb);\n\t      return;\n\t    }\n\n\t    if (mask === undefined) mask = !this._isServer;\n\t    this._sender.ping(data || EMPTY_BUFFER, mask, cb);\n\t  }\n\n\t  /**\n\t   * Send a pong.\n\t   *\n\t   * @param {*} [data] The data to send\n\t   * @param {Boolean} [mask] Indicates whether or not to mask `data`\n\t   * @param {Function} [cb] Callback which is executed when the pong is sent\n\t   * @public\n\t   */\n\t  pong(data, mask, cb) {\n\t    if (this.readyState === WebSocket.CONNECTING) {\n\t      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n\t    }\n\n\t    if (typeof data === 'function') {\n\t      cb = data;\n\t      data = mask = undefined;\n\t    } else if (typeof mask === 'function') {\n\t      cb = mask;\n\t      mask = undefined;\n\t    }\n\n\t    if (typeof data === 'number') data = data.toString();\n\n\t    if (this.readyState !== WebSocket.OPEN) {\n\t      sendAfterClose(this, data, cb);\n\t      return;\n\t    }\n\n\t    if (mask === undefined) mask = !this._isServer;\n\t    this._sender.pong(data || EMPTY_BUFFER, mask, cb);\n\t  }\n\n\t  /**\n\t   * Resume the socket.\n\t   *\n\t   * @public\n\t   */\n\t  resume() {\n\t    if (\n\t      this.readyState === WebSocket.CONNECTING ||\n\t      this.readyState === WebSocket.CLOSED\n\t    ) {\n\t      return;\n\t    }\n\n\t    this._paused = false;\n\t    if (!this._receiver._writableState.needDrain) this._socket.resume();\n\t  }\n\n\t  /**\n\t   * Send a data message.\n\t   *\n\t   * @param {*} data The message to send\n\t   * @param {Object} [options] Options object\n\t   * @param {Boolean} [options.binary] Specifies whether `data` is binary or\n\t   *     text\n\t   * @param {Boolean} [options.compress] Specifies whether or not to compress\n\t   *     `data`\n\t   * @param {Boolean} [options.fin=true] Specifies whether the fragment is the\n\t   *     last one\n\t   * @param {Boolean} [options.mask] Specifies whether or not to mask `data`\n\t   * @param {Function} [cb] Callback which is executed when data is written out\n\t   * @public\n\t   */\n\t  send(data, options, cb) {\n\t    if (this.readyState === WebSocket.CONNECTING) {\n\t      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n\t    }\n\n\t    if (typeof options === 'function') {\n\t      cb = options;\n\t      options = {};\n\t    }\n\n\t    if (typeof data === 'number') data = data.toString();\n\n\t    if (this.readyState !== WebSocket.OPEN) {\n\t      sendAfterClose(this, data, cb);\n\t      return;\n\t    }\n\n\t    const opts = {\n\t      binary: typeof data !== 'string',\n\t      mask: !this._isServer,\n\t      compress: true,\n\t      fin: true,\n\t      ...options\n\t    };\n\n\t    if (!this._extensions[PerMessageDeflate.extensionName]) {\n\t      opts.compress = false;\n\t    }\n\n\t    this._sender.send(data || EMPTY_BUFFER, opts, cb);\n\t  }\n\n\t  /**\n\t   * Forcibly close the connection.\n\t   *\n\t   * @public\n\t   */\n\t  terminate() {\n\t    if (this.readyState === WebSocket.CLOSED) return;\n\t    if (this.readyState === WebSocket.CONNECTING) {\n\t      const msg = 'WebSocket was closed before the connection was established';\n\t      abortHandshake(this, this._req, msg);\n\t      return;\n\t    }\n\n\t    if (this._socket) {\n\t      this._readyState = WebSocket.CLOSING;\n\t      this._socket.destroy();\n\t    }\n\t  }\n\t}\n\n\t/**\n\t * @constant {Number} CONNECTING\n\t * @memberof WebSocket\n\t */\n\tObject.defineProperty(WebSocket, 'CONNECTING', {\n\t  enumerable: true,\n\t  value: readyStates.indexOf('CONNECTING')\n\t});\n\n\t/**\n\t * @constant {Number} CONNECTING\n\t * @memberof WebSocket.prototype\n\t */\n\tObject.defineProperty(WebSocket.prototype, 'CONNECTING', {\n\t  enumerable: true,\n\t  value: readyStates.indexOf('CONNECTING')\n\t});\n\n\t/**\n\t * @constant {Number} OPEN\n\t * @memberof WebSocket\n\t */\n\tObject.defineProperty(WebSocket, 'OPEN', {\n\t  enumerable: true,\n\t  value: readyStates.indexOf('OPEN')\n\t});\n\n\t/**\n\t * @constant {Number} OPEN\n\t * @memberof WebSocket.prototype\n\t */\n\tObject.defineProperty(WebSocket.prototype, 'OPEN', {\n\t  enumerable: true,\n\t  value: readyStates.indexOf('OPEN')\n\t});\n\n\t/**\n\t * @constant {Number} CLOSING\n\t * @memberof WebSocket\n\t */\n\tObject.defineProperty(WebSocket, 'CLOSING', {\n\t  enumerable: true,\n\t  value: readyStates.indexOf('CLOSING')\n\t});\n\n\t/**\n\t * @constant {Number} CLOSING\n\t * @memberof WebSocket.prototype\n\t */\n\tObject.defineProperty(WebSocket.prototype, 'CLOSING', {\n\t  enumerable: true,\n\t  value: readyStates.indexOf('CLOSING')\n\t});\n\n\t/**\n\t * @constant {Number} CLOSED\n\t * @memberof WebSocket\n\t */\n\tObject.defineProperty(WebSocket, 'CLOSED', {\n\t  enumerable: true,\n\t  value: readyStates.indexOf('CLOSED')\n\t});\n\n\t/**\n\t * @constant {Number} CLOSED\n\t * @memberof WebSocket.prototype\n\t */\n\tObject.defineProperty(WebSocket.prototype, 'CLOSED', {\n\t  enumerable: true,\n\t  value: readyStates.indexOf('CLOSED')\n\t});\n\n\t[\n\t  'binaryType',\n\t  'bufferedAmount',\n\t  'extensions',\n\t  'isPaused',\n\t  'protocol',\n\t  'readyState',\n\t  'url'\n\t].forEach((property) => {\n\t  Object.defineProperty(WebSocket.prototype, property, { enumerable: true });\n\t});\n\n\t//\n\t// Add the `onopen`, `onerror`, `onclose`, and `onmessage` attributes.\n\t// See https://html.spec.whatwg.org/multipage/comms.html#the-websocket-interface\n\t//\n\t['open', 'error', 'close', 'message'].forEach((method) => {\n\t  Object.defineProperty(WebSocket.prototype, `on${method}`, {\n\t    enumerable: true,\n\t    get() {\n\t      for (const listener of this.listeners(method)) {\n\t        if (listener[kForOnEventAttribute]) return listener[kListener];\n\t      }\n\n\t      return null;\n\t    },\n\t    set(handler) {\n\t      for (const listener of this.listeners(method)) {\n\t        if (listener[kForOnEventAttribute]) {\n\t          this.removeListener(method, listener);\n\t          break;\n\t        }\n\t      }\n\n\t      if (typeof handler !== 'function') return;\n\n\t      this.addEventListener(method, handler, {\n\t        [kForOnEventAttribute]: true\n\t      });\n\t    }\n\t  });\n\t});\n\n\tWebSocket.prototype.addEventListener = addEventListener;\n\tWebSocket.prototype.removeEventListener = removeEventListener;\n\n\twebsocket = WebSocket;\n\n\t/**\n\t * Initialize a WebSocket client.\n\t *\n\t * @param {WebSocket} websocket The client to initialize\n\t * @param {(String|URL)} address The URL to which to connect\n\t * @param {Array} protocols The subprotocols\n\t * @param {Object} [options] Connection options\n\t * @param {Boolean} [options.allowSynchronousEvents=true] Specifies whether any\n\t *     of the `'message'`, `'ping'`, and `'pong'` events can be emitted multiple\n\t *     times in the same tick\n\t * @param {Boolean} [options.autoPong=true] Specifies whether or not to\n\t *     automatically send a pong in response to a ping\n\t * @param {Function} [options.finishRequest] A function which can be used to\n\t *     customize the headers of each http request before it is sent\n\t * @param {Boolean} [options.followRedirects=false] Whether or not to follow\n\t *     redirects\n\t * @param {Function} [options.generateMask] The function used to generate the\n\t *     masking key\n\t * @param {Number} [options.handshakeTimeout] Timeout in milliseconds for the\n\t *     handshake request\n\t * @param {Number} [options.maxPayload=104857600] The maximum allowed message\n\t *     size\n\t * @param {Number} [options.maxRedirects=10] The maximum number of redirects\n\t *     allowed\n\t * @param {String} [options.origin] Value of the `Origin` or\n\t *     `Sec-WebSocket-Origin` header\n\t * @param {(Boolean|Object)} [options.perMessageDeflate=true] Enable/disable\n\t *     permessage-deflate\n\t * @param {Number} [options.protocolVersion=13] Value of the\n\t *     `Sec-WebSocket-Version` header\n\t * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n\t *     not to skip UTF-8 validation for text and close messages\n\t * @private\n\t */\n\tfunction initAsClient(websocket, address, protocols, options) {\n\t  const opts = {\n\t    allowSynchronousEvents: true,\n\t    autoPong: true,\n\t    protocolVersion: protocolVersions[1],\n\t    maxPayload: 100 * 1024 * 1024,\n\t    skipUTF8Validation: false,\n\t    perMessageDeflate: true,\n\t    followRedirects: false,\n\t    maxRedirects: 10,\n\t    ...options,\n\t    socketPath: undefined,\n\t    hostname: undefined,\n\t    protocol: undefined,\n\t    timeout: undefined,\n\t    method: 'GET',\n\t    host: undefined,\n\t    path: undefined,\n\t    port: undefined\n\t  };\n\n\t  websocket._autoPong = opts.autoPong;\n\n\t  if (!protocolVersions.includes(opts.protocolVersion)) {\n\t    throw new RangeError(\n\t      `Unsupported protocol version: ${opts.protocolVersion} ` +\n\t        `(supported versions: ${protocolVersions.join(', ')})`\n\t    );\n\t  }\n\n\t  let parsedUrl;\n\n\t  if (address instanceof URL) {\n\t    parsedUrl = address;\n\t  } else {\n\t    try {\n\t      parsedUrl = new URL(address);\n\t    } catch (e) {\n\t      throw new SyntaxError(`Invalid URL: ${address}`);\n\t    }\n\t  }\n\n\t  if (parsedUrl.protocol === 'http:') {\n\t    parsedUrl.protocol = 'ws:';\n\t  } else if (parsedUrl.protocol === 'https:') {\n\t    parsedUrl.protocol = 'wss:';\n\t  }\n\n\t  websocket._url = parsedUrl.href;\n\n\t  const isSecure = parsedUrl.protocol === 'wss:';\n\t  const isIpcUrl = parsedUrl.protocol === 'ws+unix:';\n\t  let invalidUrlMessage;\n\n\t  if (parsedUrl.protocol !== 'ws:' && !isSecure && !isIpcUrl) {\n\t    invalidUrlMessage =\n\t      'The URL\\'s protocol must be one of \"ws:\", \"wss:\", ' +\n\t      '\"http:\", \"https:\", or \"ws+unix:\"';\n\t  } else if (isIpcUrl && !parsedUrl.pathname) {\n\t    invalidUrlMessage = \"The URL's pathname is empty\";\n\t  } else if (parsedUrl.hash) {\n\t    invalidUrlMessage = 'The URL contains a fragment identifier';\n\t  }\n\n\t  if (invalidUrlMessage) {\n\t    const err = new SyntaxError(invalidUrlMessage);\n\n\t    if (websocket._redirects === 0) {\n\t      throw err;\n\t    } else {\n\t      emitErrorAndClose(websocket, err);\n\t      return;\n\t    }\n\t  }\n\n\t  const defaultPort = isSecure ? 443 : 80;\n\t  const key = randomBytes(16).toString('base64');\n\t  const request = isSecure ? https.request : http.request;\n\t  const protocolSet = new Set();\n\t  let perMessageDeflate;\n\n\t  opts.createConnection =\n\t    opts.createConnection || (isSecure ? tlsConnect : netConnect);\n\t  opts.defaultPort = opts.defaultPort || defaultPort;\n\t  opts.port = parsedUrl.port || defaultPort;\n\t  opts.host = parsedUrl.hostname.startsWith('[')\n\t    ? parsedUrl.hostname.slice(1, -1)\n\t    : parsedUrl.hostname;\n\t  opts.headers = {\n\t    ...opts.headers,\n\t    'Sec-WebSocket-Version': opts.protocolVersion,\n\t    'Sec-WebSocket-Key': key,\n\t    Connection: 'Upgrade',\n\t    Upgrade: 'websocket'\n\t  };\n\t  opts.path = parsedUrl.pathname + parsedUrl.search;\n\t  opts.timeout = opts.handshakeTimeout;\n\n\t  if (opts.perMessageDeflate) {\n\t    perMessageDeflate = new PerMessageDeflate(\n\t      opts.perMessageDeflate !== true ? opts.perMessageDeflate : {},\n\t      false,\n\t      opts.maxPayload\n\t    );\n\t    opts.headers['Sec-WebSocket-Extensions'] = format({\n\t      [PerMessageDeflate.extensionName]: perMessageDeflate.offer()\n\t    });\n\t  }\n\t  if (protocols.length) {\n\t    for (const protocol of protocols) {\n\t      if (\n\t        typeof protocol !== 'string' ||\n\t        !subprotocolRegex.test(protocol) ||\n\t        protocolSet.has(protocol)\n\t      ) {\n\t        throw new SyntaxError(\n\t          'An invalid or duplicated subprotocol was specified'\n\t        );\n\t      }\n\n\t      protocolSet.add(protocol);\n\t    }\n\n\t    opts.headers['Sec-WebSocket-Protocol'] = protocols.join(',');\n\t  }\n\t  if (opts.origin) {\n\t    if (opts.protocolVersion < 13) {\n\t      opts.headers['Sec-WebSocket-Origin'] = opts.origin;\n\t    } else {\n\t      opts.headers.Origin = opts.origin;\n\t    }\n\t  }\n\t  if (parsedUrl.username || parsedUrl.password) {\n\t    opts.auth = `${parsedUrl.username}:${parsedUrl.password}`;\n\t  }\n\n\t  if (isIpcUrl) {\n\t    const parts = opts.path.split(':');\n\n\t    opts.socketPath = parts[0];\n\t    opts.path = parts[1];\n\t  }\n\n\t  let req;\n\n\t  if (opts.followRedirects) {\n\t    if (websocket._redirects === 0) {\n\t      websocket._originalIpc = isIpcUrl;\n\t      websocket._originalSecure = isSecure;\n\t      websocket._originalHostOrSocketPath = isIpcUrl\n\t        ? opts.socketPath\n\t        : parsedUrl.host;\n\n\t      const headers = options && options.headers;\n\n\t      //\n\t      // Shallow copy the user provided options so that headers can be changed\n\t      // without mutating the original object.\n\t      //\n\t      options = { ...options, headers: {} };\n\n\t      if (headers) {\n\t        for (const [key, value] of Object.entries(headers)) {\n\t          options.headers[key.toLowerCase()] = value;\n\t        }\n\t      }\n\t    } else if (websocket.listenerCount('redirect') === 0) {\n\t      const isSameHost = isIpcUrl\n\t        ? websocket._originalIpc\n\t          ? opts.socketPath === websocket._originalHostOrSocketPath\n\t          : false\n\t        : websocket._originalIpc\n\t          ? false\n\t          : parsedUrl.host === websocket._originalHostOrSocketPath;\n\n\t      if (!isSameHost || (websocket._originalSecure && !isSecure)) {\n\t        //\n\t        // Match curl 7.77.0 behavior and drop the following headers. These\n\t        // headers are also dropped when following a redirect to a subdomain.\n\t        //\n\t        delete opts.headers.authorization;\n\t        delete opts.headers.cookie;\n\n\t        if (!isSameHost) delete opts.headers.host;\n\n\t        opts.auth = undefined;\n\t      }\n\t    }\n\n\t    //\n\t    // Match curl 7.77.0 behavior and make the first `Authorization` header win.\n\t    // If the `Authorization` header is set, then there is nothing to do as it\n\t    // will take precedence.\n\t    //\n\t    if (opts.auth && !options.headers.authorization) {\n\t      options.headers.authorization =\n\t        'Basic ' + Buffer.from(opts.auth).toString('base64');\n\t    }\n\n\t    req = websocket._req = request(opts);\n\n\t    if (websocket._redirects) {\n\t      //\n\t      // Unlike what is done for the `'upgrade'` event, no early exit is\n\t      // triggered here if the user calls `websocket.close()` or\n\t      // `websocket.terminate()` from a listener of the `'redirect'` event. This\n\t      // is because the user can also call `request.destroy()` with an error\n\t      // before calling `websocket.close()` or `websocket.terminate()` and this\n\t      // would result in an error being emitted on the `request` object with no\n\t      // `'error'` event listeners attached.\n\t      //\n\t      websocket.emit('redirect', websocket.url, req);\n\t    }\n\t  } else {\n\t    req = websocket._req = request(opts);\n\t  }\n\n\t  if (opts.timeout) {\n\t    req.on('timeout', () => {\n\t      abortHandshake(websocket, req, 'Opening handshake has timed out');\n\t    });\n\t  }\n\n\t  req.on('error', (err) => {\n\t    if (req === null || req[kAborted]) return;\n\n\t    req = websocket._req = null;\n\t    emitErrorAndClose(websocket, err);\n\t  });\n\n\t  req.on('response', (res) => {\n\t    const location = res.headers.location;\n\t    const statusCode = res.statusCode;\n\n\t    if (\n\t      location &&\n\t      opts.followRedirects &&\n\t      statusCode >= 300 &&\n\t      statusCode < 400\n\t    ) {\n\t      if (++websocket._redirects > opts.maxRedirects) {\n\t        abortHandshake(websocket, req, 'Maximum redirects exceeded');\n\t        return;\n\t      }\n\n\t      req.abort();\n\n\t      let addr;\n\n\t      try {\n\t        addr = new URL(location, address);\n\t      } catch (e) {\n\t        const err = new SyntaxError(`Invalid URL: ${location}`);\n\t        emitErrorAndClose(websocket, err);\n\t        return;\n\t      }\n\n\t      initAsClient(websocket, addr, protocols, options);\n\t    } else if (!websocket.emit('unexpected-response', req, res)) {\n\t      abortHandshake(\n\t        websocket,\n\t        req,\n\t        `Unexpected server response: ${res.statusCode}`\n\t      );\n\t    }\n\t  });\n\n\t  req.on('upgrade', (res, socket, head) => {\n\t    websocket.emit('upgrade', res);\n\n\t    //\n\t    // The user may have closed the connection from a listener of the\n\t    // `'upgrade'` event.\n\t    //\n\t    if (websocket.readyState !== WebSocket.CONNECTING) return;\n\n\t    req = websocket._req = null;\n\n\t    const upgrade = res.headers.upgrade;\n\n\t    if (upgrade === undefined || upgrade.toLowerCase() !== 'websocket') {\n\t      abortHandshake(websocket, socket, 'Invalid Upgrade header');\n\t      return;\n\t    }\n\n\t    const digest = createHash('sha1')\n\t      .update(key + GUID)\n\t      .digest('base64');\n\n\t    if (res.headers['sec-websocket-accept'] !== digest) {\n\t      abortHandshake(websocket, socket, 'Invalid Sec-WebSocket-Accept header');\n\t      return;\n\t    }\n\n\t    const serverProt = res.headers['sec-websocket-protocol'];\n\t    let protError;\n\n\t    if (serverProt !== undefined) {\n\t      if (!protocolSet.size) {\n\t        protError = 'Server sent a subprotocol but none was requested';\n\t      } else if (!protocolSet.has(serverProt)) {\n\t        protError = 'Server sent an invalid subprotocol';\n\t      }\n\t    } else if (protocolSet.size) {\n\t      protError = 'Server sent no subprotocol';\n\t    }\n\n\t    if (protError) {\n\t      abortHandshake(websocket, socket, protError);\n\t      return;\n\t    }\n\n\t    if (serverProt) websocket._protocol = serverProt;\n\n\t    const secWebSocketExtensions = res.headers['sec-websocket-extensions'];\n\n\t    if (secWebSocketExtensions !== undefined) {\n\t      if (!perMessageDeflate) {\n\t        const message =\n\t          'Server sent a Sec-WebSocket-Extensions header but no extension ' +\n\t          'was requested';\n\t        abortHandshake(websocket, socket, message);\n\t        return;\n\t      }\n\n\t      let extensions;\n\n\t      try {\n\t        extensions = parse(secWebSocketExtensions);\n\t      } catch (err) {\n\t        const message = 'Invalid Sec-WebSocket-Extensions header';\n\t        abortHandshake(websocket, socket, message);\n\t        return;\n\t      }\n\n\t      const extensionNames = Object.keys(extensions);\n\n\t      if (\n\t        extensionNames.length !== 1 ||\n\t        extensionNames[0] !== PerMessageDeflate.extensionName\n\t      ) {\n\t        const message = 'Server indicated an extension that was not requested';\n\t        abortHandshake(websocket, socket, message);\n\t        return;\n\t      }\n\n\t      try {\n\t        perMessageDeflate.accept(extensions[PerMessageDeflate.extensionName]);\n\t      } catch (err) {\n\t        const message = 'Invalid Sec-WebSocket-Extensions header';\n\t        abortHandshake(websocket, socket, message);\n\t        return;\n\t      }\n\n\t      websocket._extensions[PerMessageDeflate.extensionName] =\n\t        perMessageDeflate;\n\t    }\n\n\t    websocket.setSocket(socket, head, {\n\t      allowSynchronousEvents: opts.allowSynchronousEvents,\n\t      generateMask: opts.generateMask,\n\t      maxPayload: opts.maxPayload,\n\t      skipUTF8Validation: opts.skipUTF8Validation\n\t    });\n\t  });\n\n\t  if (opts.finishRequest) {\n\t    opts.finishRequest(req, websocket);\n\t  } else {\n\t    req.end();\n\t  }\n\t}\n\n\t/**\n\t * Emit the `'error'` and `'close'` events.\n\t *\n\t * @param {WebSocket} websocket The WebSocket instance\n\t * @param {Error} The error to emit\n\t * @private\n\t */\n\tfunction emitErrorAndClose(websocket, err) {\n\t  websocket._readyState = WebSocket.CLOSING;\n\t  //\n\t  // The following assignment is practically useless and is done only for\n\t  // consistency.\n\t  //\n\t  websocket._errorEmitted = true;\n\t  websocket.emit('error', err);\n\t  websocket.emitClose();\n\t}\n\n\t/**\n\t * Create a `net.Socket` and initiate a connection.\n\t *\n\t * @param {Object} options Connection options\n\t * @return {net.Socket} The newly created socket used to start the connection\n\t * @private\n\t */\n\tfunction netConnect(options) {\n\t  options.path = options.socketPath;\n\t  return net.connect(options);\n\t}\n\n\t/**\n\t * Create a `tls.TLSSocket` and initiate a connection.\n\t *\n\t * @param {Object} options Connection options\n\t * @return {tls.TLSSocket} The newly created socket used to start the connection\n\t * @private\n\t */\n\tfunction tlsConnect(options) {\n\t  options.path = undefined;\n\n\t  if (!options.servername && options.servername !== '') {\n\t    options.servername = net.isIP(options.host) ? '' : options.host;\n\t  }\n\n\t  return tls.connect(options);\n\t}\n\n\t/**\n\t * Abort the handshake and emit an error.\n\t *\n\t * @param {WebSocket} websocket The WebSocket instance\n\t * @param {(http.ClientRequest|net.Socket|tls.Socket)} stream The request to\n\t *     abort or the socket to destroy\n\t * @param {String} message The error message\n\t * @private\n\t */\n\tfunction abortHandshake(websocket, stream, message) {\n\t  websocket._readyState = WebSocket.CLOSING;\n\n\t  const err = new Error(message);\n\t  Error.captureStackTrace(err, abortHandshake);\n\n\t  if (stream.setHeader) {\n\t    stream[kAborted] = true;\n\t    stream.abort();\n\n\t    if (stream.socket && !stream.socket.destroyed) {\n\t      //\n\t      // On Node.js >= 14.3.0 `request.abort()` does not destroy the socket if\n\t      // called after the request completed. See\n\t      // https://github.com/websockets/ws/issues/1869.\n\t      //\n\t      stream.socket.destroy();\n\t    }\n\n\t    process.nextTick(emitErrorAndClose, websocket, err);\n\t  } else {\n\t    stream.destroy(err);\n\t    stream.once('error', websocket.emit.bind(websocket, 'error'));\n\t    stream.once('close', websocket.emitClose.bind(websocket));\n\t  }\n\t}\n\n\t/**\n\t * Handle cases where the `ping()`, `pong()`, or `send()` methods are called\n\t * when the `readyState` attribute is `CLOSING` or `CLOSED`.\n\t *\n\t * @param {WebSocket} websocket The WebSocket instance\n\t * @param {*} [data] The data to send\n\t * @param {Function} [cb] Callback\n\t * @private\n\t */\n\tfunction sendAfterClose(websocket, data, cb) {\n\t  if (data) {\n\t    const length = isBlob(data) ? data.size : toBuffer(data).length;\n\n\t    //\n\t    // The `_bufferedAmount` property is used only when the peer is a client and\n\t    // the opening handshake fails. Under these circumstances, in fact, the\n\t    // `setSocket()` method is not called, so the `_socket` and `_sender`\n\t    // properties are set to `null`.\n\t    //\n\t    if (websocket._socket) websocket._sender._bufferedBytes += length;\n\t    else websocket._bufferedAmount += length;\n\t  }\n\n\t  if (cb) {\n\t    const err = new Error(\n\t      `WebSocket is not open: readyState ${websocket.readyState} ` +\n\t        `(${readyStates[websocket.readyState]})`\n\t    );\n\t    process.nextTick(cb, err);\n\t  }\n\t}\n\n\t/**\n\t * The listener of the `Receiver` `'conclude'` event.\n\t *\n\t * @param {Number} code The status code\n\t * @param {Buffer} reason The reason for closing\n\t * @private\n\t */\n\tfunction receiverOnConclude(code, reason) {\n\t  const websocket = this[kWebSocket];\n\n\t  websocket._closeFrameReceived = true;\n\t  websocket._closeMessage = reason;\n\t  websocket._closeCode = code;\n\n\t  if (websocket._socket[kWebSocket] === undefined) return;\n\n\t  websocket._socket.removeListener('data', socketOnData);\n\t  process.nextTick(resume, websocket._socket);\n\n\t  if (code === 1005) websocket.close();\n\t  else websocket.close(code, reason);\n\t}\n\n\t/**\n\t * The listener of the `Receiver` `'drain'` event.\n\t *\n\t * @private\n\t */\n\tfunction receiverOnDrain() {\n\t  const websocket = this[kWebSocket];\n\n\t  if (!websocket.isPaused) websocket._socket.resume();\n\t}\n\n\t/**\n\t * The listener of the `Receiver` `'error'` event.\n\t *\n\t * @param {(RangeError|Error)} err The emitted error\n\t * @private\n\t */\n\tfunction receiverOnError(err) {\n\t  const websocket = this[kWebSocket];\n\n\t  if (websocket._socket[kWebSocket] !== undefined) {\n\t    websocket._socket.removeListener('data', socketOnData);\n\n\t    //\n\t    // On Node.js < 14.0.0 the `'error'` event is emitted synchronously. See\n\t    // https://github.com/websockets/ws/issues/1940.\n\t    //\n\t    process.nextTick(resume, websocket._socket);\n\n\t    websocket.close(err[kStatusCode]);\n\t  }\n\n\t  if (!websocket._errorEmitted) {\n\t    websocket._errorEmitted = true;\n\t    websocket.emit('error', err);\n\t  }\n\t}\n\n\t/**\n\t * The listener of the `Receiver` `'finish'` event.\n\t *\n\t * @private\n\t */\n\tfunction receiverOnFinish() {\n\t  this[kWebSocket].emitClose();\n\t}\n\n\t/**\n\t * The listener of the `Receiver` `'message'` event.\n\t *\n\t * @param {Buffer|ArrayBuffer|Buffer[])} data The message\n\t * @param {Boolean} isBinary Specifies whether the message is binary or not\n\t * @private\n\t */\n\tfunction receiverOnMessage(data, isBinary) {\n\t  this[kWebSocket].emit('message', data, isBinary);\n\t}\n\n\t/**\n\t * The listener of the `Receiver` `'ping'` event.\n\t *\n\t * @param {Buffer} data The data included in the ping frame\n\t * @private\n\t */\n\tfunction receiverOnPing(data) {\n\t  const websocket = this[kWebSocket];\n\n\t  if (websocket._autoPong) websocket.pong(data, !this._isServer, NOOP);\n\t  websocket.emit('ping', data);\n\t}\n\n\t/**\n\t * The listener of the `Receiver` `'pong'` event.\n\t *\n\t * @param {Buffer} data The data included in the pong frame\n\t * @private\n\t */\n\tfunction receiverOnPong(data) {\n\t  this[kWebSocket].emit('pong', data);\n\t}\n\n\t/**\n\t * Resume a readable stream\n\t *\n\t * @param {Readable} stream The readable stream\n\t * @private\n\t */\n\tfunction resume(stream) {\n\t  stream.resume();\n\t}\n\n\t/**\n\t * The `Sender` error event handler.\n\t *\n\t * @param {Error} The error\n\t * @private\n\t */\n\tfunction senderOnError(err) {\n\t  const websocket = this[kWebSocket];\n\n\t  if (websocket.readyState === WebSocket.CLOSED) return;\n\t  if (websocket.readyState === WebSocket.OPEN) {\n\t    websocket._readyState = WebSocket.CLOSING;\n\t    setCloseTimer(websocket);\n\t  }\n\n\t  //\n\t  // `socket.end()` is used instead of `socket.destroy()` to allow the other\n\t  // peer to finish sending queued data. There is no need to set a timer here\n\t  // because `CLOSING` means that it is already set or not needed.\n\t  //\n\t  this._socket.end();\n\n\t  if (!websocket._errorEmitted) {\n\t    websocket._errorEmitted = true;\n\t    websocket.emit('error', err);\n\t  }\n\t}\n\n\t/**\n\t * Set a timer to destroy the underlying raw socket of a WebSocket.\n\t *\n\t * @param {WebSocket} websocket The WebSocket instance\n\t * @private\n\t */\n\tfunction setCloseTimer(websocket) {\n\t  websocket._closeTimer = setTimeout(\n\t    websocket._socket.destroy.bind(websocket._socket),\n\t    closeTimeout\n\t  );\n\t}\n\n\t/**\n\t * The listener of the socket `'close'` event.\n\t *\n\t * @private\n\t */\n\tfunction socketOnClose() {\n\t  const websocket = this[kWebSocket];\n\n\t  this.removeListener('close', socketOnClose);\n\t  this.removeListener('data', socketOnData);\n\t  this.removeListener('end', socketOnEnd);\n\n\t  websocket._readyState = WebSocket.CLOSING;\n\n\t  let chunk;\n\n\t  //\n\t  // The close frame might not have been received or the `'end'` event emitted,\n\t  // for example, if the socket was destroyed due to an error. Ensure that the\n\t  // `receiver` stream is closed after writing any remaining buffered data to\n\t  // it. If the readable side of the socket is in flowing mode then there is no\n\t  // buffered data as everything has been already written and `readable.read()`\n\t  // will return `null`. If instead, the socket is paused, any possible buffered\n\t  // data will be read as a single chunk.\n\t  //\n\t  if (\n\t    !this._readableState.endEmitted &&\n\t    !websocket._closeFrameReceived &&\n\t    !websocket._receiver._writableState.errorEmitted &&\n\t    (chunk = websocket._socket.read()) !== null\n\t  ) {\n\t    websocket._receiver.write(chunk);\n\t  }\n\n\t  websocket._receiver.end();\n\n\t  this[kWebSocket] = undefined;\n\n\t  clearTimeout(websocket._closeTimer);\n\n\t  if (\n\t    websocket._receiver._writableState.finished ||\n\t    websocket._receiver._writableState.errorEmitted\n\t  ) {\n\t    websocket.emitClose();\n\t  } else {\n\t    websocket._receiver.on('error', receiverOnFinish);\n\t    websocket._receiver.on('finish', receiverOnFinish);\n\t  }\n\t}\n\n\t/**\n\t * The listener of the socket `'data'` event.\n\t *\n\t * @param {Buffer} chunk A chunk of data\n\t * @private\n\t */\n\tfunction socketOnData(chunk) {\n\t  if (!this[kWebSocket]._receiver.write(chunk)) {\n\t    this.pause();\n\t  }\n\t}\n\n\t/**\n\t * The listener of the socket `'end'` event.\n\t *\n\t * @private\n\t */\n\tfunction socketOnEnd() {\n\t  const websocket = this[kWebSocket];\n\n\t  websocket._readyState = WebSocket.CLOSING;\n\t  websocket._receiver.end();\n\t  this.end();\n\t}\n\n\t/**\n\t * The listener of the socket `'error'` event.\n\t *\n\t * @private\n\t */\n\tfunction socketOnError() {\n\t  const websocket = this[kWebSocket];\n\n\t  this.removeListener('error', socketOnError);\n\t  this.on('error', NOOP);\n\n\t  if (websocket) {\n\t    websocket._readyState = WebSocket.CLOSING;\n\t    this.destroy();\n\t  }\n\t}\n\treturn websocket;\n}\n\n/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^WebSocket$\" }] */\n\nvar stream;\nvar hasRequiredStream;\n\nfunction requireStream () {\n\tif (hasRequiredStream) return stream;\n\thasRequiredStream = 1;\n\n\trequireWebsocket();\n\tconst { Duplex } = require$$0$2;\n\n\t/**\n\t * Emits the `'close'` event on a stream.\n\t *\n\t * @param {Duplex} stream The stream.\n\t * @private\n\t */\n\tfunction emitClose(stream) {\n\t  stream.emit('close');\n\t}\n\n\t/**\n\t * The listener of the `'end'` event.\n\t *\n\t * @private\n\t */\n\tfunction duplexOnEnd() {\n\t  if (!this.destroyed && this._writableState.finished) {\n\t    this.destroy();\n\t  }\n\t}\n\n\t/**\n\t * The listener of the `'error'` event.\n\t *\n\t * @param {Error} err The error\n\t * @private\n\t */\n\tfunction duplexOnError(err) {\n\t  this.removeListener('error', duplexOnError);\n\t  this.destroy();\n\t  if (this.listenerCount('error') === 0) {\n\t    // Do not suppress the throwing behavior.\n\t    this.emit('error', err);\n\t  }\n\t}\n\n\t/**\n\t * Wraps a `WebSocket` in a duplex stream.\n\t *\n\t * @param {WebSocket} ws The `WebSocket` to wrap\n\t * @param {Object} [options] The options for the `Duplex` constructor\n\t * @return {Duplex} The duplex stream\n\t * @public\n\t */\n\tfunction createWebSocketStream(ws, options) {\n\t  let terminateOnDestroy = true;\n\n\t  const duplex = new Duplex({\n\t    ...options,\n\t    autoDestroy: false,\n\t    emitClose: false,\n\t    objectMode: false,\n\t    writableObjectMode: false\n\t  });\n\n\t  ws.on('message', function message(msg, isBinary) {\n\t    const data =\n\t      !isBinary && duplex._readableState.objectMode ? msg.toString() : msg;\n\n\t    if (!duplex.push(data)) ws.pause();\n\t  });\n\n\t  ws.once('error', function error(err) {\n\t    if (duplex.destroyed) return;\n\n\t    // Prevent `ws.terminate()` from being called by `duplex._destroy()`.\n\t    //\n\t    // - If the `'error'` event is emitted before the `'open'` event, then\n\t    //   `ws.terminate()` is a noop as no socket is assigned.\n\t    // - Otherwise, the error is re-emitted by the listener of the `'error'`\n\t    //   event of the `Receiver` object. The listener already closes the\n\t    //   connection by calling `ws.close()`. This allows a close frame to be\n\t    //   sent to the other peer. If `ws.terminate()` is called right after this,\n\t    //   then the close frame might not be sent.\n\t    terminateOnDestroy = false;\n\t    duplex.destroy(err);\n\t  });\n\n\t  ws.once('close', function close() {\n\t    if (duplex.destroyed) return;\n\n\t    duplex.push(null);\n\t  });\n\n\t  duplex._destroy = function (err, callback) {\n\t    if (ws.readyState === ws.CLOSED) {\n\t      callback(err);\n\t      process.nextTick(emitClose, duplex);\n\t      return;\n\t    }\n\n\t    let called = false;\n\n\t    ws.once('error', function error(err) {\n\t      called = true;\n\t      callback(err);\n\t    });\n\n\t    ws.once('close', function close() {\n\t      if (!called) callback(err);\n\t      process.nextTick(emitClose, duplex);\n\t    });\n\n\t    if (terminateOnDestroy) ws.terminate();\n\t  };\n\n\t  duplex._final = function (callback) {\n\t    if (ws.readyState === ws.CONNECTING) {\n\t      ws.once('open', function open() {\n\t        duplex._final(callback);\n\t      });\n\t      return;\n\t    }\n\n\t    // If the value of the `_socket` property is `null` it means that `ws` is a\n\t    // client websocket and the handshake failed. In fact, when this happens, a\n\t    // socket is never assigned to the websocket. Wait for the `'error'` event\n\t    // that will be emitted by the websocket.\n\t    if (ws._socket === null) return;\n\n\t    if (ws._socket._writableState.finished) {\n\t      callback();\n\t      if (duplex._readableState.endEmitted) duplex.destroy();\n\t    } else {\n\t      ws._socket.once('finish', function finish() {\n\t        // `duplex` is not destroyed here because the `'end'` event will be\n\t        // emitted on `duplex` after this `'finish'` event. The EOF signaling\n\t        // `null` chunk is, in fact, pushed when the websocket emits `'close'`.\n\t        callback();\n\t      });\n\t      ws.close();\n\t    }\n\t  };\n\n\t  duplex._read = function () {\n\t    if (ws.isPaused) ws.resume();\n\t  };\n\n\t  duplex._write = function (chunk, encoding, callback) {\n\t    if (ws.readyState === ws.CONNECTING) {\n\t      ws.once('open', function open() {\n\t        duplex._write(chunk, encoding, callback);\n\t      });\n\t      return;\n\t    }\n\n\t    ws.send(chunk, callback);\n\t  };\n\n\t  duplex.on('end', duplexOnEnd);\n\t  duplex.on('error', duplexOnError);\n\t  return duplex;\n\t}\n\n\tstream = createWebSocketStream;\n\treturn stream;\n}\n\nrequireStream();\n\nrequireReceiver();\n\nrequireSender();\n\nrequireWebsocket();\n\nvar subprotocol;\nvar hasRequiredSubprotocol;\n\nfunction requireSubprotocol () {\n\tif (hasRequiredSubprotocol) return subprotocol;\n\thasRequiredSubprotocol = 1;\n\n\tconst { tokenChars } = requireValidation();\n\n\t/**\n\t * Parses the `Sec-WebSocket-Protocol` header into a set of subprotocol names.\n\t *\n\t * @param {String} header The field value of the header\n\t * @return {Set} The subprotocol names\n\t * @public\n\t */\n\tfunction parse(header) {\n\t  const protocols = new Set();\n\t  let start = -1;\n\t  let end = -1;\n\t  let i = 0;\n\n\t  for (i; i < header.length; i++) {\n\t    const code = header.charCodeAt(i);\n\n\t    if (end === -1 && tokenChars[code] === 1) {\n\t      if (start === -1) start = i;\n\t    } else if (\n\t      i !== 0 &&\n\t      (code === 0x20 /* ' ' */ || code === 0x09) /* '\\t' */\n\t    ) {\n\t      if (end === -1 && start !== -1) end = i;\n\t    } else if (code === 0x2c /* ',' */) {\n\t      if (start === -1) {\n\t        throw new SyntaxError(`Unexpected character at index ${i}`);\n\t      }\n\n\t      if (end === -1) end = i;\n\n\t      const protocol = header.slice(start, end);\n\n\t      if (protocols.has(protocol)) {\n\t        throw new SyntaxError(`The \"${protocol}\" subprotocol is duplicated`);\n\t      }\n\n\t      protocols.add(protocol);\n\t      start = end = -1;\n\t    } else {\n\t      throw new SyntaxError(`Unexpected character at index ${i}`);\n\t    }\n\t  }\n\n\t  if (start === -1 || end !== -1) {\n\t    throw new SyntaxError('Unexpected end of input');\n\t  }\n\n\t  const protocol = header.slice(start, i);\n\n\t  if (protocols.has(protocol)) {\n\t    throw new SyntaxError(`The \"${protocol}\" subprotocol is duplicated`);\n\t  }\n\n\t  protocols.add(protocol);\n\t  return protocols;\n\t}\n\n\tsubprotocol = { parse };\n\treturn subprotocol;\n}\n\n/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^Duplex$\", \"caughtErrors\": \"none\" }] */\n\nvar websocketServer;\nvar hasRequiredWebsocketServer;\n\nfunction requireWebsocketServer () {\n\tif (hasRequiredWebsocketServer) return websocketServer;\n\thasRequiredWebsocketServer = 1;\n\n\tconst EventEmitter = require$$0$3;\n\tconst http = require$$2;\n\tconst { Duplex } = require$$0$2;\n\tconst { createHash } = require$$1;\n\n\tconst extension = requireExtension();\n\tconst PerMessageDeflate = requirePermessageDeflate();\n\tconst subprotocol = requireSubprotocol();\n\tconst WebSocket = requireWebsocket();\n\tconst { GUID, kWebSocket } = requireConstants();\n\n\tconst keyRegex = /^[+/0-9A-Za-z]{22}==$/;\n\n\tconst RUNNING = 0;\n\tconst CLOSING = 1;\n\tconst CLOSED = 2;\n\n\t/**\n\t * Class representing a WebSocket server.\n\t *\n\t * @extends EventEmitter\n\t */\n\tclass WebSocketServer extends EventEmitter {\n\t  /**\n\t   * Create a `WebSocketServer` instance.\n\t   *\n\t   * @param {Object} options Configuration options\n\t   * @param {Boolean} [options.allowSynchronousEvents=true] Specifies whether\n\t   *     any of the `'message'`, `'ping'`, and `'pong'` events can be emitted\n\t   *     multiple times in the same tick\n\t   * @param {Boolean} [options.autoPong=true] Specifies whether or not to\n\t   *     automatically send a pong in response to a ping\n\t   * @param {Number} [options.backlog=511] The maximum length of the queue of\n\t   *     pending connections\n\t   * @param {Boolean} [options.clientTracking=true] Specifies whether or not to\n\t   *     track clients\n\t   * @param {Function} [options.handleProtocols] A hook to handle protocols\n\t   * @param {String} [options.host] The hostname where to bind the server\n\t   * @param {Number} [options.maxPayload=104857600] The maximum allowed message\n\t   *     size\n\t   * @param {Boolean} [options.noServer=false] Enable no server mode\n\t   * @param {String} [options.path] Accept only connections matching this path\n\t   * @param {(Boolean|Object)} [options.perMessageDeflate=false] Enable/disable\n\t   *     permessage-deflate\n\t   * @param {Number} [options.port] The port where to bind the server\n\t   * @param {(http.Server|https.Server)} [options.server] A pre-created HTTP/S\n\t   *     server to use\n\t   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n\t   *     not to skip UTF-8 validation for text and close messages\n\t   * @param {Function} [options.verifyClient] A hook to reject connections\n\t   * @param {Function} [options.WebSocket=WebSocket] Specifies the `WebSocket`\n\t   *     class to use. It must be the `WebSocket` class or class that extends it\n\t   * @param {Function} [callback] A listener for the `listening` event\n\t   */\n\t  constructor(options, callback) {\n\t    super();\n\n\t    options = {\n\t      allowSynchronousEvents: true,\n\t      autoPong: true,\n\t      maxPayload: 100 * 1024 * 1024,\n\t      skipUTF8Validation: false,\n\t      perMessageDeflate: false,\n\t      handleProtocols: null,\n\t      clientTracking: true,\n\t      verifyClient: null,\n\t      noServer: false,\n\t      backlog: null, // use default (511 as implemented in net.js)\n\t      server: null,\n\t      host: null,\n\t      path: null,\n\t      port: null,\n\t      WebSocket,\n\t      ...options\n\t    };\n\n\t    if (\n\t      (options.port == null && !options.server && !options.noServer) ||\n\t      (options.port != null && (options.server || options.noServer)) ||\n\t      (options.server && options.noServer)\n\t    ) {\n\t      throw new TypeError(\n\t        'One and only one of the \"port\", \"server\", or \"noServer\" options ' +\n\t          'must be specified'\n\t      );\n\t    }\n\n\t    if (options.port != null) {\n\t      this._server = http.createServer((req, res) => {\n\t        const body = http.STATUS_CODES[426];\n\n\t        res.writeHead(426, {\n\t          'Content-Length': body.length,\n\t          'Content-Type': 'text/plain'\n\t        });\n\t        res.end(body);\n\t      });\n\t      this._server.listen(\n\t        options.port,\n\t        options.host,\n\t        options.backlog,\n\t        callback\n\t      );\n\t    } else if (options.server) {\n\t      this._server = options.server;\n\t    }\n\n\t    if (this._server) {\n\t      const emitConnection = this.emit.bind(this, 'connection');\n\n\t      this._removeListeners = addListeners(this._server, {\n\t        listening: this.emit.bind(this, 'listening'),\n\t        error: this.emit.bind(this, 'error'),\n\t        upgrade: (req, socket, head) => {\n\t          this.handleUpgrade(req, socket, head, emitConnection);\n\t        }\n\t      });\n\t    }\n\n\t    if (options.perMessageDeflate === true) options.perMessageDeflate = {};\n\t    if (options.clientTracking) {\n\t      this.clients = new Set();\n\t      this._shouldEmitClose = false;\n\t    }\n\n\t    this.options = options;\n\t    this._state = RUNNING;\n\t  }\n\n\t  /**\n\t   * Returns the bound address, the address family name, and port of the server\n\t   * as reported by the operating system if listening on an IP socket.\n\t   * If the server is listening on a pipe or UNIX domain socket, the name is\n\t   * returned as a string.\n\t   *\n\t   * @return {(Object|String|null)} The address of the server\n\t   * @public\n\t   */\n\t  address() {\n\t    if (this.options.noServer) {\n\t      throw new Error('The server is operating in \"noServer\" mode');\n\t    }\n\n\t    if (!this._server) return null;\n\t    return this._server.address();\n\t  }\n\n\t  /**\n\t   * Stop the server from accepting new connections and emit the `'close'` event\n\t   * when all existing connections are closed.\n\t   *\n\t   * @param {Function} [cb] A one-time listener for the `'close'` event\n\t   * @public\n\t   */\n\t  close(cb) {\n\t    if (this._state === CLOSED) {\n\t      if (cb) {\n\t        this.once('close', () => {\n\t          cb(new Error('The server is not running'));\n\t        });\n\t      }\n\n\t      process.nextTick(emitClose, this);\n\t      return;\n\t    }\n\n\t    if (cb) this.once('close', cb);\n\n\t    if (this._state === CLOSING) return;\n\t    this._state = CLOSING;\n\n\t    if (this.options.noServer || this.options.server) {\n\t      if (this._server) {\n\t        this._removeListeners();\n\t        this._removeListeners = this._server = null;\n\t      }\n\n\t      if (this.clients) {\n\t        if (!this.clients.size) {\n\t          process.nextTick(emitClose, this);\n\t        } else {\n\t          this._shouldEmitClose = true;\n\t        }\n\t      } else {\n\t        process.nextTick(emitClose, this);\n\t      }\n\t    } else {\n\t      const server = this._server;\n\n\t      this._removeListeners();\n\t      this._removeListeners = this._server = null;\n\n\t      //\n\t      // The HTTP/S server was created internally. Close it, and rely on its\n\t      // `'close'` event.\n\t      //\n\t      server.close(() => {\n\t        emitClose(this);\n\t      });\n\t    }\n\t  }\n\n\t  /**\n\t   * See if a given request should be handled by this server instance.\n\t   *\n\t   * @param {http.IncomingMessage} req Request object to inspect\n\t   * @return {Boolean} `true` if the request is valid, else `false`\n\t   * @public\n\t   */\n\t  shouldHandle(req) {\n\t    if (this.options.path) {\n\t      const index = req.url.indexOf('?');\n\t      const pathname = index !== -1 ? req.url.slice(0, index) : req.url;\n\n\t      if (pathname !== this.options.path) return false;\n\t    }\n\n\t    return true;\n\t  }\n\n\t  /**\n\t   * Handle a HTTP Upgrade request.\n\t   *\n\t   * @param {http.IncomingMessage} req The request object\n\t   * @param {Duplex} socket The network socket between the server and client\n\t   * @param {Buffer} head The first packet of the upgraded stream\n\t   * @param {Function} cb Callback\n\t   * @public\n\t   */\n\t  handleUpgrade(req, socket, head, cb) {\n\t    socket.on('error', socketOnError);\n\n\t    const key = req.headers['sec-websocket-key'];\n\t    const upgrade = req.headers.upgrade;\n\t    const version = +req.headers['sec-websocket-version'];\n\n\t    if (req.method !== 'GET') {\n\t      const message = 'Invalid HTTP method';\n\t      abortHandshakeOrEmitwsClientError(this, req, socket, 405, message);\n\t      return;\n\t    }\n\n\t    if (upgrade === undefined || upgrade.toLowerCase() !== 'websocket') {\n\t      const message = 'Invalid Upgrade header';\n\t      abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n\t      return;\n\t    }\n\n\t    if (key === undefined || !keyRegex.test(key)) {\n\t      const message = 'Missing or invalid Sec-WebSocket-Key header';\n\t      abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n\t      return;\n\t    }\n\n\t    if (version !== 13 && version !== 8) {\n\t      const message = 'Missing or invalid Sec-WebSocket-Version header';\n\t      abortHandshakeOrEmitwsClientError(this, req, socket, 400, message, {\n\t        'Sec-WebSocket-Version': '13, 8'\n\t      });\n\t      return;\n\t    }\n\n\t    if (!this.shouldHandle(req)) {\n\t      abortHandshake(socket, 400);\n\t      return;\n\t    }\n\n\t    const secWebSocketProtocol = req.headers['sec-websocket-protocol'];\n\t    let protocols = new Set();\n\n\t    if (secWebSocketProtocol !== undefined) {\n\t      try {\n\t        protocols = subprotocol.parse(secWebSocketProtocol);\n\t      } catch (err) {\n\t        const message = 'Invalid Sec-WebSocket-Protocol header';\n\t        abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n\t        return;\n\t      }\n\t    }\n\n\t    const secWebSocketExtensions = req.headers['sec-websocket-extensions'];\n\t    const extensions = {};\n\n\t    if (\n\t      this.options.perMessageDeflate &&\n\t      secWebSocketExtensions !== undefined\n\t    ) {\n\t      const perMessageDeflate = new PerMessageDeflate(\n\t        this.options.perMessageDeflate,\n\t        true,\n\t        this.options.maxPayload\n\t      );\n\n\t      try {\n\t        const offers = extension.parse(secWebSocketExtensions);\n\n\t        if (offers[PerMessageDeflate.extensionName]) {\n\t          perMessageDeflate.accept(offers[PerMessageDeflate.extensionName]);\n\t          extensions[PerMessageDeflate.extensionName] = perMessageDeflate;\n\t        }\n\t      } catch (err) {\n\t        const message =\n\t          'Invalid or unacceptable Sec-WebSocket-Extensions header';\n\t        abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n\t        return;\n\t      }\n\t    }\n\n\t    //\n\t    // Optionally call external client verification handler.\n\t    //\n\t    if (this.options.verifyClient) {\n\t      const info = {\n\t        origin:\n\t          req.headers[`${version === 8 ? 'sec-websocket-origin' : 'origin'}`],\n\t        secure: !!(req.socket.authorized || req.socket.encrypted),\n\t        req\n\t      };\n\n\t      if (this.options.verifyClient.length === 2) {\n\t        this.options.verifyClient(info, (verified, code, message, headers) => {\n\t          if (!verified) {\n\t            return abortHandshake(socket, code || 401, message, headers);\n\t          }\n\n\t          this.completeUpgrade(\n\t            extensions,\n\t            key,\n\t            protocols,\n\t            req,\n\t            socket,\n\t            head,\n\t            cb\n\t          );\n\t        });\n\t        return;\n\t      }\n\n\t      if (!this.options.verifyClient(info)) return abortHandshake(socket, 401);\n\t    }\n\n\t    this.completeUpgrade(extensions, key, protocols, req, socket, head, cb);\n\t  }\n\n\t  /**\n\t   * Upgrade the connection to WebSocket.\n\t   *\n\t   * @param {Object} extensions The accepted extensions\n\t   * @param {String} key The value of the `Sec-WebSocket-Key` header\n\t   * @param {Set} protocols The subprotocols\n\t   * @param {http.IncomingMessage} req The request object\n\t   * @param {Duplex} socket The network socket between the server and client\n\t   * @param {Buffer} head The first packet of the upgraded stream\n\t   * @param {Function} cb Callback\n\t   * @throws {Error} If called more than once with the same socket\n\t   * @private\n\t   */\n\t  completeUpgrade(extensions, key, protocols, req, socket, head, cb) {\n\t    //\n\t    // Destroy the socket if the client has already sent a FIN packet.\n\t    //\n\t    if (!socket.readable || !socket.writable) return socket.destroy();\n\n\t    if (socket[kWebSocket]) {\n\t      throw new Error(\n\t        'server.handleUpgrade() was called more than once with the same ' +\n\t          'socket, possibly due to a misconfiguration'\n\t      );\n\t    }\n\n\t    if (this._state > RUNNING) return abortHandshake(socket, 503);\n\n\t    const digest = createHash('sha1')\n\t      .update(key + GUID)\n\t      .digest('base64');\n\n\t    const headers = [\n\t      'HTTP/1.1 101 Switching Protocols',\n\t      'Upgrade: websocket',\n\t      'Connection: Upgrade',\n\t      `Sec-WebSocket-Accept: ${digest}`\n\t    ];\n\n\t    const ws = new this.options.WebSocket(null, undefined, this.options);\n\n\t    if (protocols.size) {\n\t      //\n\t      // Optionally call external protocol selection handler.\n\t      //\n\t      const protocol = this.options.handleProtocols\n\t        ? this.options.handleProtocols(protocols, req)\n\t        : protocols.values().next().value;\n\n\t      if (protocol) {\n\t        headers.push(`Sec-WebSocket-Protocol: ${protocol}`);\n\t        ws._protocol = protocol;\n\t      }\n\t    }\n\n\t    if (extensions[PerMessageDeflate.extensionName]) {\n\t      const params = extensions[PerMessageDeflate.extensionName].params;\n\t      const value = extension.format({\n\t        [PerMessageDeflate.extensionName]: [params]\n\t      });\n\t      headers.push(`Sec-WebSocket-Extensions: ${value}`);\n\t      ws._extensions = extensions;\n\t    }\n\n\t    //\n\t    // Allow external modification/inspection of handshake headers.\n\t    //\n\t    this.emit('headers', headers, req);\n\n\t    socket.write(headers.concat('\\r\\n').join('\\r\\n'));\n\t    socket.removeListener('error', socketOnError);\n\n\t    ws.setSocket(socket, head, {\n\t      allowSynchronousEvents: this.options.allowSynchronousEvents,\n\t      maxPayload: this.options.maxPayload,\n\t      skipUTF8Validation: this.options.skipUTF8Validation\n\t    });\n\n\t    if (this.clients) {\n\t      this.clients.add(ws);\n\t      ws.on('close', () => {\n\t        this.clients.delete(ws);\n\n\t        if (this._shouldEmitClose && !this.clients.size) {\n\t          process.nextTick(emitClose, this);\n\t        }\n\t      });\n\t    }\n\n\t    cb(ws, req);\n\t  }\n\t}\n\n\twebsocketServer = WebSocketServer;\n\n\t/**\n\t * Add event listeners on an `EventEmitter` using a map of <event, listener>\n\t * pairs.\n\t *\n\t * @param {EventEmitter} server The event emitter\n\t * @param {Object.<String, Function>} map The listeners to add\n\t * @return {Function} A function that will remove the added listeners when\n\t *     called\n\t * @private\n\t */\n\tfunction addListeners(server, map) {\n\t  for (const event of Object.keys(map)) server.on(event, map[event]);\n\n\t  return function removeListeners() {\n\t    for (const event of Object.keys(map)) {\n\t      server.removeListener(event, map[event]);\n\t    }\n\t  };\n\t}\n\n\t/**\n\t * Emit a `'close'` event on an `EventEmitter`.\n\t *\n\t * @param {EventEmitter} server The event emitter\n\t * @private\n\t */\n\tfunction emitClose(server) {\n\t  server._state = CLOSED;\n\t  server.emit('close');\n\t}\n\n\t/**\n\t * Handle socket errors.\n\t *\n\t * @private\n\t */\n\tfunction socketOnError() {\n\t  this.destroy();\n\t}\n\n\t/**\n\t * Close the connection when preconditions are not fulfilled.\n\t *\n\t * @param {Duplex} socket The socket of the upgrade request\n\t * @param {Number} code The HTTP response status code\n\t * @param {String} [message] The HTTP response body\n\t * @param {Object} [headers] Additional HTTP response headers\n\t * @private\n\t */\n\tfunction abortHandshake(socket, code, message, headers) {\n\t  //\n\t  // The socket is writable unless the user destroyed or ended it before calling\n\t  // `server.handleUpgrade()` or in the `verifyClient` function, which is a user\n\t  // error. Handling this does not make much sense as the worst that can happen\n\t  // is that some of the data written by the user might be discarded due to the\n\t  // call to `socket.end()` below, which triggers an `'error'` event that in\n\t  // turn causes the socket to be destroyed.\n\t  //\n\t  message = message || http.STATUS_CODES[code];\n\t  headers = {\n\t    Connection: 'close',\n\t    'Content-Type': 'text/html',\n\t    'Content-Length': Buffer.byteLength(message),\n\t    ...headers\n\t  };\n\n\t  socket.once('finish', socket.destroy);\n\n\t  socket.end(\n\t    `HTTP/1.1 ${code} ${http.STATUS_CODES[code]}\\r\\n` +\n\t      Object.keys(headers)\n\t        .map((h) => `${h}: ${headers[h]}`)\n\t        .join('\\r\\n') +\n\t      '\\r\\n\\r\\n' +\n\t      message\n\t  );\n\t}\n\n\t/**\n\t * Emit a `'wsClientError'` event on a `WebSocketServer` if there is at least\n\t * one listener for it, otherwise call `abortHandshake()`.\n\t *\n\t * @param {WebSocketServer} server The WebSocket server\n\t * @param {http.IncomingMessage} req The request object\n\t * @param {Duplex} socket The socket of the upgrade request\n\t * @param {Number} code The HTTP response status code\n\t * @param {String} message The HTTP response body\n\t * @param {Object} [headers] The HTTP response headers\n\t * @private\n\t */\n\tfunction abortHandshakeOrEmitwsClientError(\n\t  server,\n\t  req,\n\t  socket,\n\t  code,\n\t  message,\n\t  headers\n\t) {\n\t  if (server.listenerCount('wsClientError')) {\n\t    const err = new Error(message);\n\t    Error.captureStackTrace(err, abortHandshakeOrEmitwsClientError);\n\n\t    server.emit('wsClientError', err, socket, req);\n\t  } else {\n\t    abortHandshake(socket, code, message, headers);\n\t  }\n\t}\n\treturn websocketServer;\n}\n\nvar websocketServerExports = requireWebsocketServer();\nvar WebSocketServer = /*@__PURE__*/getDefaultExportFromCjs(websocketServerExports);\n\nasync function getModuleGraph(ctx, projectName, id, browser = false) {\n\tconst graph = {}, externalized = /* @__PURE__ */ new Set(), inlined = /* @__PURE__ */ new Set(), project = ctx.getProjectByName(projectName);\n\tasync function get(mod, seen = /* @__PURE__ */ new Map()) {\n\t\tif (!mod || !mod.id || mod.id === \"\\0vitest/browser\") return;\n\t\tif (seen.has(mod)) return seen.get(mod);\n\t\tlet id = clearId(mod.id);\n\t\tseen.set(mod, id);\n\t\t// TODO: how to know if it was rewritten(?) - what is rewritten?\n\t\tconst rewrote = browser ? mod.file?.includes(project.browser.vite.config.cacheDir) ? mod.id : false : false;\n\t\tif (rewrote) id = rewrote, externalized.add(id), seen.set(mod, id);\n\t\telse inlined.add(id);\n\t\tconst mods = Array.from(mod.importedModules).filter((i) => i.id && !i.id.includes(\"/vitest/dist/\"));\n\t\treturn graph[id] = (await Promise.all(mods.map((m) => get(m, seen)))).filter(Boolean), id;\n\t}\n\tif (browser && project.browser) await get(project.browser.vite.moduleGraph.getModuleById(id));\n\telse await get(project.vite.moduleGraph.getModuleById(id));\n\treturn {\n\t\tgraph,\n\t\texternalized: Array.from(externalized),\n\t\tinlined: Array.from(inlined)\n\t};\n}\nfunction clearId(id) {\n\treturn id?.replace(/\\?v=\\w+$/, \"\") || \"\";\n}\n\n// Serialization support utils.\nfunction cloneByOwnProperties(value) {\n\t// Clones the value's properties into a new Object. The simpler approach of\n\t// Object.assign() won't work in the case that properties are not enumerable.\n\treturn Object.getOwnPropertyNames(value).reduce((clone, prop) => {\n\t\treturn clone[prop] = value[prop], clone;\n\t}, {});\n}\n/**\n* Replacer function for serialization methods such as JS.stringify() or\n* flatted.stringify().\n*/\nfunction stringifyReplace(key, value) {\n\tif (value instanceof Error) {\n\t\tconst cloned = cloneByOwnProperties(value);\n\t\treturn {\n\t\t\tname: value.name,\n\t\t\tmessage: value.message,\n\t\t\tstack: value.stack,\n\t\t\t...cloned\n\t\t};\n\t} else return value;\n}\n\nfunction isValidApiRequest(config, req) {\n\tconst url = new URL(req.url ?? \"\", \"http://localhost\");\n\t// validate token. token is injected in ui/tester/orchestrator html, which is cross origin protected.\n\ttry {\n\t\tconst token = url.searchParams.get(\"token\");\n\t\tif (token && crypto.timingSafeEqual(Buffer.from(token), Buffer.from(config.api.token))) return true;\n\t} \n\t// an error is thrown when the length is incorrect\ncatch {}\n\treturn false;\n}\n\nfunction setup(ctx, _server) {\n\tconst wss = new WebSocketServer({ noServer: true }), clients = /* @__PURE__ */ new Map();\n\t(_server || ctx.vite).httpServer?.on(\"upgrade\", (request, socket, head) => {\n\t\tif (!request.url) return;\n\t\tconst { pathname } = new URL(request.url, \"http://localhost\");\n\t\tif (pathname === API_PATH) {\n\t\t\tif (!isValidApiRequest(ctx.config, request)) {\n\t\t\t\tsocket.destroy();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\twss.handleUpgrade(request, socket, head, (ws) => {\n\t\t\t\twss.emit(\"connection\", ws, request), setupClient(ws);\n\t\t\t});\n\t\t}\n\t});\n\tfunction setupClient(ws) {\n\t\tconst rpc = createBirpc({\n\t\t\tasync onTaskUpdate(packs, events) {\n\t\t\t\tawait ctx._testRun.updated(packs, events);\n\t\t\t},\n\t\t\tgetFiles() {\n\t\t\t\treturn ctx.state.getFiles();\n\t\t\t},\n\t\t\tgetPaths() {\n\t\t\t\treturn ctx.state.getPaths();\n\t\t\t},\n\t\t\tasync readTestFile(id) {\n\t\t\t\treturn !ctx.state.filesMap.has(id) || !existsSync(id) ? null : promises$1.readFile(id, \"utf-8\");\n\t\t\t},\n\t\t\tasync saveTestFile(id, content) {\n\t\t\t\tif (!ctx.state.filesMap.has(id) || !existsSync(id)) throw new Error(`Test file \"${id}\" was not registered, so it cannot be updated using the API.`);\n\t\t\t\treturn promises$1.writeFile(id, content, \"utf-8\");\n\t\t\t},\n\t\t\tasync rerun(files, resetTestNamePattern) {\n\t\t\t\tawait ctx.rerunFiles(files, void 0, true, resetTestNamePattern);\n\t\t\t},\n\t\t\tasync rerunTask(id) {\n\t\t\t\tawait ctx.rerunTask(id);\n\t\t\t},\n\t\t\tgetConfig() {\n\t\t\t\treturn ctx.getRootProject().serializedConfig;\n\t\t\t},\n\t\t\tgetResolvedProjectLabels() {\n\t\t\t\treturn ctx.projects.map((p) => ({\n\t\t\t\t\tname: p.name,\n\t\t\t\t\tcolor: p.color\n\t\t\t\t}));\n\t\t\t},\n\t\t\tasync getTransformResult(projectName, id, browser = false) {\n\t\t\t\tconst project = ctx.getProjectByName(projectName), result = browser ? await project.browser.vite.transformRequest(id) : await project.vite.transformRequest(id);\n\t\t\t\tif (result) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tresult.source = result.source || await promises$1.readFile(id, \"utf-8\");\n\t\t\t\t\t} catch {}\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t},\n\t\t\tasync getModuleGraph(project, id, browser) {\n\t\t\t\treturn getModuleGraph(ctx, project, id, browser);\n\t\t\t},\n\t\t\tasync updateSnapshot(file) {\n\t\t\t\tif (!file) await ctx.updateSnapshot();\n\t\t\t\telse await ctx.updateSnapshot([file.filepath]);\n\t\t\t},\n\t\t\tgetUnhandledErrors() {\n\t\t\t\treturn ctx.state.getUnhandledErrors();\n\t\t\t},\n\t\t\tasync getTestFiles() {\n\t\t\t\treturn (await ctx.globTestSpecifications()).map((spec) => [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: spec.project.config.name,\n\t\t\t\t\t\troot: spec.project.config.root\n\t\t\t\t\t},\n\t\t\t\t\tspec.moduleId,\n\t\t\t\t\t{ pool: spec.pool }\n\t\t\t\t]);\n\t\t\t}\n\t\t}, {\n\t\t\tpost: (msg) => ws.send(msg),\n\t\t\ton: (fn) => ws.on(\"message\", fn),\n\t\t\teventNames: [\n\t\t\t\t\"onUserConsoleLog\",\n\t\t\t\t\"onFinished\",\n\t\t\t\t\"onFinishedReportCoverage\",\n\t\t\t\t\"onCollected\",\n\t\t\t\t\"onTaskUpdate\"\n\t\t\t],\n\t\t\tserialize: (data) => stringify(data, stringifyReplace),\n\t\t\tdeserialize: parse,\n\t\t\ttimeout: -1\n\t\t});\n\t\tclients.set(ws, rpc), ws.on(\"close\", () => {\n\t\t\tclients.delete(ws), rpc.$close(/* @__PURE__ */ new Error(\"[vitest-api]: Pending methods while closing rpc\"));\n\t\t});\n\t}\n\tctx.reporters.push(new WebSocketReporter(ctx, wss, clients));\n}\nclass WebSocketReporter {\n\tconstructor(ctx, wss, clients) {\n\t\tthis.ctx = ctx, this.wss = wss, this.clients = clients;\n\t}\n\tonTestModuleCollected(testModule) {\n\t\tthis.clients.size !== 0 && this.clients.forEach((client) => {\n\t\t\tclient.onCollected?.([testModule.task])?.catch?.(noop);\n\t\t});\n\t}\n\tonTestRunStart(specifications) {\n\t\tif (this.clients.size === 0) return;\n\t\tconst serializedSpecs = specifications.map((spec) => spec.toJSON());\n\t\tthis.clients.forEach((client) => {\n\t\t\tclient.onSpecsCollected?.(serializedSpecs)?.catch?.(noop);\n\t\t});\n\t}\n\tasync onTestCaseAnnotate(testCase, annotation) {\n\t\tthis.clients.size !== 0 && this.clients.forEach((client) => {\n\t\t\tclient.onTestAnnotate?.(testCase.id, annotation)?.catch?.(noop);\n\t\t});\n\t}\n\tasync onTaskUpdate(packs, events) {\n\t\tthis.clients.size !== 0 && this.clients.forEach((client) => {\n\t\t\tclient.onTaskUpdate?.(packs, events)?.catch?.(noop);\n\t\t});\n\t}\n\tonTestRunEnd(testModules, unhandledErrors) {\n\t\tif (!this.clients.size) return;\n\t\tconst files = testModules.map((testModule) => testModule.task), errors = [...unhandledErrors];\n\t\tthis.clients.forEach((client) => {\n\t\t\tclient.onFinished?.(files, errors)?.catch?.(noop);\n\t\t});\n\t}\n\tonFinishedReportCoverage() {\n\t\tthis.clients.forEach((client) => {\n\t\t\tclient.onFinishedReportCoverage?.()?.catch?.(noop);\n\t\t});\n\t}\n\tonUserConsoleLog(log) {\n\t\tthis.clients.forEach((client) => {\n\t\t\tclient.onUserConsoleLog?.(log)?.catch?.(noop);\n\t\t});\n\t}\n}\n\nvar setup$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  WebSocketReporter: WebSocketReporter,\n  setup: setup\n});\n\nfunction groupBy(collection, iteratee) {\n\treturn collection.reduce((acc, item) => {\n\t\tconst key = iteratee(item);\n\t\treturn acc[key] ||= [], acc[key].push(item), acc;\n\t}, {});\n}\nfunction stdout() {\n\t// @ts-expect-error Node.js maps process.stdout to console._stdout\n\t// eslint-disable-next-line no-console\n\treturn console._stdout || process.stdout;\n}\nfunction escapeRegExp(s) {\n\t// From https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions#escaping\n\treturn s.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n}\nfunction wildcardPatternToRegExp(pattern) {\n\tconst negated = pattern[0] === \"!\";\n\tif (negated) pattern = pattern.slice(1);\n\tlet regexp = `${pattern.split(\"*\").map(escapeRegExp).join(\".*\")}$`;\n\tif (negated) regexp = `(?!${regexp})`;\n\treturn new RegExp(`^${regexp}`, \"i\");\n}\n\nfunction createDebugger(namespace) {\n\tconst debug = createDebug(namespace);\n\tif (debug.enabled) return debug;\n}\n\nconst debug$1 = createDebugger(\"vitest:ast-collect-info\"), verbose = createDebugger(\"vitest:ast-collect-verbose\");\nfunction astParseFile(filepath, code) {\n\tconst ast = parseAst(code);\n\tif (verbose) verbose(\"Collecting\", filepath, code);\n\telse debug$1?.(\"Collecting\", filepath);\n\tconst definitions = [], getName = (callee) => {\n\t\tif (!callee) return null;\n\t\tif (callee.type === \"Identifier\") return callee.name;\n\t\tif (callee.type === \"CallExpression\") return getName(callee.callee);\n\t\tif (callee.type === \"TaggedTemplateExpression\") return getName(callee.tag);\n\t\tif (callee.type === \"MemberExpression\")\n // call as `__vite_ssr__.test.skip()`\n\t\treturn callee.object?.type === \"Identifier\" && [\n\t\t\t\"it\",\n\t\t\t\"test\",\n\t\t\t\"describe\",\n\t\t\t\"suite\"\n\t\t].includes(callee.object.name) ? callee.object?.name : callee.object?.name?.startsWith(\"__vite_ssr_\") || callee.object?.object?.name?.startsWith(\"__vite_ssr_\") && callee.object?.property?.name === \"Vitest\" ? getName(callee.property) : getName(callee.object?.property);\n\t\t// unwrap (0, ...)\n\t\tif (callee.type === \"SequenceExpression\" && callee.expressions.length === 2) {\n\t\t\tconst [e0, e1] = callee.expressions;\n\t\t\tif (e0.type === \"Literal\" && e0.value === 0) return getName(e1);\n\t\t}\n\t\treturn null;\n\t};\n\treturn ancestor(ast, { CallExpression(node) {\n\t\tconst { callee } = node, name = getName(callee);\n\t\tif (!name) return;\n\t\tif (![\n\t\t\t\"it\",\n\t\t\t\"test\",\n\t\t\t\"describe\",\n\t\t\t\"suite\"\n\t\t].includes(name)) {\n\t\t\tverbose?.(`Skipping ${name} (unknown call)`);\n\t\t\treturn;\n\t\t}\n\t\tconst property = callee?.property?.name;\n\t\tlet mode = !property || property === name ? \"run\" : property;\n\t\t// they will be picked up in the next iteration\n\t\tif ([\n\t\t\t\"each\",\n\t\t\t\"for\",\n\t\t\t\"skipIf\",\n\t\t\t\"runIf\"\n\t\t].includes(mode)) return;\n\t\tlet start;\n\t\tconst end = node.end;\n\t\t// .each or (0, __vite_ssr_exports_0__.test)()\n\t\tif (callee.type === \"CallExpression\" || callee.type === \"SequenceExpression\" || callee.type === \"TaggedTemplateExpression\") start = callee.end;\n\t\telse start = node.start;\n\t\tconst messageNode = node.arguments?.[0];\n\t\tif (messageNode == null) {\n\t\t\tverbose?.(`Skipping node at ${node.start} because it doesn't have a name`);\n\t\t\treturn;\n\t\t}\n\t\tlet message;\n\t\tif (messageNode?.type === \"Literal\" || messageNode?.type === \"TemplateLiteral\") message = code.slice(messageNode.start + 1, messageNode.end - 1);\n\t\telse message = code.slice(messageNode.start, messageNode.end);\n\t\tif (message.startsWith(\"0,\")) message = message.slice(2);\n\t\t// cannot statically analyze, so we always skip it\n\t\tif (message = message.replace(/__vite_ssr_import_\\d+__\\./g, \"\").replace(/__vi_import_\\d+__\\./g, \"\"), mode === \"skipIf\" || mode === \"runIf\") mode = \"skip\";\n\t\tconst parentCalleeName = typeof callee?.callee === \"object\" && callee?.callee.type === \"MemberExpression\" && callee?.callee.property?.name;\n\t\tlet isDynamicEach = parentCalleeName === \"each\" || parentCalleeName === \"for\";\n\t\tif (!isDynamicEach && callee.type === \"TaggedTemplateExpression\") {\n\t\t\tconst property = callee.tag?.property?.name;\n\t\t\tisDynamicEach = property === \"each\" || property === \"for\";\n\t\t}\n\t\tdebug$1?.(\"Found\", name, message, `(${mode})`), definitions.push({\n\t\t\tstart,\n\t\t\tend,\n\t\t\tname: message,\n\t\t\ttype: name === \"it\" || name === \"test\" ? \"test\" : \"suite\",\n\t\t\tmode,\n\t\t\ttask: null,\n\t\t\tdynamic: isDynamicEach\n\t\t});\n\t} }), {\n\t\tast,\n\t\tdefinitions\n\t};\n}\nfunction createFailedFileTask(project, filepath, error) {\n\tconst testFilepath = relative(project.config.root, filepath), file = {\n\t\tfilepath,\n\t\ttype: \"suite\",\n\t\tid: /* @__PURE__ */ generateHash$1(`${testFilepath}${project.config.name || \"\"}`),\n\t\tname: testFilepath,\n\t\tmode: \"run\",\n\t\ttasks: [],\n\t\tstart: 0,\n\t\tend: 0,\n\t\tprojectName: project.name,\n\t\tmeta: {},\n\t\tpool: project.browser ? \"browser\" : project.config.pool,\n\t\tfile: null,\n\t\tresult: {\n\t\t\tstate: \"fail\",\n\t\t\terrors: serializeError(project, error)\n\t\t}\n\t};\n\treturn file.file = file, file;\n}\nfunction serializeError(ctx, error) {\n\treturn \"errors\" in error && \"pluginCode\" in error ? error.errors.map((e) => {\n\t\treturn {\n\t\t\tname: error.name,\n\t\t\tmessage: e.text,\n\t\t\tstack: e.location ? `${error.name}: ${e.text}\\n  at ${relative(ctx.config.root, e.location.file)}:${e.location.line}:${e.location.column}` : \"\"\n\t\t};\n\t}) : [{\n\t\tname: error.name,\n\t\tstack: error.stack,\n\t\tmessage: error.message\n\t}];\n}\nfunction createFileTask(testFilepath, code, requestMap, options) {\n\tconst { definitions, ast } = astParseFile(testFilepath, code), file = {\n\t\tfilepath: options.filepath,\n\t\ttype: \"suite\",\n\t\tid: /* @__PURE__ */ generateHash$1(`${testFilepath}${options.name || \"\"}`),\n\t\tname: testFilepath,\n\t\tmode: \"run\",\n\t\ttasks: [],\n\t\tstart: ast.start,\n\t\tend: ast.end,\n\t\tprojectName: options.name,\n\t\tmeta: {},\n\t\tpool: \"browser\",\n\t\tfile: null\n\t};\n\tfile.file = file;\n\tconst indexMap = createIndexMap(code), map = requestMap && new TraceMap(requestMap);\n\tlet lastSuite = file;\n\tconst updateLatestSuite = (index) => {\n\t\twhile (lastSuite.suite && lastSuite.end < index) lastSuite = lastSuite.suite;\n\t\treturn lastSuite;\n\t};\n\tdefinitions.sort((a, b) => a.start - b.start).forEach((definition) => {\n\t\tconst latestSuite = updateLatestSuite(definition.start);\n\t\tlet mode = definition.mode;\n\t\tif (latestSuite.mode !== \"run\")\n // inherit suite mode, if it's set\n\t\tmode = latestSuite.mode;\n\t\tconst processedLocation = indexMap.get(definition.start);\n\t\tlet location;\n\t\tif (map && processedLocation) {\n\t\t\tconst originalLocation = originalPositionFor(map, {\n\t\t\t\tline: processedLocation.line,\n\t\t\t\tcolumn: processedLocation.column\n\t\t\t});\n\t\t\tif (originalLocation.column != null) verbose?.(`Found location for`, definition.type, definition.name, `${processedLocation.line}:${processedLocation.column}`, \"->\", `${originalLocation.line}:${originalLocation.column}`), location = originalLocation;\n\t\t\telse debug$1?.(\"Cannot find original location for\", definition.type, definition.name, `${processedLocation.column}:${processedLocation.line}`);\n\t\t} else debug$1?.(\"Cannot find original location for\", definition.type, definition.name, `${definition.start}`);\n\t\tif (definition.type === \"suite\") {\n\t\t\tconst task = {\n\t\t\t\ttype: definition.type,\n\t\t\t\tid: \"\",\n\t\t\t\tsuite: latestSuite,\n\t\t\t\tfile,\n\t\t\t\ttasks: [],\n\t\t\t\tmode,\n\t\t\t\tname: definition.name,\n\t\t\t\tend: definition.end,\n\t\t\t\tstart: definition.start,\n\t\t\t\tlocation,\n\t\t\t\tdynamic: definition.dynamic,\n\t\t\t\tmeta: {}\n\t\t\t};\n\t\t\tdefinition.task = task, latestSuite.tasks.push(task), lastSuite = task;\n\t\t\treturn;\n\t\t}\n\t\tconst task = {\n\t\t\ttype: definition.type,\n\t\t\tid: \"\",\n\t\t\tsuite: latestSuite,\n\t\t\tfile,\n\t\t\tmode,\n\t\t\tcontext: {},\n\t\t\tname: definition.name,\n\t\t\tend: definition.end,\n\t\t\tstart: definition.start,\n\t\t\tlocation,\n\t\t\tdynamic: definition.dynamic,\n\t\t\tmeta: {},\n\t\t\ttimeout: 0,\n\t\t\tannotations: []\n\t\t};\n\t\tdefinition.task = task, latestSuite.tasks.push(task);\n\t}), calculateSuiteHash(file);\n\tconst hasOnly = someTasksAreOnly(file);\n\tif (interpretTaskModes(file, options.testNamePattern, void 0, hasOnly, false, options.allowOnly), markDynamicTests(file.tasks), !file.tasks.length) file.result = {\n\t\tstate: \"fail\",\n\t\terrors: [{\n\t\t\tname: \"Error\",\n\t\t\tmessage: `No test suite found in file ${options.filepath}`\n\t\t}]\n\t};\n\treturn file;\n}\nasync function astCollectTests(project, filepath) {\n\tconst request = await transformSSR(project, filepath), testFilepath = relative(project.config.root, filepath);\n\treturn request ? createFileTask(testFilepath, request.code, request.map, {\n\t\tname: project.config.name,\n\t\tfilepath,\n\t\tallowOnly: project.config.allowOnly,\n\t\ttestNamePattern: project.config.testNamePattern,\n\t\tpool: project.browser ? \"browser\" : project.config.pool\n\t}) : (debug$1?.(\"Cannot parse\", testFilepath, \"(vite didn't return anything)\"), createFailedFileTask(project, filepath, /* @__PURE__ */ new Error(`Failed to parse ${testFilepath}. Vite didn't return anything.`)));\n}\nasync function transformSSR(project, filepath) {\n\tconst request = await project.vite.transformRequest(filepath, { ssr: false });\n\treturn request ? await project.vite.ssrTransform(request.code, request.map, filepath) : null;\n}\nfunction createIndexMap(source) {\n\tconst map = /* @__PURE__ */ new Map();\n\tlet index = 0, line = 1, column = 1;\n\tfor (const char of source) if (map.set(index++, {\n\t\tline,\n\t\tcolumn\n\t}), char === \"\\n\" || char === \"\\r\\n\") line++, column = 0;\n\telse column++;\n\treturn map;\n}\nfunction markDynamicTests(tasks) {\n\tfor (const task of tasks) {\n\t\tif (task.dynamic) task.id += \"-dynamic\";\n\t\tif (\"tasks\" in task) markDynamicTests(task.tasks);\n\t}\n}\nfunction escapeRegex(str) {\n\treturn str.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n}\nconst kReplacers = new Map([\n\t[\"%i\", \"\\\\d+?\"],\n\t[\"%#\", \"\\\\d+?\"],\n\t[\"%d\", \"[\\\\d.eE+-]+?\"],\n\t[\"%f\", \"[\\\\d.eE+-]+?\"],\n\t[\"%s\", \".+?\"],\n\t[\"%j\", \".+?\"],\n\t[\"%o\", \".+?\"],\n\t[\"%%\", \"%\"]\n]);\nfunction escapeTestName(label, dynamic) {\n\tif (!dynamic) return escapeRegex(label);\n\t// Replace object access patterns ($value, $obj.a) with %s first\n\tlet pattern = label.replace(/\\$[a-z_.]+/gi, \"%s\");\n\treturn pattern = escapeRegex(pattern), pattern = pattern.replace(/%[i#dfsjo%]/g, (m) => kReplacers.get(m) || m), pattern;\n}\n\nclass BrowserSessions {\n\tsessions = /* @__PURE__ */ new Map();\n\tsessionIds = /* @__PURE__ */ new Set();\n\tgetSession(sessionId) {\n\t\treturn this.sessions.get(sessionId);\n\t}\n\tdestroySession(sessionId) {\n\t\tthis.sessions.delete(sessionId);\n\t}\n\tcreateSession(sessionId, project, pool) {\n\t\t// this promise only waits for the WS connection with the orhcestrator to be established\n\t\tconst defer = createDefer(), timeout = setTimeout(() => {\n\t\t\tdefer.reject(/* @__PURE__ */ new Error(`Failed to connect to the browser session \"${sessionId}\" [${project.name}] within the timeout.`));\n\t\t}, project.vitest.config.browser.connectTimeout ?? 6e4).unref();\n\t\treturn this.sessions.set(sessionId, {\n\t\t\tproject,\n\t\t\tconnected: () => {\n\t\t\t\tdefer.resolve(), clearTimeout(timeout);\n\t\t\t},\n\t\t\tfail: (error) => {\n\t\t\t\tdefer.resolve(), clearTimeout(timeout), pool.reject(error);\n\t\t\t}\n\t\t}), defer;\n\t}\n}\n\nclass FilesStatsCache {\n\tcache = /* @__PURE__ */ new Map();\n\tgetStats(key) {\n\t\treturn this.cache.get(key);\n\t}\n\tasync populateStats(root, specs) {\n\t\tconst promises = specs.map((spec) => {\n\t\t\tconst key = `${spec.project.name}:${relative(root, spec.moduleId)}`;\n\t\t\treturn this.updateStats(spec.moduleId, key);\n\t\t});\n\t\tawait Promise.all(promises);\n\t}\n\tasync updateStats(fsPath, key) {\n\t\tif (!fs.existsSync(fsPath)) return;\n\t\tconst stats = await fs.promises.stat(fsPath);\n\t\tthis.cache.set(key, { size: stats.size });\n\t}\n\tremoveStats(fsPath) {\n\t\tthis.cache.forEach((_, key) => {\n\t\t\tif (key.endsWith(fsPath)) this.cache.delete(key);\n\t\t});\n\t}\n}\n\nclass ResultsCache {\n\tcache = /* @__PURE__ */ new Map();\n\tworkspacesKeyMap = /* @__PURE__ */ new Map();\n\tcachePath = null;\n\tversion;\n\troot = \"/\";\n\tconstructor(version) {\n\t\tthis.version = version;\n\t}\n\tgetCachePath() {\n\t\treturn this.cachePath;\n\t}\n\tsetConfig(root, config) {\n\t\tif (this.root = root, config) this.cachePath = resolve(config.dir, \"results.json\");\n\t}\n\tgetResults(key) {\n\t\treturn this.cache.get(key);\n\t}\n\tasync readFromCache() {\n\t\tif (!this.cachePath || !fs.existsSync(this.cachePath)) return;\n\t\tconst resultsCache = await fs.promises.readFile(this.cachePath, \"utf8\"), { results, version } = JSON.parse(resultsCache || \"[]\"), [major, minor] = version.split(\".\");\n\t\t// handling changed in 0.30.0\n\t\tif (major > 0 || Number(minor) >= 30) this.cache = new Map(results), this.version = version, results.forEach(([spec]) => {\n\t\t\tconst [projectName, relativePath] = spec.split(\":\"), keyMap = this.workspacesKeyMap.get(relativePath) || [];\n\t\t\tkeyMap.push(projectName), this.workspacesKeyMap.set(relativePath, keyMap);\n\t\t});\n\t}\n\tupdateResults(files) {\n\t\tfiles.forEach((file) => {\n\t\t\tconst result = file.result;\n\t\t\tif (!result) return;\n\t\t\tconst duration = result.duration || 0, relativePath = relative(this.root, file.filepath);\n\t\t\tthis.cache.set(`${file.projectName || \"\"}:${relativePath}`, {\n\t\t\t\tduration: duration >= 0 ? duration : 0,\n\t\t\t\tfailed: result.state === \"fail\"\n\t\t\t});\n\t\t});\n\t}\n\tremoveFromCache(filepath) {\n\t\tthis.cache.forEach((_, key) => {\n\t\t\tif (key.endsWith(filepath)) this.cache.delete(key);\n\t\t});\n\t}\n\tasync writeToCache() {\n\t\tif (!this.cachePath) return;\n\t\tconst results = Array.from(this.cache.entries()), cacheDirname = dirname(this.cachePath);\n\t\tif (!fs.existsSync(cacheDirname)) await fs.promises.mkdir(cacheDirname, { recursive: true });\n\t\tconst cache = JSON.stringify({\n\t\t\tversion: this.version,\n\t\t\tresults\n\t\t});\n\t\tawait fs.promises.writeFile(this.cachePath, cache);\n\t}\n}\n\nclass VitestCache {\n\tresults;\n\tstats = new FilesStatsCache();\n\tconstructor(version) {\n\t\tthis.results = new ResultsCache(version);\n\t}\n\tgetFileTestResults(key) {\n\t\treturn this.results.getResults(key);\n\t}\n\tgetFileStats(key) {\n\t\treturn this.stats.getStats(key);\n\t}\n\tstatic resolveCacheDir(root, dir, projectName) {\n\t\tconst baseDir = slash(dir || \"node_modules/.vite\");\n\t\treturn resolve(root, baseDir, \"vitest\", hash(\"sha1\", projectName || \"\", \"hex\"));\n\t}\n}\n\nconst created = /* @__PURE__ */ new Set(), promises = /* @__PURE__ */ new Map();\nfunction createFetchModuleFunction(resolver, tmpDir = join(tmpdir(), nanoid()), dump) {\n\treturn async (url, importer, environment, cacheFs, options) => {\n\t\t// We are copy pasting Vite's externalization logic from `fetchModule` because\n\t\t// we instead rely on our own `shouldExternalize` method because Vite\n\t\t// doesn't support `resolve.external` in non SSR environments (jsdom/happy-dom)\n\t\tif (url.startsWith(\"data:\")) return {\n\t\t\texternalize: url,\n\t\t\ttype: \"builtin\"\n\t\t};\n\t\tif (url === \"/@vite/client\" || url === \"@vite/client\")\n // this will be stubbed\n\t\treturn {\n\t\t\texternalize: \"/@vite/client\",\n\t\t\ttype: \"module\"\n\t\t};\n\t\tconst isFileUrl = url.startsWith(\"file://\");\n\t\tif (isExternalUrl(url) && !isFileUrl) return {\n\t\t\texternalize: url,\n\t\t\ttype: \"network\"\n\t\t};\n\t\t// Vite does the same in `fetchModule`, but we want to externalize modules ourselves,\n\t\t// so we do this first to resolve the module and check its `id`. The next call of\n\t\t// `ensureEntryFromUrl` inside `fetchModule` is cached and should take no time\n\t\t// This also makes it so externalized modules are inside the module graph.\n\t\tconst moduleGraphModule = await environment.moduleGraph.ensureEntryFromUrl(unwrapId(url)), cached = !!moduleGraphModule.transformResult;\n\t\t// if url is already cached, we can just confirm it's also cached on the server\n\t\tif (options?.cached && cached) return { cache: true };\n\t\tif (moduleGraphModule.id) {\n\t\t\tconst externalize = await resolver.shouldExternalize(moduleGraphModule.id);\n\t\t\tif (externalize) return {\n\t\t\t\texternalize,\n\t\t\t\ttype: \"module\"\n\t\t\t};\n\t\t}\n\t\tlet moduleRunnerModule;\n\t\tif (dump?.dumpFolder && dump.readFromDump) {\n\t\t\tconst path = resolve(dump?.dumpFolder, url.replace(/[^\\w+]/g, \"-\"));\n\t\t\tif (existsSync(path)) {\n\t\t\t\tconst code = await readFile(path, \"utf-8\"), matchIndex = code.lastIndexOf(\"\\n//\");\n\t\t\t\tif (matchIndex !== -1) {\n\t\t\t\t\tconst { id, file } = JSON.parse(code.slice(matchIndex + 4));\n\t\t\t\t\tmoduleRunnerModule = {\n\t\t\t\t\t\tcode,\n\t\t\t\t\t\tid,\n\t\t\t\t\t\turl,\n\t\t\t\t\t\tfile,\n\t\t\t\t\t\tinvalidate: false\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (!moduleRunnerModule) moduleRunnerModule = await fetchModule(environment, url, importer, {\n\t\t\t...options,\n\t\t\tinlineSourceMap: false\n\t\t}).catch(handleRollupError);\n\t\tconst result = processResultSource(environment, moduleRunnerModule);\n\t\tif (dump?.dumpFolder && \"code\" in result) {\n\t\t\tconst path = resolve(dump?.dumpFolder, result.url.replace(/[^\\w+]/g, \"-\"));\n\t\t\tawait writeFile(path, `${result.code}\\n// ${JSON.stringify({\n\t\t\t\tid: result.id,\n\t\t\t\tfile: result.file\n\t\t\t})}`, \"utf-8\");\n\t\t}\n\t\tif (!cacheFs || !(\"code\" in result)) return result;\n\t\tconst code = result.code, transformResult = result.transformResult;\n\t\tif (!transformResult) throw new Error(`\"transformResult\" in not defined. This is a bug in Vitest.`);\n\t\t// to avoid serialising large chunks of code,\n\t\t// we store them in a tmp file and read in the test thread\n\t\tif (\"_vitestTmp\" in transformResult) return getCachedResult(result, Reflect.get(transformResult, \"_vitestTmp\"));\n\t\tconst dir = join(tmpDir, environment.name), name = hash(\"sha1\", result.id, \"hex\"), tmp = join(dir, name);\n\t\tif (!created.has(dir)) mkdirSync(dir, { recursive: true }), created.add(dir);\n\t\treturn promises.has(tmp) ? (await promises.get(tmp), Reflect.set(transformResult, \"_vitestTmp\", tmp), getCachedResult(result, tmp)) : (promises.set(tmp, atomicWriteFile(tmp, code).catch(() => writeFile(tmp, code, \"utf-8\")).finally(() => promises.delete(tmp))), await promises.get(tmp), getCachedResult(result, tmp));\n\t};\n}\nlet SOURCEMAPPING_URL = \"sourceMa\";\nSOURCEMAPPING_URL += \"ppingURL\";\nconst MODULE_RUNNER_SOURCEMAPPING_SOURCE = \"//# sourceMappingSource=vite-generated\";\nfunction processResultSource(environment, result) {\n\tif (!(\"code\" in result)) return result;\n\tconst node = environment.moduleGraph.getModuleById(result.id);\n\tif (node?.transformResult)\n // this also overrides node.transformResult.code which is also what the module\n\t// runner does under the hood by default (we disable source maps inlining)\n\tinlineSourceMap(node.transformResult);\n\treturn {\n\t\t...result,\n\t\tcode: node?.transformResult?.code || result.code,\n\t\ttransformResult: node?.transformResult\n\t};\n}\nconst OTHER_SOURCE_MAP_REGEXP = new RegExp(`//# ${SOURCEMAPPING_URL}=data:application/json[^,]+base64,([A-Za-z0-9+/=]+)$`, \"gm\");\n// we have to inline the source map ourselves, because\n// - we don't need //# sourceURL since we are running code in VM\n//   - important in stack traces and the V8 coverage\n// - we need to inject an empty line for --inspect-brk\nfunction inlineSourceMap(result) {\n\tconst map = result.map;\n\tlet code = result.code;\n\tif (!map || !(\"version\" in map) || code.includes(MODULE_RUNNER_SOURCEMAPPING_SOURCE)) return result;\n\tif (OTHER_SOURCE_MAP_REGEXP.lastIndex = 0, OTHER_SOURCE_MAP_REGEXP.test(code)) code = code.replace(OTHER_SOURCE_MAP_REGEXP, \"\");\n\tconst sourceMap = { ...map };\n\t// If the first line is not present on source maps, add simple 1:1 mapping ([0,0,0,0], [1,0,0,0])\n\t// so that debuggers can be set to break on first line\n\tif (sourceMap.mappings[0] === \";\") sourceMap.mappings = `AAAA,CAAA${sourceMap.mappings}`;\n\treturn result.code = `${code.trimEnd()}\\n${MODULE_RUNNER_SOURCEMAPPING_SOURCE}\\n//# ${SOURCEMAPPING_URL}=${genSourceMapUrl(sourceMap)}\\n`, result;\n}\nfunction genSourceMapUrl(map) {\n\tif (typeof map !== \"string\") map = JSON.stringify(map);\n\treturn `data:application/json;base64,${Buffer.from(map).toString(\"base64\")}`;\n}\nfunction getCachedResult(result, tmp) {\n\treturn {\n\t\tcached: true,\n\t\tfile: result.file,\n\t\tid: result.id,\n\t\ttmp,\n\t\turl: result.url,\n\t\tinvalidate: result.invalidate\n\t};\n}\n// serialize rollup error on server to preserve details as a test error\nfunction handleRollupError(e) {\n\tthrow e instanceof Error && (\"plugin\" in e || \"frame\" in e || \"id\" in e) ? {\n\t\tname: e.name,\n\t\tmessage: e.message,\n\t\tstack: e.stack,\n\t\tcause: e.cause,\n\t\t__vitest_rollup_error__: {\n\t\t\tplugin: e.plugin,\n\t\t\tid: e.id,\n\t\t\tloc: e.loc,\n\t\t\tframe: e.frame\n\t\t}\n\t} : e;\n}\n/**\n* Performs an atomic write operation using the write-then-rename pattern.\n*\n* Why we need this:\n* - Ensures file integrity by never leaving partially written files on disk\n* - Prevents other processes from reading incomplete data during writes\n* - Particularly important for test files where incomplete writes could cause test failures\n*\n* The implementation writes to a temporary file first, then renames it to the target path.\n* This rename operation is atomic on most filesystems (including POSIX-compliant ones),\n* guaranteeing that other processes will only ever see the complete file.\n*\n* Added in https://github.com/vitest-dev/vitest/pull/7531\n*/\nasync function atomicWriteFile(realFilePath, data) {\n\tconst dir = dirname(realFilePath), tmpFilePath = join(dir, `.tmp-${Date.now()}-${Math.random().toString(36).slice(2)}`);\n\ttry {\n\t\tawait writeFile(tmpFilePath, data, \"utf-8\"), await rename(tmpFilePath, realFilePath);\n\t} finally {\n\t\ttry {\n\t\t\tif (await stat(tmpFilePath)) await unlink(tmpFilePath);\n\t\t} catch {}\n\t}\n}\n\n// this is copy pasted from vite\nfunction normalizeResolvedIdToUrl(environment, resolvedId) {\n\tconst root = environment.config.root, depsOptimizer = environment.depsOptimizer;\n\tlet url;\n\t// normalize all imports into resolved URLs\n\t// e.g. `import 'foo'` -> `import '/@fs/.../node_modules/foo/index.js'`\n\tif (resolvedId.startsWith(withTrailingSlash(root)))\n // in root: infer short absolute path from root\n\turl = resolvedId.slice(root.length);\n\telse if (depsOptimizer?.isOptimizedDepFile(resolvedId) || resolvedId !== \"/@react-refresh\" && path.isAbsolute(resolvedId) && existsSync(cleanUrl(resolvedId)))\n // an optimized deps may not yet exists in the filesystem, or\n\t// a regular file exists but is out of root: rewrite to absolute /@fs/ paths\n\turl = path.posix.join(\"/@fs/\", resolvedId);\n\telse url = resolvedId;\n\t// if the resolved id is not a valid browser import specifier,\n\t// prefix it to make it valid. We will strip this before feeding it\n\t// back into the transform pipeline\n\tif (url[0] !== \".\" && url[0] !== \"/\") url = wrapId(resolvedId);\n\treturn url;\n}\n\nclass ServerModuleRunner extends ModuleRunner {\n\tconstructor(environment, fetcher, config) {\n\t\tsuper({\n\t\t\thmr: false,\n\t\t\ttransport: { async invoke(event) {\n\t\t\t\tif (event.type !== \"custom\") throw new Error(`Vitest Module Runner doesn't support Vite HMR events.`);\n\t\t\t\tconst { name, data } = event.data;\n\t\t\t\tif (name === \"getBuiltins\") return await environment.hot.handleInvoke(event);\n\t\t\t\tif (name !== \"fetchModule\") return { error: /* @__PURE__ */ new Error(`Unknown method: ${name}. Expected \"fetchModule\".`) };\n\t\t\t\ttry {\n\t\t\t\t\treturn { result: await fetcher(data[0], data[1], environment, false, data[2]) };\n\t\t\t\t} catch (error) {\n\t\t\t\t\treturn { error };\n\t\t\t\t}\n\t\t\t} }\n\t\t}, new VitestModuleEvaluator()), this.environment = environment, this.config = config;\n\t}\n\tasync import(rawId) {\n\t\tconst resolved = await this.environment.pluginContainer.resolveId(rawId, this.config.root);\n\t\tif (!resolved) return super.import(rawId);\n\t\t// Vite will make \"@vitest/coverage-v8\" into \"@vitest/coverage-v8.js\" url\n\t\t// instead of using an actual file path-like URL, so we resolve it here first\n\t\tconst url = normalizeResolvedIdToUrl(this.environment, resolved.id);\n\t\treturn super.import(url);\n\t}\n}\n\nclass FilesNotFoundError extends Error {\n\tcode = \"VITEST_FILES_NOT_FOUND\";\n\tconstructor(mode) {\n\t\tsuper(`No ${mode} files found`);\n\t}\n}\nclass GitNotFoundError extends Error {\n\tcode = \"VITEST_GIT_NOT_FOUND\";\n\tconstructor() {\n\t\tsuper(\"Could not find Git root. Have you initialized git with `git init`?\");\n\t}\n}\nclass LocationFilterFileNotFoundError extends Error {\n\tcode = \"VITEST_LOCATION_FILTER_FILE_NOT_FOUND\";\n\tconstructor(filename) {\n\t\tsuper(`Couldn\\'t find file ${filename}. Note when specifying the test location you have to specify the full test filename.`);\n\t}\n}\nclass IncludeTaskLocationDisabledError extends Error {\n\tcode = \"VITEST_INCLUDE_TASK_LOCATION_DISABLED\";\n\tconstructor() {\n\t\tsuper(\"Received line number filters while `includeTaskLocation` option is disabled\");\n\t}\n}\nclass RangeLocationFilterProvidedError extends Error {\n\tcode = \"VITEST_RANGE_LOCATION_FILTER_PROVIDED\";\n\tconstructor(filter) {\n\t\tsuper(`Found \"-\" in location filter ${filter}.  Note that range location filters are not supported.  Consider specifying the exact line numbers of your tests.`);\n\t}\n}\nclass VitestFilteredOutProjectError extends Error {\n\tcode = \"VITEST_FILTERED_OUT_PROJECT\";\n\tconstructor() {\n\t\tsuper(\"VITEST_FILTERED_OUT_PROJECT\");\n\t}\n}\n\nconst HIGHLIGHT_SUPPORTED_EXTS = new Set([\"js\", \"ts\"].flatMap((lang) => [\n\t`.${lang}`,\n\t`.m${lang}`,\n\t`.c${lang}`,\n\t`.${lang}x`,\n\t`.m${lang}x`,\n\t`.c${lang}x`\n]));\nfunction highlightCode(id, source, colors) {\n\tconst ext = extname(id);\n\tif (!HIGHLIGHT_SUPPORTED_EXTS.has(ext)) return source;\n\tconst isJsx = ext.endsWith(\"x\");\n\treturn highlight(source, {\n\t\tjsx: isJsx,\n\t\tcolors: c\n\t});\n}\n\nconst PAD = \"      \", ESC$1 = \"\\x1B[\", ERASE_DOWN = `${ESC$1}J`, ERASE_SCROLLBACK = `${ESC$1}3J`, CURSOR_TO_START = `${ESC$1}1;1H`, HIDE_CURSOR = `${ESC$1}?25l`, SHOW_CURSOR = `${ESC$1}?25h`, CLEAR_SCREEN = \"\\x1Bc\";\nclass Logger {\n\t_clearScreenPending;\n\t_highlights = /* @__PURE__ */ new Map();\n\tcleanupListeners = [];\n\tconsole;\n\tconstructor(ctx, outputStream = process.stdout, errorStream = process.stderr) {\n\t\tif (this.ctx = ctx, this.outputStream = outputStream, this.errorStream = errorStream, this.console = new Console({\n\t\t\tstdout: outputStream,\n\t\t\tstderr: errorStream\n\t\t}), this._highlights.clear(), this.addCleanupListeners(), this.registerUnhandledRejection(), this.outputStream.isTTY) this.outputStream.write(HIDE_CURSOR);\n\t}\n\tlog(...args) {\n\t\tthis._clearScreen(), this.console.log(...args);\n\t}\n\terror(...args) {\n\t\tthis._clearScreen(), this.console.error(...args);\n\t}\n\twarn(...args) {\n\t\tthis._clearScreen(), this.console.warn(...args);\n\t}\n\tclearFullScreen(message = \"\") {\n\t\tif (!this.ctx.config.clearScreen) {\n\t\t\tthis.console.log(message);\n\t\t\treturn;\n\t\t}\n\t\tif (message) this.console.log(`${CLEAR_SCREEN}${ERASE_SCROLLBACK}${message}`);\n\t\telse this.outputStream.write(`${CLEAR_SCREEN}${ERASE_SCROLLBACK}`);\n\t}\n\tclearScreen(message, force = false) {\n\t\tif (!this.ctx.config.clearScreen) {\n\t\t\tthis.console.log(message);\n\t\t\treturn;\n\t\t}\n\t\tif (this._clearScreenPending = message, force) this._clearScreen();\n\t}\n\t_clearScreen() {\n\t\tif (this._clearScreenPending == null) return;\n\t\tconst log = this._clearScreenPending;\n\t\tthis._clearScreenPending = void 0, this.console.log(`${CURSOR_TO_START}${ERASE_DOWN}${log}`);\n\t}\n\tprintError(err, options = {}) {\n\t\tprintError(err, this.ctx, this, options);\n\t}\n\tdeprecate(message) {\n\t\tthis.error(c.bold(c.bgYellow(\" DEPRECATED \")), c.yellow(message));\n\t}\n\tclearHighlightCache(filename) {\n\t\tif (filename) this._highlights.delete(filename);\n\t\telse this._highlights.clear();\n\t}\n\thighlight(filename, source) {\n\t\tif (this._highlights.has(filename)) return this._highlights.get(filename);\n\t\tconst code = highlightCode(filename, source);\n\t\treturn this._highlights.set(filename, code), code;\n\t}\n\tprintNoTestFound(filters) {\n\t\tconst config = this.ctx.config;\n\t\tif (config.watch && (config.changed || config.related?.length)) this.log(`No affected ${config.mode} files found\\n`);\n\t\telse if (config.watch) this.log(c.red(`No ${config.mode} files found. You can change the file name pattern by pressing \"p\"\\n`));\n\t\telse if (config.passWithNoTests) this.log(`No ${config.mode} files found, exiting with code 0\\n`);\n\t\telse this.error(c.red(`No ${config.mode} files found, exiting with code 1\\n`));\n\t\tconst comma = c.dim(\", \");\n\t\tif (filters?.length) this.console.error(c.dim(\"filter: \") + c.yellow(filters.join(comma)));\n\t\tconst projectsFilter = toArray(config.project);\n\t\tif (projectsFilter.length) this.console.error(c.dim(\"projects: \") + c.yellow(projectsFilter.join(comma)));\n\t\tthis.ctx.projects.forEach((project) => {\n\t\t\tconst config = project.config;\n\t\t\tif (!project.isRootProject() && project.name) this.console.error(`\\n${formatProjectName(project)}\\n`);\n\t\t\tif (config.include) this.console.error(c.dim(\"include: \") + c.yellow(config.include.join(comma)));\n\t\t\tif (config.exclude) this.console.error(c.dim(\"exclude:  \") + c.yellow(config.exclude.join(comma)));\n\t\t\tif (config.typecheck.enabled) this.console.error(c.dim(\"typecheck include: \") + c.yellow(config.typecheck.include.join(comma))), this.console.error(c.dim(\"typecheck exclude: \") + c.yellow(config.typecheck.exclude.join(comma)));\n\t\t}), this.console.error();\n\t}\n\tprintBanner() {\n\t\tthis.log();\n\t\tconst color = this.ctx.config.watch ? \"blue\" : \"cyan\", mode = this.ctx.config.watch ? \"DEV\" : \"RUN\";\n\t\tif (this.log(withLabel(color, mode, `v${this.ctx.version} `) + c.gray(this.ctx.config.root)), this.ctx.config.sequence.sequencer === RandomSequencer) this.log(PAD + c.gray(`Running tests with seed \"${this.ctx.config.sequence.seed}\"`));\n\t\tif (this.ctx.config.ui) {\n\t\t\tconst host = this.ctx.config.api?.host || \"localhost\", port = this.ctx.vite.config.server.port, base = this.ctx.config.uiBase;\n\t\t\tthis.log(PAD + c.dim(c.green(`UI started at http://${host}:${c.bold(port)}${base}`)));\n\t\t} else if (this.ctx.config.api?.port) {\n\t\t\tconst resolvedUrls = this.ctx.vite.resolvedUrls, fallbackUrl = `http://${this.ctx.config.api.host || \"localhost\"}:${this.ctx.config.api.port}`, origin = resolvedUrls?.local[0] ?? resolvedUrls?.network[0] ?? fallbackUrl;\n\t\t\tthis.log(PAD + c.dim(c.green(`API started at ${new URL(\"/\", origin)}`)));\n\t\t}\n\t\tif (this.ctx.coverageProvider) this.log(PAD + c.dim(\"Coverage enabled with \") + c.yellow(this.ctx.coverageProvider.name));\n\t\tif (this.ctx.config.standalone) this.log(c.yellow(`\\nVitest is running in standalone mode. Edit a test file to rerun tests.`));\n\t\telse this.log();\n\t}\n\tprintBrowserBanner(project) {\n\t\tif (!project.browser) return;\n\t\tconst resolvedUrls = project.browser.vite.resolvedUrls, origin = resolvedUrls?.local[0] ?? resolvedUrls?.network[0];\n\t\tif (!origin) return;\n\t\tconst output = project.isRootProject() ? \"\" : formatProjectName(project), provider = project.browser.provider?.name, providerString = provider === \"preview\" ? \"\" : ` by ${c.reset(c.bold(provider))}`;\n\t\tthis.log(c.dim(`${output}Browser runner started${providerString} ${c.dim(\"at\")} ${c.blue(new URL(\"/__vitest_test__/\", origin))}\\n`));\n\t}\n\tprintUnhandledErrors(errors) {\n\t\tconst errorMessage = c.red(c.bold(`\\nVitest caught ${errors.length} unhandled error${errors.length > 1 ? \"s\" : \"\"} during the test run.\nThis might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.`));\n\t\tthis.error(errorBanner(\"Unhandled Errors\")), this.error(errorMessage), errors.forEach((err) => {\n\t\t\tthis.printError(err, {\n\t\t\t\tfullStack: true,\n\t\t\t\ttype: err.type || \"Unhandled Error\"\n\t\t\t});\n\t\t}), this.error(c.red(divider()));\n\t}\n\tprintSourceTypeErrors(errors) {\n\t\tconst errorMessage = c.red(c.bold(`\\nVitest found ${errors.length} error${errors.length > 1 ? \"s\" : \"\"} not related to your test files.`));\n\t\tthis.log(errorBanner(\"Source Errors\")), this.log(errorMessage), errors.forEach((err) => {\n\t\t\tthis.printError(err, { fullStack: true });\n\t\t}), this.log(c.red(divider()));\n\t}\n\tgetColumns() {\n\t\treturn \"columns\" in this.outputStream ? this.outputStream.columns : 80;\n\t}\n\tonTerminalCleanup(listener) {\n\t\tthis.cleanupListeners.push(listener);\n\t}\n\taddCleanupListeners() {\n\t\tconst cleanup = () => {\n\t\t\tif (this.cleanupListeners.forEach((fn) => fn()), this.outputStream.isTTY) this.outputStream.write(SHOW_CURSOR);\n\t\t}, onExit = (signal, exitCode) => {\n\t\t\t// Interrupted signals don't set exit code automatically.\n\t\t\t// Use same exit code as node: https://nodejs.org/api/process.html#signal-events\n\t\t\tif (cleanup(), process.exitCode === void 0) process.exitCode = exitCode !== void 0 ? 128 + exitCode : Number(signal);\n\t\t\t// Timeout to flush stderr\n\t\t\tsetTimeout(() => process.exit(), 1);\n\t\t};\n\t\tprocess.once(\"SIGINT\", onExit), process.once(\"SIGTERM\", onExit), process.once(\"exit\", onExit), this.ctx.onClose(() => {\n\t\t\tprocess.off(\"SIGINT\", onExit), process.off(\"SIGTERM\", onExit), process.off(\"exit\", onExit), cleanup();\n\t\t});\n\t}\n\tregisterUnhandledRejection() {\n\t\tconst onUnhandledRejection = (err) => {\n\t\t\tprocess.exitCode = 1, this.printError(err, {\n\t\t\t\tfullStack: true,\n\t\t\t\ttype: \"Unhandled Rejection\"\n\t\t\t}), this.error(\"\\n\\n\"), process.exit();\n\t\t};\n\t\tprocess.on(\"unhandledRejection\", onUnhandledRejection), this.ctx.onClose(() => {\n\t\t\tprocess.off(\"unhandledRejection\", onUnhandledRejection);\n\t\t});\n\t}\n}\n\nconst __dirname = url.fileURLToPath(new URL(\".\", import.meta.url));\nclass VitestPackageInstaller {\n\tisPackageExists(name, options) {\n\t\treturn isPackageExists(name, options);\n\t}\n\tasync ensureInstalled(dependency, root, version) {\n\t\tif (process.env.VITEST_SKIP_INSTALL_CHECKS) return true;\n\t\tif (process.versions.pnp) {\n\t\t\tconst targetRequire = createRequire(__dirname);\n\t\t\ttry {\n\t\t\t\treturn targetRequire.resolve(dependency, { paths: [root, __dirname] }), true;\n\t\t\t} catch {}\n\t\t}\n\t\tif (/* @__PURE__ */ isPackageExists(dependency, { paths: [root, __dirname] })) return true;\n\t\tif (process.stderr.write(c.red(`${c.inverse(c.red(\" MISSING DEPENDENCY \"))} Cannot find dependency '${dependency}'\\n\\n`)), !isTTY) return false;\n\t\tconst { install } = await (await import('./index.Dc3xnDvT.js').then(function (n) { return n.i; })).default({\n\t\t\ttype: \"confirm\",\n\t\t\tname: \"install\",\n\t\t\tmessage: c.reset(`Do you want to install ${c.green(dependency)}?`)\n\t\t});\n\t\tif (install) {\n\t\t\tconst packageName = version ? `${dependency}@${version}` : dependency;\n\t\t\treturn await (await import('./index.D3XRDfWc.js')).installPackage(packageName, { dev: true }), process.stderr.write(c.yellow(`\\nPackage ${packageName} installed, re-run the command to start.\\n`)), process.exit(), true;\n\t\t}\n\t\treturn false;\n\t}\n}\n\nfunction getDefaultThreadsCount(config) {\n\tconst numCpus = typeof nodeos.availableParallelism === \"function\" ? nodeos.availableParallelism() : nodeos.cpus().length;\n\treturn config.watch ? Math.max(Math.floor(numCpus / 2), 1) : Math.max(numCpus - 1, 1);\n}\nfunction getWorkerMemoryLimit(config) {\n\treturn config.vmMemoryLimit ? config.vmMemoryLimit : 1 / (config.maxWorkers ?? getDefaultThreadsCount(config));\n}\n/**\n* Converts a string representing an amount of memory to bytes.\n*\n* @param input The value to convert to bytes.\n* @param percentageReference The reference value to use when a '%' value is supplied.\n*/\nfunction stringToBytes(input, percentageReference) {\n\tif (input === null || input === void 0) return input;\n\tif (typeof input === \"string\") if (Number.isNaN(Number.parseFloat(input.slice(-1)))) {\n\t\tlet [, numericString, trailingChars] = input.match(/(.*?)([^0-9.-]+)$/) || [];\n\t\tif (trailingChars && numericString) {\n\t\t\tconst numericValue = Number.parseFloat(numericString);\n\t\t\tswitch (trailingChars = trailingChars.toLowerCase(), trailingChars) {\n\t\t\t\tcase \"%\":\n\t\t\t\t\tinput = numericValue / 100;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"kb\":\n\t\t\t\tcase \"k\": return numericValue * 1e3;\n\t\t\t\tcase \"kib\": return numericValue * 1024;\n\t\t\t\tcase \"mb\":\n\t\t\t\tcase \"m\": return numericValue * 1e3 * 1e3;\n\t\t\t\tcase \"mib\": return numericValue * 1024 * 1024;\n\t\t\t\tcase \"gb\":\n\t\t\t\tcase \"g\": return numericValue * 1e3 * 1e3 * 1e3;\n\t\t\t\tcase \"gib\": return numericValue * 1024 * 1024 * 1024;\n\t\t\t}\n\t\t}\n\t} else input = Number.parseFloat(input);\n\tif (typeof input === \"number\") if (input <= 1 && input > 0) {\n\t\tif (percentageReference) return Math.floor(input * percentageReference);\n\t\tthrow new Error(\"For a percentage based memory limit a percentageReference must be supplied\");\n\t} else if (input > 1) return Math.floor(input);\n\telse throw new Error(\"Unexpected numerical input for \\\"memoryLimit\\\"\");\n\treturn null;\n}\n\nasync function getSpecificationsEnvironments(specifications) {\n\tconst environments = /* @__PURE__ */ new WeakMap(), cache = /* @__PURE__ */ new Map();\n\treturn await Promise.all(specifications.map(async (spec) => {\n\t\tconst { moduleId: filepath, project } = spec;\n\t\t// reuse if projects have the same test files\n\t\tlet code = cache.get(filepath);\n\t\tif (!code) code = await promises$1.readFile(filepath, \"utf-8\"), cache.set(filepath, code);\n\t\t// 1. Check for control comments in the file\n\t\tlet env = code.match(/@(?:vitest|jest)-environment\\s+([\\w-]+)\\b/)?.[1];\n\t\t// 2. Fallback to global env\n\t\tenv ||= project.config.environment || \"node\";\n\t\tlet envOptionsJson = code.match(/@(?:vitest|jest)-environment-options\\s+(.+)/)?.[1];\n\t\tif (envOptionsJson?.endsWith(\"*/\"))\n // Trim closing Docblock characters the above regex might have captured\n\t\tenvOptionsJson = envOptionsJson.slice(0, -2);\n\t\tconst envOptions = JSON.parse(envOptionsJson || \"null\"), environment = {\n\t\t\tname: env,\n\t\t\toptions: envOptions ? { [env === \"happy-dom\" ? \"happyDOM\" : env]: envOptions } : null\n\t\t};\n\t\tenvironments.set(spec, environment);\n\t})), environments;\n}\n\nconst debug = createDebugger(\"vitest:browser:pool\");\nfunction createBrowserPool(vitest) {\n\tconst providers = /* @__PURE__ */ new Set(), numCpus = typeof nodeos.availableParallelism === \"function\" ? nodeos.availableParallelism() : nodeos.cpus().length, maxThreadsCount = Math.min(12, numCpus - 1), threadsCount = vitest.config.watch ? Math.max(Math.floor(maxThreadsCount / 2), 1) : Math.max(maxThreadsCount, 1), projectPools = /* @__PURE__ */ new WeakMap(), ensurePool = (project) => {\n\t\tif (projectPools.has(project)) return projectPools.get(project);\n\t\tdebug?.(\"creating pool for project %s\", project.name);\n\t\tconst resolvedUrls = project.browser.vite.resolvedUrls, origin = resolvedUrls?.local[0] ?? resolvedUrls?.network[0];\n\t\tif (!origin) throw new Error(`Can't find browser origin URL for project \"${project.name}\"`);\n\t\tconst pool = new BrowserPool(project, {\n\t\t\tmaxWorkers: getThreadsCount(project),\n\t\t\torigin\n\t\t});\n\t\treturn projectPools.set(project, pool), vitest.onCancel(() => {\n\t\t\tpool.cancel();\n\t\t}), pool;\n\t}, runWorkspaceTests = async (method, specs) => {\n\t\tconst groupedFiles = /* @__PURE__ */ new Map();\n\t\tfor (const { project, moduleId, testLines } of specs) {\n\t\t\tconst files = groupedFiles.get(project) || [];\n\t\t\tfiles.push({\n\t\t\t\tfilepath: moduleId,\n\t\t\t\ttestLocations: testLines\n\t\t\t}), groupedFiles.set(project, files);\n\t\t}\n\t\tlet isCancelled = false;\n\t\tvitest.onCancel(() => {\n\t\t\tisCancelled = true;\n\t\t});\n\t\tconst initialisedPools = await Promise.all([...groupedFiles.entries()].map(async ([project, files]) => {\n\t\t\tif (await project._initBrowserProvider(), !project.browser) throw new TypeError(`The browser server was not initialized${project.name ? ` for the \"${project.name}\" project` : \"\"}. This is a bug in Vitest. Please, open a new issue with reproduction.`);\n\t\t\tif (isCancelled) return;\n\t\t\tdebug?.(\"provider is ready for %s project\", project.name);\n\t\t\tconst pool = ensurePool(project);\n\t\t\treturn vitest.state.clearFiles(project, files.map((f) => f.filepath)), providers.add(project.browser.provider), {\n\t\t\t\tpool,\n\t\t\t\tprovider: project.browser.provider,\n\t\t\t\trunTests: () => pool.runTests(method, files)\n\t\t\t};\n\t\t}));\n\t\tif (isCancelled) return;\n\t\tconst parallelPools = [], nonParallelPools = [];\n\t\tfor (const pool of initialisedPools) {\n\t\t\tif (!pool)\n // this means it was cancelled\n\t\t\treturn;\n\t\t\tif (pool.provider.mocker && pool.provider.supportsParallelism) parallelPools.push(pool.runTests);\n\t\t\telse nonParallelPools.push(pool.runTests);\n\t\t}\n\t\tawait Promise.all(parallelPools.map((runTests) => runTests()));\n\t\tfor (const runTests of nonParallelPools) {\n\t\t\tif (isCancelled) return;\n\t\t\tawait runTests();\n\t\t}\n\t};\n\tfunction getThreadsCount(project) {\n\t\tconst config = project.config.browser;\n\t\treturn !config.headless || !config.fileParallelism || !project.browser.provider.supportsParallelism ? 1 : project.config.maxWorkers ? project.config.maxWorkers : threadsCount;\n\t}\n\treturn {\n\t\tname: \"browser\",\n\t\tasync close() {\n\t\t\tawait Promise.all([...providers].map((provider) => provider.close())), vitest._browserSessions.sessionIds.clear(), providers.clear(), vitest.projects.forEach((project) => {\n\t\t\t\tproject.browser?.state.orchestrators.forEach((orchestrator) => {\n\t\t\t\t\torchestrator.$close();\n\t\t\t\t});\n\t\t\t}), debug?.(\"browser pool closed all providers\");\n\t\t},\n\t\trunTests: (files) => runWorkspaceTests(\"run\", files),\n\t\tcollectTests: (files) => runWorkspaceTests(\"collect\", files)\n\t};\n}\nfunction escapePathToRegexp(path) {\n\treturn path.replace(/[/\\\\.?*()^${}|[\\]+]/g, \"\\\\$&\");\n}\nclass BrowserPool {\n\t_queue = [];\n\t_promise;\n\t_providedContext;\n\treadySessions = /* @__PURE__ */ new Set();\n\tconstructor(project, options) {\n\t\tthis.project = project, this.options = options;\n\t}\n\tcancel() {\n\t\tthis._queue = [];\n\t}\n\treject(error) {\n\t\tthis._promise?.reject(error), this._promise = void 0, this.cancel();\n\t}\n\tget orchestrators() {\n\t\treturn this.project.browser.state.orchestrators;\n\t}\n\tasync runTests(method, files) {\n\t\tif (this._promise ??= createDefer(), !files.length) return debug?.(\"no tests found, finishing test run immediately\"), this._promise.resolve(), this._promise;\n\t\tif (this._providedContext = stringify(this.project.getProvidedContext()), this._queue.push(...files), this.readySessions.forEach((sessionId) => {\n\t\t\tif (this._queue.length) this.readySessions.delete(sessionId), this.runNextTest(method, sessionId);\n\t\t}), this.orchestrators.size >= this.options.maxWorkers) return debug?.(\"all orchestrators are ready, not creating more\"), this._promise;\n\t\t// open the minimum amount of tabs\n\t\t// if there is only 1 file running, we don't need 8 tabs running\n\t\tconst workerCount = Math.min(this.options.maxWorkers - this.orchestrators.size, files.length), promises = [];\n\t\tfor (let i = 0; i < workerCount; i++) {\n\t\t\tconst sessionId = crypto.randomUUID();\n\t\t\tthis.project.vitest._browserSessions.sessionIds.add(sessionId);\n\t\t\tconst project = this.project.name;\n\t\t\tdebug?.(\"[%s] creating session for %s\", sessionId, project);\n\t\t\tconst page = this.openPage(sessionId).then(() => {\n\t\t\t\t// start running tests on the page when it's ready\n\t\t\t\tthis.runNextTest(method, sessionId);\n\t\t\t});\n\t\t\tpromises.push(page);\n\t\t}\n\t\treturn await Promise.all(promises), debug?.(\"all sessions are created\"), this._promise;\n\t}\n\tasync openPage(sessionId) {\n\t\tconst sessionPromise = this.project.vitest._browserSessions.createSession(sessionId, this.project, this), browser = this.project.browser, url = new URL(\"/__vitest_test__/\", this.options.origin);\n\t\turl.searchParams.set(\"sessionId\", sessionId);\n\t\tconst pagePromise = browser.provider.openPage(sessionId, url.toString());\n\t\tawait Promise.all([sessionPromise, pagePromise]);\n\t}\n\tgetOrchestrator(sessionId) {\n\t\tconst orchestrator = this.orchestrators.get(sessionId);\n\t\tif (!orchestrator) throw new Error(`Orchestrator not found for session ${sessionId}. This is a bug in Vitest. Please, open a new issue with reproduction.`);\n\t\treturn orchestrator;\n\t}\n\tfinishSession(sessionId) {\n\t\t// the last worker finished running tests\n\t\tif (this.readySessions.add(sessionId), this.readySessions.size === this.orchestrators.size) this._promise?.resolve(), this._promise = void 0, debug?.(\"[%s] all tests finished running\", sessionId);\n\t\telse debug?.(`did not finish sessions for ${sessionId}: |ready - %s| |overall - %s|`, [...this.readySessions].join(\", \"), [...this.orchestrators.keys()].join(\", \"));\n\t}\n\trunNextTest(method, sessionId) {\n\t\tconst file = this._queue.shift();\n\t\tif (!file) {\n\t\t\t// we don't need to cleanup testers if isolation is enabled,\n\t\t\t// because cleanup is done at the end of every test\n\t\t\tif (debug?.(\"[%s] no more tests to run\", sessionId), this.project.config.browser.isolate) {\n\t\t\t\tthis.finishSession(sessionId);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.getOrchestrator(sessionId).cleanupTesters().catch((error) => this.reject(error)).finally(() => this.finishSession(sessionId));\n\t\t\treturn;\n\t\t}\n\t\tif (!this._promise) throw new Error(`Unexpected empty queue`);\n\t\tconst orchestrator = this.getOrchestrator(sessionId);\n\t\tdebug?.(\"[%s] run test %s\", sessionId, file), this.setBreakpoint(sessionId, file.filepath).then(() => {\n\t\t\t// this starts running tests inside the orchestrator\n\t\t\torchestrator.createTesters({\n\t\t\t\tmethod,\n\t\t\t\tfiles: [file],\n\t\t\t\tprovidedContext: this._providedContext || \"[{}]\"\n\t\t\t}).then(() => {\n\t\t\t\tdebug?.(\"[%s] test %s finished running\", sessionId, file), this.runNextTest(method, sessionId);\n\t\t\t}).catch((error) => {\n\t\t\t\t// if user cancels the test run manually, ignore the error and exit gracefully\n\t\t\t\tif (this.project.vitest.isCancelling && error instanceof Error && error.message.startsWith(\"Browser connection was closed while running tests\")) {\n\t\t\t\t\tthis.cancel(), this._promise?.resolve(), this._promise = void 0, debug?.(\"[%s] browser connection was closed\", sessionId);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tdebug?.(\"[%s] error during %s test run: %s\", sessionId, file, error), this.reject(error);\n\t\t\t});\n\t\t}).catch((err) => this.reject(err));\n\t}\n\tasync setBreakpoint(sessionId, file) {\n\t\tif (!this.project.config.inspector.waitForDebugger) return;\n\t\tconst provider = this.project.browser.provider, browser = this.project.config.browser.name;\n\t\tif (shouldIgnoreDebugger(provider.name, browser)) {\n\t\t\tdebug?.(\"[$s] ignoring debugger in %s browser because it is not supported\", sessionId, browser);\n\t\t\treturn;\n\t\t}\n\t\tif (!provider.getCDPSession) throw new Error(\"Unable to set breakpoint, CDP not supported\");\n\t\tdebug?.(\"[%s] set breakpoint for %s\", sessionId, file);\n\t\tconst session = await provider.getCDPSession(sessionId);\n\t\tawait session.send(\"Debugger.enable\", {}), await session.send(\"Debugger.setBreakpointByUrl\", {\n\t\t\tlineNumber: 0,\n\t\t\turlRegex: escapePathToRegexp(file)\n\t\t});\n\t}\n}\nfunction shouldIgnoreDebugger(provider, browser) {\n\treturn provider === \"webdriverio\" ? browser !== \"chrome\" && browser !== \"edge\" : browser !== \"chromium\";\n}\n\nfunction createMethodsRPC(project, options = {}) {\n\tconst vitest = project.vitest, cacheFs = options.cacheFs ?? false;\n\tif (project.vitest.state.metadata[project.name] ??= {\n\t\texternalized: {},\n\t\tduration: {},\n\t\ttmps: {}\n\t}, project.config.dumpDir && !existsSync(project.config.dumpDir)) mkdirSync(project.config.dumpDir, { recursive: true });\n\treturn project.vitest.state.metadata[project.name].dumpDir = project.config.dumpDir, {\n\t\tasync fetch(url, importer, environmentName, options) {\n\t\t\tconst environment = project.vite.environments[environmentName];\n\t\t\tif (!environment) throw new Error(`The environment ${environmentName} was not defined in the Vite config.`);\n\t\t\tconst start = performance.now();\n\t\t\treturn await project._fetcher(url, importer, environment, cacheFs, options).then((result) => {\n\t\t\t\tconst duration = performance.now() - start;\n\t\t\t\tproject.vitest.state.transformTime += duration;\n\t\t\t\tconst metadata = project.vitest.state.metadata[project.name];\n\t\t\t\tif (\"externalize\" in result) metadata.externalized[url] = result.externalize;\n\t\t\t\tif (\"tmp\" in result) metadata.tmps[url] = result.tmp;\n\t\t\t\treturn metadata.duration[url] ??= [], metadata.duration[url].push(duration), result;\n\t\t\t});\n\t\t},\n\t\tasync resolve(id, importer, environmentName) {\n\t\t\tconst environment = project.vite.environments[environmentName];\n\t\t\tif (!environment) throw new Error(`The environment ${environmentName} was not defined in the Vite config.`);\n\t\t\tconst resolved = await environment.pluginContainer.resolveId(id, importer);\n\t\t\tif (!resolved) return null;\n\t\t\tconst file = cleanUrl(resolved.id);\n\t\t\treturn resolved.external ? {\n\t\t\t\tfile,\n\t\t\t\turl: !resolved.id.startsWith(\"node:\") && isBuiltin(resolved.id) ? `node:${resolved.id}` : resolved.id,\n\t\t\t\tid: resolved.id\n\t\t\t} : {\n\t\t\t\tfile: cleanUrl(resolved.id),\n\t\t\t\turl: normalizeResolvedIdToUrl(environment, resolved.id),\n\t\t\t\tid: resolved.id\n\t\t\t};\n\t\t},\n\t\tsnapshotSaved(snapshot) {\n\t\t\tvitest.snapshot.add(snapshot);\n\t\t},\n\t\tresolveSnapshotPath(testPath) {\n\t\t\treturn vitest.snapshot.resolvePath(testPath, { config: project.serializedConfig });\n\t\t},\n\t\tasync transform(id) {\n\t\t\tconst environment = project.vite.environments.__vitest_vm__;\n\t\t\tif (!environment) throw new Error(`The VM environment was not defined in the Vite config. This is a bug in Vitest. Please, open a new issue with reproduction.`);\n\t\t\tconst url = normalizeResolvedIdToUrl(environment, fileURLToPath(id));\n\t\t\treturn { code: (await environment.transformRequest(url).catch(handleRollupError))?.code };\n\t\t},\n\t\tasync onQueued(file) {\n\t\t\tif (options.collect) vitest.state.collectFiles(project, [file]);\n\t\t\telse await vitest._testRun.enqueued(project, file);\n\t\t},\n\t\tasync onCollected(files) {\n\t\t\tif (options.collect) vitest.state.collectFiles(project, files);\n\t\t\telse await vitest._testRun.collected(project, files);\n\t\t},\n\t\tonAfterSuiteRun(meta) {\n\t\t\tvitest.coverageProvider?.onAfterSuiteRun(meta);\n\t\t},\n\t\tasync onTaskAnnotate(testId, annotation) {\n\t\t\treturn vitest._testRun.annotate(testId, annotation);\n\t\t},\n\t\tasync onTaskUpdate(packs, events) {\n\t\t\tif (options.collect) vitest.state.updateTasks(packs);\n\t\t\telse await vitest._testRun.updated(packs, events);\n\t\t},\n\t\tasync onUserConsoleLog(log) {\n\t\t\tif (options.collect) vitest.state.updateUserLog(log);\n\t\t\telse await vitest._testRun.log(log);\n\t\t},\n\t\tonUnhandledError(err, type) {\n\t\t\tvitest.state.catchError(err, type);\n\t\t},\n\t\tonCancel(reason) {\n\t\t\tvitest.cancelCurrentRun(reason);\n\t\t},\n\t\tgetCountOfFailedTests() {\n\t\t\treturn vitest.state.getCountOfFailedTests();\n\t\t}\n\t};\n}\n\nvar RunnerState = /* @__PURE__ */ function(RunnerState) {\n\treturn RunnerState[\"IDLE\"] = \"idle\", RunnerState[\"STARTING\"] = \"starting\", RunnerState[\"STARTED\"] = \"started\", RunnerState[\"STOPPING\"] = \"stopping\", RunnerState[\"STOPPED\"] = \"stopped\", RunnerState;\n}(RunnerState || {});\nconst START_TIMEOUT = 1e4, STOP_TIMEOUT = 1e4;\n/** @experimental */\nclass PoolRunner {\n\t/** Exposed to test runner as `VITEST_POOL_ID`. Value is between 1-`maxWorkers`. */\n\tpoolId = void 0;\n\tproject;\n\tenvironment;\n\t_state = RunnerState.IDLE;\n\t_operationLock = null;\n\t_eventEmitter = new EventEmitter();\n\t_rpc;\n\tget isTerminated() {\n\t\treturn this._state === RunnerState.STOPPED;\n\t}\n\tget isStarted() {\n\t\treturn this._state === RunnerState.STARTED;\n\t}\n\tconstructor(options, worker) {\n\t\tthis.worker = worker, this.project = options.project, this.environment = options.environment, this._rpc = createBirpc(createMethodsRPC(this.project, {\n\t\t\tcollect: options.method === \"collect\",\n\t\t\tcacheFs: worker.cacheFs\n\t\t}), {\n\t\t\teventNames: [\"onCancel\"],\n\t\t\tpost: (request) => this.postMessage(request),\n\t\t\ton: (callback) => this._eventEmitter.on(\"rpc\", callback),\n\t\t\ttimeout: -1\n\t\t}), this.project.vitest.onCancel((reason) => this._rpc.onCancel(reason));\n\t}\n\tpostMessage(message) {\n\t\t// Only send messages when runner is active (not fully stopped)\n\t\t// Allow sending during STOPPING state for the 'stop' message itself\n\t\tif (this._state !== RunnerState.STOPPED) return this.worker.send(message);\n\t}\n\tasync start() {\n\t\t// Wait for any ongoing operation to complete\n\t\tif (this._operationLock) await this._operationLock;\n\t\tif (!(this._state === RunnerState.STARTED || this._state === RunnerState.STARTING)) {\n\t\t\tif (this._state === RunnerState.STOPPED) throw new Error(\"[vitest-pool-runner]: Cannot start a stopped runner\");\n\t\t\t// Create operation lock to prevent concurrent start/stop\n\t\t\tthis._operationLock = createDefer();\n\t\t\ttry {\n\t\t\t\tthis._state = RunnerState.STARTING, await this.worker.start(), this.worker.on(\"error\", this.emitWorkerError), this.worker.on(\"exit\", this.emitUnexpectedExit), this.worker.on(\"message\", this.emitWorkerMessage);\n\t\t\t\tconst startPromise = this.withTimeout(this.waitForStart(), START_TIMEOUT);\n\t\t\t\tthis.postMessage({\n\t\t\t\t\ttype: \"start\",\n\t\t\t\t\t__vitest_worker_request__: true,\n\t\t\t\t\toptions: { reportMemory: this.worker.reportMemory ?? false }\n\t\t\t\t}), await startPromise, this._state = RunnerState.STARTED;\n\t\t\t} catch (error) {\n\t\t\t\tthrow this._state = RunnerState.IDLE, error;\n\t\t\t} finally {\n\t\t\t\tthis._operationLock.resolve(), this._operationLock = null;\n\t\t\t}\n\t\t}\n\t}\n\tasync stop() {\n\t\t// Wait for any ongoing operation to complete\n\t\tif (this._operationLock) await this._operationLock;\n\t\tif (!(this._state === RunnerState.STOPPED || this._state === RunnerState.STOPPING)) {\n\t\t\tif (this._state === RunnerState.IDLE) {\n\t\t\t\tthis._state = RunnerState.STOPPED;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// Create operation lock to prevent concurrent start/stop\n\t\t\tthis._operationLock = createDefer();\n\t\t\ttry {\n\t\t\t\tthis._state = RunnerState.STOPPING, this.worker.off(\"exit\", this.emitUnexpectedExit), await this.withTimeout(new Promise((resolve) => {\n\t\t\t\t\tconst onStop = (response) => {\n\t\t\t\t\t\tif (response.type === \"stopped\") {\n\t\t\t\t\t\t\tif (response.error) this.project.vitest.state.catchError(response.error, \"Teardown Error\");\n\t\t\t\t\t\t\tresolve(), this.off(\"message\", onStop);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tthis.on(\"message\", onStop), this.postMessage({\n\t\t\t\t\t\ttype: \"stop\",\n\t\t\t\t\t\t__vitest_worker_request__: true\n\t\t\t\t\t});\n\t\t\t\t}), STOP_TIMEOUT), this._eventEmitter.removeAllListeners(), this._rpc.$close(/* @__PURE__ */ new Error(\"[vitest-pool-runner]: Pending methods while closing rpc\")), await this.worker.stop(), this._state = RunnerState.STOPPED;\n\t\t\t} catch (error) {\n\t\t\t\tthrow this._state = RunnerState.STOPPED, error;\n\t\t\t} finally {\n\t\t\t\tthis._operationLock.resolve(), this._operationLock = null;\n\t\t\t}\n\t\t}\n\t}\n\ton(event, callback) {\n\t\tthis._eventEmitter.on(event, callback);\n\t}\n\toff(event, callback) {\n\t\tthis._eventEmitter.off(event, callback);\n\t}\n\temitWorkerError = (maybeError) => {\n\t\tconst error = maybeError instanceof Error ? maybeError : new Error(String(maybeError));\n\t\tthis._eventEmitter.emit(\"error\", error);\n\t};\n\temitWorkerMessage = (response) => {\n\t\ttry {\n\t\t\tconst message = this.worker.deserialize(response);\n\t\t\tif (typeof message === \"object\" && message != null && message.__vitest_worker_response__) this._eventEmitter.emit(\"message\", message);\n\t\t\telse this._eventEmitter.emit(\"rpc\", message);\n\t\t} catch (error) {\n\t\t\tthis._eventEmitter.emit(\"error\", error);\n\t\t}\n\t};\n\temitUnexpectedExit = () => {\n\t\tconst error = /* @__PURE__ */ new Error(\"Worker exited unexpectedly\");\n\t\tthis._eventEmitter.emit(\"error\", error);\n\t};\n\twaitForStart() {\n\t\treturn new Promise((resolve) => {\n\t\t\tconst onStart = (message) => {\n\t\t\t\tif (message.type === \"started\") this.off(\"message\", onStart), resolve();\n\t\t\t};\n\t\t\tthis.on(\"message\", onStart);\n\t\t});\n\t}\n\twithTimeout(promise, timeout) {\n\t\treturn new Promise((resolve_, reject_) => {\n\t\t\tconst timer = setTimeout(() => reject(/* @__PURE__ */ new Error(\"[vitest-pool-runner]: Timeout waiting for worker to respond\")), timeout);\n\t\t\tfunction resolve(value) {\n\t\t\t\tclearTimeout(timer), resolve_(value);\n\t\t\t}\n\t\t\tfunction reject(error) {\n\t\t\t\tclearTimeout(timer), reject_(error);\n\t\t\t}\n\t\t\tpromise.then(resolve, reject);\n\t\t});\n\t}\n}\n\nconst SIGKILL_TIMEOUT = 500;\n/** @experimental */\nclass ForksPoolWorker {\n\tname = \"forks\";\n\tcacheFs = true;\n\tentrypoint;\n\texecArgv;\n\tenv;\n\t_fork;\n\tstdout;\n\tstderr;\n\tconstructor(options) {\n\t\t/** Loads {@link file://./../../../runtime/workers/forks.ts} */\n\t\tthis.execArgv = options.execArgv, this.env = options.env, this.stdout = options.project.vitest.logger.outputStream, this.stderr = options.project.vitest.logger.errorStream, this.entrypoint = resolve$1(options.distPath, \"workers/forks.js\");\n\t}\n\ton(event, callback) {\n\t\tthis.fork.on(event, callback);\n\t}\n\toff(event, callback) {\n\t\tthis.fork.off(event, callback);\n\t}\n\tsend(message) {\n\t\tif (\"context\" in message) message = {\n\t\t\t...message,\n\t\t\tcontext: {\n\t\t\t\t...message.context,\n\t\t\t\tconfig: wrapSerializableConfig(message.context.config)\n\t\t\t}\n\t\t};\n\t\tthis.fork.send(v8.serialize(message));\n\t}\n\tasync start() {\n\t\tif (this._fork ||= fork(this.entrypoint, [], {\n\t\t\tenv: this.env,\n\t\t\texecArgv: this.execArgv,\n\t\t\tstdio: \"pipe\"\n\t\t}), this._fork.stdout) this.stdout.setMaxListeners(1 + this.stdout.getMaxListeners()), this._fork.stdout.pipe(this.stdout);\n\t\tif (this._fork.stderr) this.stderr.setMaxListeners(1 + this.stderr.getMaxListeners()), this._fork.stderr.pipe(this.stderr);\n\t}\n\tasync stop() {\n\t\tconst fork = this.fork, waitForExit = new Promise((resolve) => {\n\t\t\tif (fork.exitCode != null) resolve();\n\t\t\telse fork.once(\"exit\", resolve);\n\t\t}), sigkillTimeout = setTimeout(() => fork.kill(\"SIGKILL\"), SIGKILL_TIMEOUT);\n\t\tif (fork.kill(), await waitForExit, clearTimeout(sigkillTimeout), fork.stdout) fork.stdout?.unpipe(this.stdout), this.stdout.setMaxListeners(this.stdout.getMaxListeners() - 1);\n\t\tif (fork.stderr) fork.stderr?.unpipe(this.stderr), this.stderr.setMaxListeners(this.stderr.getMaxListeners() - 1);\n\t\tthis._fork = void 0;\n\t}\n\tdeserialize(data) {\n\t\ttry {\n\t\t\treturn v8.deserialize(Buffer.from(data));\n\t\t} catch (error) {\n\t\t\tlet stringified = \"\";\n\t\t\ttry {\n\t\t\t\tstringified = `\\nReceived value: ${JSON.stringify(data)}`;\n\t\t\t} catch {}\n\t\t\tthrow new Error(`[vitest-pool]: Unexpected call to process.send(). Make sure your test cases are not interfering with process's channel.${stringified}`, { cause: error });\n\t\t}\n\t}\n\tget fork() {\n\t\tif (!this._fork) throw new Error(`The child process was torn down or never initialized. This is a bug in Vitest.`);\n\t\treturn this._fork;\n\t}\n}\n/**\n* Prepares `SerializedConfig` for serialization, e.g. `node:v8.serialize`\n* - Unwrapping done in {@link file://./../../../runtime/workers/init-forks.ts}\n*/\nfunction wrapSerializableConfig(config) {\n\tlet testNamePattern = config.testNamePattern, defines = config.defines;\n\t// v8 serialize does not support regex\n\tif (testNamePattern && typeof testNamePattern !== \"string\") testNamePattern = `$$vitest:${testNamePattern.toString()}`;\n\t// v8 serialize drops properties with undefined value\n\tif (defines) defines = {\n\t\tkeys: Object.keys(defines),\n\t\toriginal: defines\n\t};\n\treturn {\n\t\t...config,\n\t\ttestNamePattern,\n\t\tdefines\n\t};\n}\n\n/** @experimental */\nclass ThreadsPoolWorker {\n\tname = \"threads\";\n\tentrypoint;\n\texecArgv;\n\tenv;\n\t_thread;\n\tstdout;\n\tstderr;\n\tconstructor(options) {\n\t\t/** Loads {@link file://./../../../runtime/workers/threads.ts} */\n\t\tthis.execArgv = options.execArgv, this.env = options.env, this.stdout = options.project.vitest.logger.outputStream, this.stderr = options.project.vitest.logger.errorStream, this.entrypoint = resolve$1(options.distPath, \"workers/threads.js\");\n\t}\n\ton(event, callback) {\n\t\tthis.thread.on(event, callback);\n\t}\n\toff(event, callback) {\n\t\tthis.thread.off(event, callback);\n\t}\n\tsend(message) {\n\t\tthis.thread.postMessage(message);\n\t}\n\tasync start() {\n\t\tthis._thread ||= new Worker(this.entrypoint, {\n\t\t\tenv: this.env,\n\t\t\texecArgv: this.execArgv,\n\t\t\tstdout: true,\n\t\t\tstderr: true\n\t\t}), this.stdout.setMaxListeners(1 + this.stdout.getMaxListeners()), this._thread.stdout.pipe(this.stdout), this.stderr.setMaxListeners(1 + this.stderr.getMaxListeners()), this._thread.stderr.pipe(this.stderr);\n\t}\n\tasync stop() {\n\t\tawait this.thread.terminate(), this._thread?.stdout?.unpipe(this.stdout), this.stdout.setMaxListeners(this.stdout.getMaxListeners() - 1), this._thread?.stderr?.unpipe(this.stderr), this.stderr.setMaxListeners(this.stderr.getMaxListeners() - 1), this._thread = void 0;\n\t}\n\tdeserialize(data) {\n\t\treturn data;\n\t}\n\tget thread() {\n\t\tif (!this._thread) throw new Error(`The worker thread was torn down or never initialized. This is a bug in Vitest.`);\n\t\treturn this._thread;\n\t}\n}\n\n/** @experimental */\nclass TypecheckPoolWorker {\n\tname = \"typecheck\";\n\tproject;\n\t_eventEmitter = new EventEmitter$1();\n\tconstructor(options) {\n\t\tthis.project = options.project;\n\t}\n\tasync start() {\n\t\t// noop, onMessage handles it\n\t}\n\tasync stop() {\n\t\t// noop, onMessage handles it\n\t}\n\tcanReuse() {\n\t\treturn true;\n\t}\n\tsend(message) {\n\t\tonMessage(message, this.project).then((response) => {\n\t\t\tif (response) this._eventEmitter.emit(\"message\", response);\n\t\t});\n\t}\n\ton(event, callback) {\n\t\tthis._eventEmitter.on(event, callback);\n\t}\n\toff(event, callback) {\n\t\tthis._eventEmitter.on(event, callback);\n\t}\n\tdeserialize(data) {\n\t\treturn data;\n\t}\n}\nconst __vitest_worker_response__ = true, runners = /* @__PURE__ */ new WeakMap();\nasync function onMessage(message, project) {\n\tif (message?.__vitest_worker_request__ !== true) return;\n\tlet runner = runners.get(project.vitest);\n\tif (!runner) runner = createRunner(project.vitest), runners.set(project.vitest, runner);\n\tlet runPromise;\n\tswitch (message.type) {\n\t\tcase \"start\": return {\n\t\t\ttype: \"started\",\n\t\t\t__vitest_worker_response__\n\t\t};\n\t\tcase \"run\": return runPromise = runner.runTests(message.context.files, project).catch((error) => error), {\n\t\t\ttype: \"testfileFinished\",\n\t\t\terror: await runPromise,\n\t\t\t__vitest_worker_response__\n\t\t};\n\t\tcase \"collect\": return runPromise = runner.collectTests(message.context.files, project).catch((error) => error), {\n\t\t\ttype: \"testfileFinished\",\n\t\t\terror: await runPromise,\n\t\t\t__vitest_worker_response__\n\t\t};\n\t\tcase \"stop\": return await runPromise, await project.typechecker?.stop(), {\n\t\t\ttype: \"stopped\",\n\t\t\t__vitest_worker_response__\n\t\t};\n\t}\n\tthrow new Error(`Unexpected message ${JSON.stringify(message, null, 2)}`);\n}\nfunction createRunner(vitest) {\n\tconst promisesMap = /* @__PURE__ */ new WeakMap(), rerunTriggered = /* @__PURE__ */ new WeakSet();\n\tasync function onParseEnd(project, { files, sourceErrors }) {\n\t\tconst checker = project.typechecker, { packs, events } = checker.getTestPacksAndEvents();\n\t\tif (await vitest._testRun.updated(packs, events), !project.config.typecheck.ignoreSourceErrors) sourceErrors.forEach((error) => vitest.state.catchError(error, \"Unhandled Source Error\"));\n\t\tif (!hasFailed(files) && !sourceErrors.length && checker.getExitCode()) {\n\t\t\tconst error = new Error(checker.getOutput());\n\t\t\terror.stack = \"\", vitest.state.catchError(error, \"Typecheck Error\");\n\t\t}\n\t\t// triggered by TSC watcher, not Vitest watcher, so we need to emulate what Vitest does in this case\n\t\tif (promisesMap.get(project)?.resolve(), rerunTriggered.delete(project), vitest.config.watch && !vitest.runningPromise) {\n\t\t\tconst modules = files.map((file) => vitest.state.getReportedEntity(file)).filter((e) => e?.type === \"module\"), state = vitest.isCancelling ? \"interrupted\" : modules.some((m) => !m.ok()) ? \"failed\" : \"passed\";\n\t\t\tawait vitest.report(\"onTestRunEnd\", modules, [], state), await vitest.report(\"onWatcherStart\", files, [...project.config.typecheck.ignoreSourceErrors ? [] : sourceErrors, ...vitest.state.getUnhandledErrors()]);\n\t\t}\n\t}\n\tasync function createWorkspaceTypechecker(project, files) {\n\t\tconst checker = project.typechecker ?? new Typechecker(project);\n\t\treturn project.typechecker ? checker : (project.typechecker = checker, checker.setFiles(files), checker.onParseStart(async () => {\n\t\t\tconst files = checker.getTestFiles();\n\t\t\tfor (const file of files) await vitest._testRun.enqueued(project, file);\n\t\t\tawait vitest._testRun.collected(project, files);\n\t\t}), checker.onParseEnd((result) => onParseEnd(project, result)), checker.onWatcherRerun(async () => {\n\t\t\tif (rerunTriggered.add(project), !vitest.runningPromise) vitest.state.clearErrors(), await vitest.report(\"onWatcherRerun\", files, \"File change detected. Triggering rerun.\");\n\t\t\tawait checker.collectTests();\n\t\t\tconst testFiles = checker.getTestFiles();\n\t\t\tfor (const file of testFiles) await vitest._testRun.enqueued(project, file);\n\t\t\tawait vitest._testRun.collected(project, testFiles);\n\t\t\tconst { packs, events } = checker.getTestPacksAndEvents();\n\t\t\tawait vitest._testRun.updated(packs, events);\n\t\t}), checker);\n\t}\n\tasync function startTypechecker(project, files) {\n\t\tif (project.typechecker) return;\n\t\tconst checker = await createWorkspaceTypechecker(project, files);\n\t\tawait checker.collectTests(), await checker.start();\n\t}\n\tasync function collectTests(specs, project) {\n\t\tconst files = specs.map((spec) => spec.filepath), checker = await createWorkspaceTypechecker(project, files);\n\t\tchecker.setFiles(files), await checker.collectTests();\n\t\tconst testFiles = checker.getTestFiles();\n\t\tvitest.state.collectFiles(project, testFiles);\n\t}\n\tasync function runTests(specs, project) {\n\t\tconst promises = [], files = specs.map((spec) => spec.filepath), promise = createDefer(), triggered = await new Promise((resolve) => {\n\t\t\tconst _i = setInterval(() => {\n\t\t\t\tif (!project.typechecker || rerunTriggered.has(project)) resolve(true), clearInterval(_i);\n\t\t\t});\n\t\t\tsetTimeout(() => {\n\t\t\t\tresolve(false), clearInterval(_i);\n\t\t\t}, 500).unref();\n\t\t});\n\t\tif (project.typechecker && !triggered) {\n\t\t\tconst testFiles = project.typechecker.getTestFiles();\n\t\t\tfor (const file of testFiles) await vitest._testRun.enqueued(project, file);\n\t\t\tawait vitest._testRun.collected(project, testFiles), await onParseEnd(project, project.typechecker.getResult());\n\t\t}\n\t\tpromises.push(promise), promisesMap.set(project, promise), promises.push(startTypechecker(project, files)), await Promise.all(promises);\n\t}\n\treturn {\n\t\trunTests,\n\t\tcollectTests\n\t};\n}\n\n/** @experimental */\nclass VmForksPoolWorker extends ForksPoolWorker {\n\tname = \"vmForks\";\n\treportMemory = true;\n\tentrypoint;\n\tconstructor(options) {\n\t\t/** Loads {@link file://./../../../runtime/workers/vmForks.ts} */\n\t\tsuper({\n\t\t\t...options,\n\t\t\texecArgv: [...options.execArgv, \"--experimental-vm-modules\"]\n\t\t}), this.entrypoint = resolve$1(options.distPath, \"workers/vmForks.js\");\n\t}\n}\n\n/** @experimental */\nclass VmThreadsPoolWorker extends ThreadsPoolWorker {\n\tname = \"vmThreads\";\n\treportMemory = true;\n\tentrypoint;\n\tconstructor(options) {\n\t\t/** Loads {@link file://./../../../runtime/workers/vmThreads.ts} */\n\t\tsuper({\n\t\t\t...options,\n\t\t\texecArgv: [...options.execArgv, \"--experimental-vm-modules\"]\n\t\t}), this.entrypoint = resolve$1(options.distPath, \"workers/vmThreads.js\");\n\t}\n}\n\nconst WORKER_START_TIMEOUT = 5e3;\nclass Pool {\n\tmaxWorkers = 0;\n\tworkerIds = /* @__PURE__ */ new Map();\n\tqueue = [];\n\tactiveTasks = [];\n\tsharedRunners = [];\n\texitPromises = [];\n\t_isCancelling = false;\n\tconstructor(options, logger) {\n\t\tthis.options = options, this.logger = logger;\n\t}\n\tsetMaxWorkers(maxWorkers) {\n\t\tthis.maxWorkers = maxWorkers, this.workerIds = new Map(Array.from({ length: maxWorkers }).fill(0).map((_, i) => [i + 1, true]));\n\t}\n\tasync run(task, method) {\n\t\t// Prevent new tasks from being queued during cancellation\n\t\tif (this._isCancelling) throw new Error(\"[vitest-pool]: Cannot run tasks while pool is cancelling\");\n\t\t// Every runner related failure should make this promise reject so that it's picked by pool.\n\t\t// This resolver is used to make the error handling in recursive queue easier.\n\t\tconst testFinish = withResolvers();\n\t\tthis.queue.push({\n\t\t\ttask,\n\t\t\tresolver: testFinish,\n\t\t\tmethod\n\t\t}), this.schedule(), await testFinish.promise;\n\t}\n\tasync schedule() {\n\t\tif (this.queue.length === 0 || this.activeTasks.length >= this.maxWorkers) return;\n\t\tconst { task, resolver, method } = this.queue.shift();\n\t\ttry {\n\t\t\tlet isMemoryLimitReached = false;\n\t\t\tconst runner = this.getPoolRunner(task, method), activeTask = {\n\t\t\t\ttask,\n\t\t\t\tresolver,\n\t\t\t\tmethod,\n\t\t\t\tcancelTask\n\t\t\t};\n\t\t\tthis.activeTasks.push(activeTask);\n\t\t\tasync function cancelTask() {\n\t\t\t\tawait runner.stop(), resolver.reject(/* @__PURE__ */ new Error(\"Cancelled\"));\n\t\t\t}\n\t\t\tconst onFinished = (message) => {\n\t\t\t\tif (message?.__vitest_worker_response__ && message.type === \"testfileFinished\") {\n\t\t\t\t\tif (task.memoryLimit && message.usedMemory) isMemoryLimitReached = message.usedMemory >= task.memoryLimit;\n\t\t\t\t\tif (message.error) this.options.state.catchError(message.error, \"Test Run Error\");\n\t\t\t\t\trunner.off(\"message\", onFinished), resolver.resolve();\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (runner.on(\"message\", onFinished), !runner.isStarted) {\n\t\t\t\trunner.on(\"error\", (error) => {\n\t\t\t\t\tresolver.reject(new Error(`[vitest-pool]: Worker ${task.worker} emitted error.`, { cause: error }));\n\t\t\t\t});\n\t\t\t\tconst id = setTimeout(() => resolver.reject(/* @__PURE__ */ new Error(`[vitest-pool]: Timeout starting ${task.worker} runner.`)), WORKER_START_TIMEOUT);\n\t\t\t\tawait runner.start().finally(() => clearTimeout(id));\n\t\t\t}\n\t\t\tconst poolId = runner.poolId ?? this.getWorkerId();\n\t\t\trunner.poolId = poolId, runner.postMessage({\n\t\t\t\t__vitest_worker_request__: true,\n\t\t\t\ttype: method,\n\t\t\t\tcontext: task.context,\n\t\t\t\tpoolId\n\t\t\t}), await resolver.promise;\n\t\t\tconst index = this.activeTasks.indexOf(activeTask);\n\t\t\tif (index !== -1) this.activeTasks.splice(index, 1);\n\t\t\tif (!task.isolate && !isMemoryLimitReached && this.queue[0]?.task.isolate === false && isEqualRunner(runner, this.queue[0].task)) return this.sharedRunners.push(runner), this.schedule();\n\t\t\t// Runner terminations are started but not awaited until the end of full run.\n\t\t\t// Runner termination can also already start from task cancellation.\n\t\t\tif (!runner.isTerminated) {\n\t\t\t\tconst id = setTimeout(() => this.logger.error(`[vitest-pool]: Timeout terminating ${task.worker} worker for test files ${formatFiles(task)}.`), this.options.teardownTimeout);\n\t\t\t\tthis.exitPromises.push(runner.stop().then(() => clearTimeout(id)).catch((error) => this.logger.error(`[vitest-pool]: Failed to terminate ${task.worker} worker for test files ${formatFiles(task)}.`, error)));\n\t\t\t}\n\t\t\tthis.freeWorkerId(poolId);\n\t\t} \n\t\t// This is mostly to avoid zombie workers when/if Vitest internals run into errors\ncatch (error) {\n\t\t\treturn resolver.reject(error);\n\t\t}\n\t\treturn this.schedule();\n\t}\n\tasync cancel() {\n\t\t// Set flag to prevent new tasks from being queued\n\t\tthis._isCancelling = true;\n\t\tconst pendingTasks = this.queue.splice(0);\n\t\tif (pendingTasks.length) {\n\t\t\tconst error = /* @__PURE__ */ new Error(\"Cancelled\");\n\t\t\tpendingTasks.forEach((task) => task.resolver.reject(error));\n\t\t}\n\t\tconst activeTasks = this.activeTasks.splice(0);\n\t\tawait Promise.all(activeTasks.map((task) => task.cancelTask()));\n\t\tconst sharedRunners = this.sharedRunners.splice(0);\n\t\t// Reset flag after cancellation completes\n\t\tawait Promise.all(sharedRunners.map((runner) => runner.stop())), await Promise.all(this.exitPromises.splice(0)), this.workerIds.forEach((_, id) => this.freeWorkerId(id)), this._isCancelling = false;\n\t}\n\tasync close() {\n\t\tawait this.cancel();\n\t}\n\tgetPoolRunner(task, method) {\n\t\tif (task.isolate === false) {\n\t\t\tconst index = this.sharedRunners.findIndex((runner) => isEqualRunner(runner, task));\n\t\t\tif (index !== -1) return this.sharedRunners.splice(index, 1)[0];\n\t\t}\n\t\tconst options = {\n\t\t\tdistPath: this.options.distPath,\n\t\t\tproject: task.project,\n\t\t\tmethod,\n\t\t\tenvironment: task.context.environment.name,\n\t\t\tenv: task.env,\n\t\t\texecArgv: task.execArgv\n\t\t};\n\t\tswitch (task.worker) {\n\t\t\tcase \"forks\": return new PoolRunner(options, new ForksPoolWorker(options));\n\t\t\tcase \"vmForks\": return new PoolRunner(options, new VmForksPoolWorker(options));\n\t\t\tcase \"threads\": return new PoolRunner(options, new ThreadsPoolWorker(options));\n\t\t\tcase \"vmThreads\": return new PoolRunner(options, new VmThreadsPoolWorker(options));\n\t\t\tcase \"typescript\": return new PoolRunner(options, new TypecheckPoolWorker(options));\n\t\t}\n\t\tconst customPool = task.project.config.poolRunner;\n\t\tif (customPool != null && customPool.name === task.worker) return new PoolRunner(options, customPool.createPoolWorker(options));\n\t\tthrow new Error(`Runner ${task.worker} is not supported. Test files: ${formatFiles(task)}.`);\n\t}\n\tgetWorkerId() {\n\t\tlet workerId = 0;\n\t\treturn this.workerIds.forEach((state, id) => {\n\t\t\tif (state && !workerId) workerId = id, this.workerIds.set(id, false);\n\t\t}), workerId;\n\t}\n\tfreeWorkerId(id) {\n\t\tthis.workerIds.set(id, true);\n\t}\n}\nfunction withResolvers() {\n\tlet resolve = () => {}, reject = (_error) => {};\n\tconst promise = new Promise((res, rej) => {\n\t\tresolve = res, reject = rej;\n\t});\n\treturn {\n\t\tresolve,\n\t\treject,\n\t\tpromise\n\t};\n}\nfunction formatFiles(task) {\n\treturn task.context.files.map((file) => file.filepath).join(\", \");\n}\nfunction isEqualRunner(runner, task) {\n\tif (task.isolate) throw new Error(\"Isolated tasks should not share runners\");\n\treturn runner.worker.name === task.worker && runner.project === task.project && runner.environment === task.context.environment.name && (!runner.worker.canReuse || runner.worker.canReuse(task));\n}\n\nconst suppressWarningsPath = resolve(rootDir, \"./suppress-warnings.cjs\");\nfunction getFilePoolName(project) {\n\treturn project.config.browser.enabled ? \"browser\" : project.config.pool;\n}\nfunction createPool(ctx) {\n\tconst pool = new Pool({\n\t\tdistPath: ctx.distPath,\n\t\tteardownTimeout: ctx.config.teardownTimeout,\n\t\tstate: ctx.state\n\t}, ctx.logger), options = resolveOptions(ctx), Sequencer = ctx.config.sequence.sequencer, sequencer = new Sequencer(ctx);\n\tlet browserPool;\n\tasync function executeTests(method, specs, invalidates) {\n\t\tif (ctx.onCancel(() => pool.cancel()), ctx.config.shard) {\n\t\t\tif (!ctx.config.passWithNoTests && ctx.config.shard.count > specs.length) throw new Error(`--shard <count> must be a smaller than count of test files. Resolved ${specs.length} test files for --shard=${ctx.config.shard.index}/${ctx.config.shard.count}.`);\n\t\t\tspecs = await sequencer.shard(Array.from(specs));\n\t\t}\n\t\tconst taskGroups = [];\n\t\tlet workerId = 0;\n\t\tconst sorted = await sequencer.sort(specs), environments = await getSpecificationsEnvironments(specs), groups = groupSpecs(sorted, environments), projectEnvs = /* @__PURE__ */ new WeakMap(), projectExecArgvs = /* @__PURE__ */ new WeakMap();\n\t\tfor (const group of groups) {\n\t\t\tif (!group) continue;\n\t\t\tconst taskGroup = [], browserSpecs = [];\n\t\t\ttaskGroups.push({\n\t\t\t\ttasks: taskGroup,\n\t\t\t\tmaxWorkers: group.maxWorkers,\n\t\t\t\tbrowserSpecs\n\t\t\t});\n\t\t\tfor (const specs of group.specs) {\n\t\t\t\tconst { project, pool } = specs[0];\n\t\t\t\tif (pool === \"browser\") {\n\t\t\t\t\tbrowserSpecs.push(...specs);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tconst environment = environments.get(specs[0]);\n\t\t\t\tif (!environment) throw new Error(`Cannot find the environment. This is a bug in Vitest.`);\n\t\t\t\tlet env = projectEnvs.get(project);\n\t\t\t\tif (!env) {\n\t\t\t\t\t// env are case-insensitive on Windows, but spawned processes don't support it\n\t\t\t\t\tif (env = {\n\t\t\t\t\t\t...process.env,\n\t\t\t\t\t\t...options.env,\n\t\t\t\t\t\t...ctx.config.env,\n\t\t\t\t\t\t...project.config.env\n\t\t\t\t\t}, isWindows) for (const name in env) env[name.toUpperCase()] = env[name];\n\t\t\t\t\tprojectEnvs.set(project, env);\n\t\t\t\t}\n\t\t\t\tlet execArgv = projectExecArgvs.get(project);\n\t\t\t\tif (!execArgv) execArgv = [...options.execArgv, ...project.config.execArgv], projectExecArgvs.set(project, execArgv);\n\t\t\t\ttaskGroup.push({\n\t\t\t\t\tcontext: {\n\t\t\t\t\t\tpool,\n\t\t\t\t\t\tconfig: project.serializedConfig,\n\t\t\t\t\t\tfiles: specs.map((spec) => ({\n\t\t\t\t\t\t\tfilepath: spec.moduleId,\n\t\t\t\t\t\t\ttestLocations: spec.testLines\n\t\t\t\t\t\t})),\n\t\t\t\t\t\tinvalidates,\n\t\t\t\t\t\tenvironment,\n\t\t\t\t\t\tprojectName: project.name,\n\t\t\t\t\t\tprovidedContext: project.getProvidedContext(),\n\t\t\t\t\t\tworkerId: workerId++\n\t\t\t\t\t},\n\t\t\t\t\tproject,\n\t\t\t\t\tenv,\n\t\t\t\t\texecArgv,\n\t\t\t\t\tworker: pool,\n\t\t\t\t\tisolate: project.config.isolate,\n\t\t\t\t\tmemoryLimit: getMemoryLimit(ctx.config, pool) ?? null\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tconst results = [];\n\t\tfor (const { tasks, browserSpecs, maxWorkers } of taskGroups) {\n\t\t\tpool.setMaxWorkers(maxWorkers);\n\t\t\tconst promises = tasks.map(async (task) => {\n\t\t\t\tif (ctx.isCancelling) return ctx.state.cancelFiles(task.context.files, task.project);\n\t\t\t\ttry {\n\t\t\t\t\tawait pool.run(task, method);\n\t\t\t\t} catch (error) {\n\t\t\t\t\t// Intentionally cancelled\n\t\t\t\t\tif (ctx.isCancelling && error instanceof Error && error.message === \"Cancelled\") ctx.state.cancelFiles(task.context.files, task.project);\n\t\t\t\t\telse throw error;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (browserSpecs.length) if (browserPool ??= createBrowserPool(ctx), method === \"collect\") promises.push(browserPool.collectTests(browserSpecs));\n\t\t\telse promises.push(browserPool.runTests(browserSpecs));\n\t\t\tconst groupResults = await Promise.allSettled(promises);\n\t\t\tresults.push(...groupResults);\n\t\t}\n\t\tconst errors = results.filter((result) => result.status === \"rejected\").map((result) => result.reason);\n\t\tif (errors.length > 0) throw new AggregateError(errors, \"Errors occurred while running tests. For more information, see serialized error.\");\n\t}\n\treturn {\n\t\tname: \"default\",\n\t\trunTests: (files, invalidates) => executeTests(\"run\", files, invalidates),\n\t\tcollectTests: (files, invalidates) => executeTests(\"collect\", files, invalidates),\n\t\tasync close() {\n\t\t\tawait Promise.all([pool.close(), browserPool?.close?.()]);\n\t\t}\n\t};\n}\nfunction resolveOptions(ctx) {\n\t// in addition to resolve.conditions Vite also adds production/development,\n\t// see: https://github.com/vitejs/vite/blob/af2aa09575229462635b7cbb6d248ca853057ba2/packages/vite/src/node/plugins/resolve.ts#L1056-L1080\n\tconst viteMajor = Number(version.split(\".\")[0]), conditions = [...new Set(viteMajor >= 6 ? ctx.vite.config.ssr.resolve?.conditions ?? [] : [\n\t\t\"production\",\n\t\t\"development\",\n\t\t...ctx.vite.config.resolve.conditions\n\t])].filter((condition) => {\n\t\treturn condition === \"production\" ? ctx.vite.config.isProduction : condition === \"development\" ? !ctx.vite.config.isProduction : true;\n\t}).map((condition) => {\n\t\treturn viteMajor >= 6 && condition === \"development|production\" ? ctx.vite.config.isProduction ? \"production\" : \"development\" : condition;\n\t}).flatMap((c) => [\"--conditions\", c]);\n\treturn {\n\t\texecArgv: [\n\t\t\t...process.execArgv.filter((execArg) => execArg.startsWith(\"--cpu-prof\") || execArg.startsWith(\"--heap-prof\") || execArg.startsWith(\"--diagnostic-dir\")),\n\t\t\t...conditions,\n\t\t\t\"--experimental-import-meta-resolve\",\n\t\t\t\"--require\",\n\t\t\tsuppressWarningsPath\n\t\t],\n\t\tenv: {\n\t\t\tTEST: \"true\",\n\t\t\tVITEST: \"true\",\n\t\t\tNODE_ENV: process.env.NODE_ENV || \"test\",\n\t\t\tVITEST_MODE: ctx.config.watch ? \"WATCH\" : \"RUN\",\n\t\t\tFORCE_TTY: isatty(1) ? \"true\" : \"\"\n\t\t}\n\t};\n}\nfunction resolveMaxWorkers(project) {\n\tif (project.config.maxWorkers) return project.config.maxWorkers;\n\tif (project.vitest.config.maxWorkers) return project.vitest.config.maxWorkers;\n\tconst numCpus = typeof nodeos.availableParallelism === \"function\" ? nodeos.availableParallelism() : nodeos.cpus().length;\n\treturn project.vitest.config.watch ? Math.max(Math.floor(numCpus / 2), 1) : Math.max(numCpus - 1, 1);\n}\nfunction getMemoryLimit(config, pool) {\n\tif (pool !== \"vmForks\" && pool !== \"vmThreads\") return null;\n\tconst memory = nodeos.totalmem(), limit = getWorkerMemoryLimit(config);\n\t// just ignore \"memoryLimit\" value because we cannot detect memory limit\n\treturn typeof memory === \"number\" ? stringToBytes(limit, config.watch ? memory / 2 : memory) : typeof limit === \"number\" && limit > 1 || typeof limit === \"string\" && limit.at(-1) !== \"%\" ? stringToBytes(limit) : null;\n}\nfunction groupSpecs(specs, environments) {\n\tconst groups = [], sequential = {\n\t\tspecs: [],\n\t\tmaxWorkers: 1\n\t}, typechecks = {}, serializedEnvironmentOptions = /* @__PURE__ */ new Map();\n\tfunction getSerializedOptions(env) {\n\t\tconst options = serializedEnvironmentOptions.get(env);\n\t\tif (options) return options;\n\t\tconst serialized = JSON.stringify(env.options);\n\t\treturn serializedEnvironmentOptions.set(env, serialized), serialized;\n\t}\n\tfunction isEqualEnvironments(a, b) {\n\t\tconst aEnv = environments.get(a), bEnv = environments.get(b);\n\t\treturn !aEnv && !bEnv ? true : !aEnv || !bEnv || aEnv.name !== bEnv.name ? false : !aEnv.options && !bEnv.options ? true : !aEnv.options || !bEnv.options ? false : getSerializedOptions(aEnv) === getSerializedOptions(bEnv);\n\t}\n\tspecs.forEach((spec) => {\n\t\tif (spec.pool === \"typescript\") {\n\t\t\ttypechecks[spec.project.name] ||= [], typechecks[spec.project.name].push(spec);\n\t\t\treturn;\n\t\t}\n\t\tconst order = spec.project.config.sequence.groupOrder;\n\t\t// Files that have disabled parallelism and default groupOrder are set into their own group\n\t\tif (order === 0 && spec.project.config.fileParallelism === false) return sequential.specs.push([spec]);\n\t\tconst maxWorkers = resolveMaxWorkers(spec.project), isolate = spec.project.config.isolate;\n\t\t// Multiple projects with different maxWorkers but same groupOrder\n\t\tif (groups[order] ||= {\n\t\t\tspecs: [],\n\t\t\tmaxWorkers\n\t\t}, groups[order].maxWorkers !== maxWorkers) {\n\t\t\tconst last = groups[order].specs.at(-1)?.at(-1)?.project.name;\n\t\t\tthrow new Error(`Projects \"${last}\" and \"${spec.project.name}\" have different 'maxWorkers' but same 'sequence.groupOrder'.\\nProvide unique 'sequence.groupOrder' for them.`);\n\t\t}\n\t\t// Non-isolated single worker can receive all files at once\n\t\tif (isolate === false && maxWorkers === 1) {\n\t\t\tconst previous = groups[order].specs[0]?.[0];\n\t\t\tif (previous && previous.project.name === spec.project.name && isEqualEnvironments(spec, previous)) return groups[order].specs[0].push(spec);\n\t\t}\n\t\tgroups[order].specs.push([spec]);\n\t});\n\tlet order = Math.max(0, ...groups.keys()) + 1;\n\tfor (const projectName in typechecks) {\n\t\tconst maxWorkers = resolveMaxWorkers(typechecks[projectName][0].project), previous = groups[order - 1];\n\t\tif (previous && previous.typecheck && maxWorkers !== previous.maxWorkers) order += 1;\n\t\tgroups[order] ||= {\n\t\t\tspecs: [],\n\t\t\tmaxWorkers,\n\t\t\ttypecheck: true\n\t\t}, groups[order].specs.push(typechecks[projectName]);\n\t}\n\tif (sequential.specs.length) groups.push(sequential);\n\treturn groups;\n}\n\nfunction serializeConfig(project) {\n\tconst { config, globalConfig } = project, viteConfig = project._vite?.config, optimizer = config.deps?.optimizer || {};\n\treturn {\n\t\tenvironmentOptions: config.environmentOptions,\n\t\tmode: config.mode,\n\t\tisolate: config.isolate,\n\t\tfileParallelism: config.fileParallelism,\n\t\tmaxWorkers: config.maxWorkers,\n\t\tbase: config.base,\n\t\tlogHeapUsage: config.logHeapUsage,\n\t\trunner: config.runner,\n\t\tbail: config.bail,\n\t\tdefines: config.defines,\n\t\tchaiConfig: config.chaiConfig,\n\t\tsetupFiles: config.setupFiles,\n\t\tallowOnly: config.allowOnly,\n\t\ttestTimeout: config.testTimeout,\n\t\ttestNamePattern: config.testNamePattern,\n\t\thookTimeout: config.hookTimeout,\n\t\tclearMocks: config.clearMocks,\n\t\tmockReset: config.mockReset,\n\t\trestoreMocks: config.restoreMocks,\n\t\tunstubEnvs: config.unstubEnvs,\n\t\tunstubGlobals: config.unstubGlobals,\n\t\tmaxConcurrency: config.maxConcurrency,\n\t\tpool: config.pool,\n\t\texpect: config.expect,\n\t\tsnapshotSerializers: config.snapshotSerializers,\n\t\tdiff: config.diff,\n\t\tretry: config.retry,\n\t\tdisableConsoleIntercept: config.disableConsoleIntercept,\n\t\troot: config.root,\n\t\tname: config.name,\n\t\tglobals: config.globals,\n\t\tsnapshotEnvironment: config.snapshotEnvironment,\n\t\tpassWithNoTests: config.passWithNoTests,\n\t\tcoverage: ((coverage) => {\n\t\t\tconst htmlReporter = coverage.reporter.find(([reporterName]) => reporterName === \"html\"), subdir = htmlReporter && htmlReporter[1]?.subdir;\n\t\t\treturn {\n\t\t\t\treportsDirectory: coverage.reportsDirectory,\n\t\t\t\tprovider: coverage.provider,\n\t\t\t\tenabled: coverage.enabled,\n\t\t\t\thtmlReporter: htmlReporter ? { subdir } : void 0,\n\t\t\t\tcustomProviderModule: \"customProviderModule\" in coverage ? coverage.customProviderModule : void 0\n\t\t\t};\n\t\t})(config.coverage),\n\t\tfakeTimers: config.fakeTimers,\n\t\tdeps: {\n\t\t\tweb: config.deps.web || {},\n\t\t\toptimizer: Object.entries(optimizer).reduce((acc, [name, option]) => {\n\t\t\t\treturn acc[name] = { enabled: option?.enabled ?? false }, acc;\n\t\t\t}, {}),\n\t\t\tinteropDefault: config.deps.interopDefault,\n\t\t\tmoduleDirectories: config.deps.moduleDirectories\n\t\t},\n\t\tsnapshotOptions: {\n\t\t\tsnapshotEnvironment: void 0,\n\t\t\tupdateSnapshot: globalConfig.snapshotOptions.updateSnapshot,\n\t\t\tsnapshotFormat: { ...globalConfig.snapshotOptions.snapshotFormat },\n\t\t\texpand: config.snapshotOptions.expand ?? globalConfig.snapshotOptions.expand\n\t\t},\n\t\tsequence: {\n\t\t\tshuffle: globalConfig.sequence.shuffle,\n\t\t\tconcurrent: globalConfig.sequence.concurrent,\n\t\t\tseed: globalConfig.sequence.seed,\n\t\t\thooks: globalConfig.sequence.hooks,\n\t\t\tsetupFiles: globalConfig.sequence.setupFiles\n\t\t},\n\t\tinspect: globalConfig.inspect,\n\t\tinspectBrk: globalConfig.inspectBrk,\n\t\tinspector: globalConfig.inspector,\n\t\twatch: config.watch,\n\t\tincludeTaskLocation: config.includeTaskLocation ?? globalConfig.includeTaskLocation,\n\t\tenv: {\n\t\t\t...viteConfig?.env,\n\t\t\t...config.env\n\t\t},\n\t\tbrowser: ((browser) => {\n\t\t\tconst provider = project.browser?.provider;\n\t\t\treturn {\n\t\t\t\tname: browser.name,\n\t\t\t\theadless: browser.headless,\n\t\t\t\tisolate: browser.isolate,\n\t\t\t\tfileParallelism: browser.fileParallelism,\n\t\t\t\tui: browser.ui,\n\t\t\t\tviewport: browser.viewport,\n\t\t\t\tscreenshotFailures: browser.screenshotFailures,\n\t\t\t\tlocators: { testIdAttribute: browser.locators.testIdAttribute },\n\t\t\t\tproviderOptions: provider?.name === \"playwright\" ? { actionTimeout: provider?.options?.actionTimeout } : {},\n\t\t\t\ttrackUnhandledErrors: browser.trackUnhandledErrors ?? true,\n\t\t\t\ttrace: browser.trace.mode\n\t\t\t};\n\t\t})(config.browser),\n\t\tstandalone: config.standalone,\n\t\tprintConsoleTrace: config.printConsoleTrace ?? globalConfig.printConsoleTrace,\n\t\tbenchmark: config.benchmark && { includeSamples: config.benchmark.includeSamples },\n\t\tserializedDefines: config.browser.enabled ? \"\" : project._serializedDefines || \"\"\n\t};\n}\n\nasync function loadGlobalSetupFiles(runner, globalSetup) {\n\tconst globalSetupFiles = toArray(globalSetup);\n\treturn Promise.all(globalSetupFiles.map((file) => loadGlobalSetupFile(file, runner)));\n}\nasync function loadGlobalSetupFile(file, runner) {\n\tconst m = await runner.import(file);\n\tfor (const exp of [\n\t\t\"default\",\n\t\t\"setup\",\n\t\t\"teardown\"\n\t]) if (m[exp] != null && typeof m[exp] !== \"function\") throw new Error(`invalid export in globalSetup file ${file}: ${exp} must be a function`);\n\tif (m.default) return {\n\t\tfile,\n\t\tsetup: m.default\n\t};\n\tif (m.setup || m.teardown) return {\n\t\tfile,\n\t\tsetup: m.setup,\n\t\tteardown: m.teardown\n\t};\n\tthrow new Error(`invalid globalSetup file ${file}. Must export setup, teardown or have a default export`);\n}\n\nfunction CoverageTransform(ctx) {\n\treturn {\n\t\tname: \"vitest:coverage-transform\",\n\t\tenforce: \"post\",\n\t\ttransform(srcCode, id) {\n\t\t\treturn ctx.coverageProvider?.onFileTransform?.(srcCode, id, this);\n\t\t}\n\t};\n}\n\nvar jsTokens_1;\nvar hasRequiredJsTokens;\n\nfunction requireJsTokens () {\n\tif (hasRequiredJsTokens) return jsTokens_1;\n\thasRequiredJsTokens = 1;\n\t// Copyright 2014, 2015, 2016, 2017, 2018, 2019, 2020, 2021, 2022, 2023 Simon Lydell\n\t// License: MIT.\n\tvar HashbangComment, Identifier, JSXIdentifier, JSXPunctuator, JSXString, JSXText, KeywordsWithExpressionAfter, KeywordsWithNoLineTerminatorAfter, LineTerminatorSequence, MultiLineComment, Newline, NumericLiteral, Punctuator, RegularExpressionLiteral, SingleLineComment, StringLiteral, Template, TokensNotPrecedingObjectLiteral, TokensPrecedingExpression, WhiteSpace;\n\tRegularExpressionLiteral = /\\/(?![*\\/])(?:\\[(?:[^\\]\\\\\\n\\r\\u2028\\u2029]+|\\\\.)*\\]?|[^\\/[\\\\\\n\\r\\u2028\\u2029]+|\\\\.)*(\\/[$_\\u200C\\u200D\\p{ID_Continue}]*|\\\\)?/yu;\n\tPunctuator = /--|\\+\\+|=>|\\.{3}|\\??\\.(?!\\d)|(?:&&|\\|\\||\\?\\?|[+\\-%&|^]|\\*{1,2}|<{1,2}|>{1,3}|!=?|={1,2}|\\/(?![\\/*]))=?|[?~,:;[\\](){}]/y;\n\tIdentifier = /(\\x23?)(?=[$_\\p{ID_Start}\\\\])(?:[$_\\u200C\\u200D\\p{ID_Continue}]+|\\\\u[\\da-fA-F]{4}|\\\\u\\{[\\da-fA-F]+\\})+/yu;\n\tStringLiteral = /(['\"])(?:[^'\"\\\\\\n\\r]+|(?!\\1)['\"]|\\\\(?:\\r\\n|[^]))*(\\1)?/y;\n\tNumericLiteral = /(?:0[xX][\\da-fA-F](?:_?[\\da-fA-F])*|0[oO][0-7](?:_?[0-7])*|0[bB][01](?:_?[01])*)n?|0n|[1-9](?:_?\\d)*n|(?:(?:0(?!\\d)|0\\d*[89]\\d*|[1-9](?:_?\\d)*)(?:\\.(?:\\d(?:_?\\d)*)?)?|\\.\\d(?:_?\\d)*)(?:[eE][+-]?\\d(?:_?\\d)*)?|0[0-7]+/y;\n\tTemplate = /[`}](?:[^`\\\\$]+|\\\\[^]|\\$(?!\\{))*(`|\\$\\{)?/y;\n\tWhiteSpace = /[\\t\\v\\f\\ufeff\\p{Zs}]+/yu;\n\tLineTerminatorSequence = /\\r?\\n|[\\r\\u2028\\u2029]/y;\n\tMultiLineComment = /\\/\\*(?:[^*]+|\\*(?!\\/))*(\\*\\/)?/y;\n\tSingleLineComment = /\\/\\/.*/y;\n\tHashbangComment = /^#!.*/;\n\tJSXPunctuator = /[<>.:={}]|\\/(?![\\/*])/y;\n\tJSXIdentifier = /[$_\\p{ID_Start}][$_\\u200C\\u200D\\p{ID_Continue}-]*/yu;\n\tJSXString = /(['\"])(?:[^'\"]+|(?!\\1)['\"])*(\\1)?/y;\n\tJSXText = /[^<>{}]+/y;\n\tTokensPrecedingExpression = /^(?:[\\/+-]|\\.{3}|\\?(?:InterpolationIn(?:JSX|Template)|NoLineTerminatorHere|NonExpressionParenEnd|UnaryIncDec))?$|[{}([,;<>=*%&|^!~?:]$/;\n\tTokensNotPrecedingObjectLiteral = /^(?:=>|[;\\]){}]|else|\\?(?:NoLineTerminatorHere|NonExpressionParenEnd))?$/;\n\tKeywordsWithExpressionAfter = /^(?:await|case|default|delete|do|else|instanceof|new|return|throw|typeof|void|yield)$/;\n\tKeywordsWithNoLineTerminatorAfter = /^(?:return|throw|yield)$/;\n\tNewline = RegExp(LineTerminatorSequence.source);\n\tjsTokens_1 = function*(input, {jsx = false} = {}) {\n\t\tvar braces, firstCodePoint, isExpression, lastIndex, lastSignificantToken, length, match, mode, nextLastIndex, nextLastSignificantToken, parenNesting, postfixIncDec, punctuator, stack;\n\t\t({length} = input);\n\t\tlastIndex = 0;\n\t\tlastSignificantToken = \"\";\n\t\tstack = [\n\t\t\t{tag: \"JS\"}\n\t\t];\n\t\tbraces = [];\n\t\tparenNesting = 0;\n\t\tpostfixIncDec = false;\n\t\tif (match = HashbangComment.exec(input)) {\n\t\t\tyield ({\n\t\t\t\ttype: \"HashbangComment\",\n\t\t\t\tvalue: match[0]\n\t\t\t});\n\t\t\tlastIndex = match[0].length;\n\t\t}\n\t\twhile (lastIndex < length) {\n\t\t\tmode = stack[stack.length - 1];\n\t\t\tswitch (mode.tag) {\n\t\t\t\tcase \"JS\":\n\t\t\t\tcase \"JSNonExpressionParen\":\n\t\t\t\tcase \"InterpolationInTemplate\":\n\t\t\t\tcase \"InterpolationInJSX\":\n\t\t\t\t\tif (input[lastIndex] === \"/\" && (TokensPrecedingExpression.test(lastSignificantToken) || KeywordsWithExpressionAfter.test(lastSignificantToken))) {\n\t\t\t\t\t\tRegularExpressionLiteral.lastIndex = lastIndex;\n\t\t\t\t\t\tif (match = RegularExpressionLiteral.exec(input)) {\n\t\t\t\t\t\t\tlastIndex = RegularExpressionLiteral.lastIndex;\n\t\t\t\t\t\t\tlastSignificantToken = match[0];\n\t\t\t\t\t\t\tpostfixIncDec = true;\n\t\t\t\t\t\t\tyield ({\n\t\t\t\t\t\t\t\ttype: \"RegularExpressionLiteral\",\n\t\t\t\t\t\t\t\tvalue: match[0],\n\t\t\t\t\t\t\t\tclosed: match[1] !== void 0 && match[1] !== \"\\\\\"\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tPunctuator.lastIndex = lastIndex;\n\t\t\t\t\tif (match = Punctuator.exec(input)) {\n\t\t\t\t\t\tpunctuator = match[0];\n\t\t\t\t\t\tnextLastIndex = Punctuator.lastIndex;\n\t\t\t\t\t\tnextLastSignificantToken = punctuator;\n\t\t\t\t\t\tswitch (punctuator) {\n\t\t\t\t\t\t\tcase \"(\":\n\t\t\t\t\t\t\t\tif (lastSignificantToken === \"?NonExpressionParenKeyword\") {\n\t\t\t\t\t\t\t\t\tstack.push({\n\t\t\t\t\t\t\t\t\t\ttag: \"JSNonExpressionParen\",\n\t\t\t\t\t\t\t\t\t\tnesting: parenNesting\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tparenNesting++;\n\t\t\t\t\t\t\t\tpostfixIncDec = false;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \")\":\n\t\t\t\t\t\t\t\tparenNesting--;\n\t\t\t\t\t\t\t\tpostfixIncDec = true;\n\t\t\t\t\t\t\t\tif (mode.tag === \"JSNonExpressionParen\" && parenNesting === mode.nesting) {\n\t\t\t\t\t\t\t\t\tstack.pop();\n\t\t\t\t\t\t\t\t\tnextLastSignificantToken = \"?NonExpressionParenEnd\";\n\t\t\t\t\t\t\t\t\tpostfixIncDec = false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \"{\":\n\t\t\t\t\t\t\t\tPunctuator.lastIndex = 0;\n\t\t\t\t\t\t\t\tisExpression = !TokensNotPrecedingObjectLiteral.test(lastSignificantToken) && (TokensPrecedingExpression.test(lastSignificantToken) || KeywordsWithExpressionAfter.test(lastSignificantToken));\n\t\t\t\t\t\t\t\tbraces.push(isExpression);\n\t\t\t\t\t\t\t\tpostfixIncDec = false;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \"}\":\n\t\t\t\t\t\t\t\tswitch (mode.tag) {\n\t\t\t\t\t\t\t\t\tcase \"InterpolationInTemplate\":\n\t\t\t\t\t\t\t\t\t\tif (braces.length === mode.nesting) {\n\t\t\t\t\t\t\t\t\t\t\tTemplate.lastIndex = lastIndex;\n\t\t\t\t\t\t\t\t\t\t\tmatch = Template.exec(input);\n\t\t\t\t\t\t\t\t\t\t\tlastIndex = Template.lastIndex;\n\t\t\t\t\t\t\t\t\t\t\tlastSignificantToken = match[0];\n\t\t\t\t\t\t\t\t\t\t\tif (match[1] === \"${\") {\n\t\t\t\t\t\t\t\t\t\t\t\tlastSignificantToken = \"?InterpolationInTemplate\";\n\t\t\t\t\t\t\t\t\t\t\t\tpostfixIncDec = false;\n\t\t\t\t\t\t\t\t\t\t\t\tyield ({\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"TemplateMiddle\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: match[0]\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tstack.pop();\n\t\t\t\t\t\t\t\t\t\t\t\tpostfixIncDec = true;\n\t\t\t\t\t\t\t\t\t\t\t\tyield ({\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"TemplateTail\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: match[0],\n\t\t\t\t\t\t\t\t\t\t\t\t\tclosed: match[1] === \"`\"\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tcase \"InterpolationInJSX\":\n\t\t\t\t\t\t\t\t\t\tif (braces.length === mode.nesting) {\n\t\t\t\t\t\t\t\t\t\t\tstack.pop();\n\t\t\t\t\t\t\t\t\t\t\tlastIndex += 1;\n\t\t\t\t\t\t\t\t\t\t\tlastSignificantToken = \"}\";\n\t\t\t\t\t\t\t\t\t\t\tyield ({\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"JSXPunctuator\",\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"}\"\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tpostfixIncDec = braces.pop();\n\t\t\t\t\t\t\t\tnextLastSignificantToken = postfixIncDec ? \"?ExpressionBraceEnd\" : \"}\";\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \"]\":\n\t\t\t\t\t\t\t\tpostfixIncDec = true;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \"++\":\n\t\t\t\t\t\t\tcase \"--\":\n\t\t\t\t\t\t\t\tnextLastSignificantToken = postfixIncDec ? \"?PostfixIncDec\" : \"?UnaryIncDec\";\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \"<\":\n\t\t\t\t\t\t\t\tif (jsx && (TokensPrecedingExpression.test(lastSignificantToken) || KeywordsWithExpressionAfter.test(lastSignificantToken))) {\n\t\t\t\t\t\t\t\t\tstack.push({tag: \"JSXTag\"});\n\t\t\t\t\t\t\t\t\tlastIndex += 1;\n\t\t\t\t\t\t\t\t\tlastSignificantToken = \"<\";\n\t\t\t\t\t\t\t\t\tyield ({\n\t\t\t\t\t\t\t\t\t\ttype: \"JSXPunctuator\",\n\t\t\t\t\t\t\t\t\t\tvalue: punctuator\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tpostfixIncDec = false;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tpostfixIncDec = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlastIndex = nextLastIndex;\n\t\t\t\t\t\tlastSignificantToken = nextLastSignificantToken;\n\t\t\t\t\t\tyield ({\n\t\t\t\t\t\t\ttype: \"Punctuator\",\n\t\t\t\t\t\t\tvalue: punctuator\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tIdentifier.lastIndex = lastIndex;\n\t\t\t\t\tif (match = Identifier.exec(input)) {\n\t\t\t\t\t\tlastIndex = Identifier.lastIndex;\n\t\t\t\t\t\tnextLastSignificantToken = match[0];\n\t\t\t\t\t\tswitch (match[0]) {\n\t\t\t\t\t\t\tcase \"for\":\n\t\t\t\t\t\t\tcase \"if\":\n\t\t\t\t\t\t\tcase \"while\":\n\t\t\t\t\t\t\tcase \"with\":\n\t\t\t\t\t\t\t\tif (lastSignificantToken !== \".\" && lastSignificantToken !== \"?.\") {\n\t\t\t\t\t\t\t\t\tnextLastSignificantToken = \"?NonExpressionParenKeyword\";\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlastSignificantToken = nextLastSignificantToken;\n\t\t\t\t\t\tpostfixIncDec = !KeywordsWithExpressionAfter.test(match[0]);\n\t\t\t\t\t\tyield ({\n\t\t\t\t\t\t\ttype: match[1] === \"#\" ? \"PrivateIdentifier\" : \"IdentifierName\",\n\t\t\t\t\t\t\tvalue: match[0]\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tStringLiteral.lastIndex = lastIndex;\n\t\t\t\t\tif (match = StringLiteral.exec(input)) {\n\t\t\t\t\t\tlastIndex = StringLiteral.lastIndex;\n\t\t\t\t\t\tlastSignificantToken = match[0];\n\t\t\t\t\t\tpostfixIncDec = true;\n\t\t\t\t\t\tyield ({\n\t\t\t\t\t\t\ttype: \"StringLiteral\",\n\t\t\t\t\t\t\tvalue: match[0],\n\t\t\t\t\t\t\tclosed: match[2] !== void 0\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tNumericLiteral.lastIndex = lastIndex;\n\t\t\t\t\tif (match = NumericLiteral.exec(input)) {\n\t\t\t\t\t\tlastIndex = NumericLiteral.lastIndex;\n\t\t\t\t\t\tlastSignificantToken = match[0];\n\t\t\t\t\t\tpostfixIncDec = true;\n\t\t\t\t\t\tyield ({\n\t\t\t\t\t\t\ttype: \"NumericLiteral\",\n\t\t\t\t\t\t\tvalue: match[0]\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tTemplate.lastIndex = lastIndex;\n\t\t\t\t\tif (match = Template.exec(input)) {\n\t\t\t\t\t\tlastIndex = Template.lastIndex;\n\t\t\t\t\t\tlastSignificantToken = match[0];\n\t\t\t\t\t\tif (match[1] === \"${\") {\n\t\t\t\t\t\t\tlastSignificantToken = \"?InterpolationInTemplate\";\n\t\t\t\t\t\t\tstack.push({\n\t\t\t\t\t\t\t\ttag: \"InterpolationInTemplate\",\n\t\t\t\t\t\t\t\tnesting: braces.length\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tpostfixIncDec = false;\n\t\t\t\t\t\t\tyield ({\n\t\t\t\t\t\t\t\ttype: \"TemplateHead\",\n\t\t\t\t\t\t\t\tvalue: match[0]\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tpostfixIncDec = true;\n\t\t\t\t\t\t\tyield ({\n\t\t\t\t\t\t\t\ttype: \"NoSubstitutionTemplate\",\n\t\t\t\t\t\t\t\tvalue: match[0],\n\t\t\t\t\t\t\t\tclosed: match[1] === \"`\"\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"JSXTag\":\n\t\t\t\tcase \"JSXTagEnd\":\n\t\t\t\t\tJSXPunctuator.lastIndex = lastIndex;\n\t\t\t\t\tif (match = JSXPunctuator.exec(input)) {\n\t\t\t\t\t\tlastIndex = JSXPunctuator.lastIndex;\n\t\t\t\t\t\tnextLastSignificantToken = match[0];\n\t\t\t\t\t\tswitch (match[0]) {\n\t\t\t\t\t\t\tcase \"<\":\n\t\t\t\t\t\t\t\tstack.push({tag: \"JSXTag\"});\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \">\":\n\t\t\t\t\t\t\t\tstack.pop();\n\t\t\t\t\t\t\t\tif (lastSignificantToken === \"/\" || mode.tag === \"JSXTagEnd\") {\n\t\t\t\t\t\t\t\t\tnextLastSignificantToken = \"?JSX\";\n\t\t\t\t\t\t\t\t\tpostfixIncDec = true;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tstack.push({tag: \"JSXChildren\"});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \"{\":\n\t\t\t\t\t\t\t\tstack.push({\n\t\t\t\t\t\t\t\t\ttag: \"InterpolationInJSX\",\n\t\t\t\t\t\t\t\t\tnesting: braces.length\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tnextLastSignificantToken = \"?InterpolationInJSX\";\n\t\t\t\t\t\t\t\tpostfixIncDec = false;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \"/\":\n\t\t\t\t\t\t\t\tif (lastSignificantToken === \"<\") {\n\t\t\t\t\t\t\t\t\tstack.pop();\n\t\t\t\t\t\t\t\t\tif (stack[stack.length - 1].tag === \"JSXChildren\") {\n\t\t\t\t\t\t\t\t\t\tstack.pop();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tstack.push({tag: \"JSXTagEnd\"});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlastSignificantToken = nextLastSignificantToken;\n\t\t\t\t\t\tyield ({\n\t\t\t\t\t\t\ttype: \"JSXPunctuator\",\n\t\t\t\t\t\t\tvalue: match[0]\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tJSXIdentifier.lastIndex = lastIndex;\n\t\t\t\t\tif (match = JSXIdentifier.exec(input)) {\n\t\t\t\t\t\tlastIndex = JSXIdentifier.lastIndex;\n\t\t\t\t\t\tlastSignificantToken = match[0];\n\t\t\t\t\t\tyield ({\n\t\t\t\t\t\t\ttype: \"JSXIdentifier\",\n\t\t\t\t\t\t\tvalue: match[0]\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tJSXString.lastIndex = lastIndex;\n\t\t\t\t\tif (match = JSXString.exec(input)) {\n\t\t\t\t\t\tlastIndex = JSXString.lastIndex;\n\t\t\t\t\t\tlastSignificantToken = match[0];\n\t\t\t\t\t\tyield ({\n\t\t\t\t\t\t\ttype: \"JSXString\",\n\t\t\t\t\t\t\tvalue: match[0],\n\t\t\t\t\t\t\tclosed: match[2] !== void 0\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"JSXChildren\":\n\t\t\t\t\tJSXText.lastIndex = lastIndex;\n\t\t\t\t\tif (match = JSXText.exec(input)) {\n\t\t\t\t\t\tlastIndex = JSXText.lastIndex;\n\t\t\t\t\t\tlastSignificantToken = match[0];\n\t\t\t\t\t\tyield ({\n\t\t\t\t\t\t\ttype: \"JSXText\",\n\t\t\t\t\t\t\tvalue: match[0]\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tswitch (input[lastIndex]) {\n\t\t\t\t\t\tcase \"<\":\n\t\t\t\t\t\t\tstack.push({tag: \"JSXTag\"});\n\t\t\t\t\t\t\tlastIndex++;\n\t\t\t\t\t\t\tlastSignificantToken = \"<\";\n\t\t\t\t\t\t\tyield ({\n\t\t\t\t\t\t\t\ttype: \"JSXPunctuator\",\n\t\t\t\t\t\t\t\tvalue: \"<\"\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\tcase \"{\":\n\t\t\t\t\t\t\tstack.push({\n\t\t\t\t\t\t\t\ttag: \"InterpolationInJSX\",\n\t\t\t\t\t\t\t\tnesting: braces.length\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tlastIndex++;\n\t\t\t\t\t\t\tlastSignificantToken = \"?InterpolationInJSX\";\n\t\t\t\t\t\t\tpostfixIncDec = false;\n\t\t\t\t\t\t\tyield ({\n\t\t\t\t\t\t\t\ttype: \"JSXPunctuator\",\n\t\t\t\t\t\t\t\tvalue: \"{\"\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t}\n\t\t\tWhiteSpace.lastIndex = lastIndex;\n\t\t\tif (match = WhiteSpace.exec(input)) {\n\t\t\t\tlastIndex = WhiteSpace.lastIndex;\n\t\t\t\tyield ({\n\t\t\t\t\ttype: \"WhiteSpace\",\n\t\t\t\t\tvalue: match[0]\n\t\t\t\t});\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tLineTerminatorSequence.lastIndex = lastIndex;\n\t\t\tif (match = LineTerminatorSequence.exec(input)) {\n\t\t\t\tlastIndex = LineTerminatorSequence.lastIndex;\n\t\t\t\tpostfixIncDec = false;\n\t\t\t\tif (KeywordsWithNoLineTerminatorAfter.test(lastSignificantToken)) {\n\t\t\t\t\tlastSignificantToken = \"?NoLineTerminatorHere\";\n\t\t\t\t}\n\t\t\t\tyield ({\n\t\t\t\t\ttype: \"LineTerminatorSequence\",\n\t\t\t\t\tvalue: match[0]\n\t\t\t\t});\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tMultiLineComment.lastIndex = lastIndex;\n\t\t\tif (match = MultiLineComment.exec(input)) {\n\t\t\t\tlastIndex = MultiLineComment.lastIndex;\n\t\t\t\tif (Newline.test(match[0])) {\n\t\t\t\t\tpostfixIncDec = false;\n\t\t\t\t\tif (KeywordsWithNoLineTerminatorAfter.test(lastSignificantToken)) {\n\t\t\t\t\t\tlastSignificantToken = \"?NoLineTerminatorHere\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tyield ({\n\t\t\t\t\ttype: \"MultiLineComment\",\n\t\t\t\t\tvalue: match[0],\n\t\t\t\t\tclosed: match[1] !== void 0\n\t\t\t\t});\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tSingleLineComment.lastIndex = lastIndex;\n\t\t\tif (match = SingleLineComment.exec(input)) {\n\t\t\t\tlastIndex = SingleLineComment.lastIndex;\n\t\t\t\tpostfixIncDec = false;\n\t\t\t\tyield ({\n\t\t\t\t\ttype: \"SingleLineComment\",\n\t\t\t\t\tvalue: match[0]\n\t\t\t\t});\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tfirstCodePoint = String.fromCodePoint(input.codePointAt(lastIndex));\n\t\t\tlastIndex += firstCodePoint.length;\n\t\t\tlastSignificantToken = firstCodePoint;\n\t\t\tpostfixIncDec = false;\n\t\t\tyield ({\n\t\t\t\ttype: mode.tag.startsWith(\"JSX\") ? \"JSXInvalid\" : \"Invalid\",\n\t\t\t\tvalue: firstCodePoint\n\t\t\t});\n\t\t}\n\t\treturn void 0;\n\t};\n\treturn jsTokens_1;\n}\n\nvar jsTokensExports = requireJsTokens();\nvar jsTokens = /*@__PURE__*/getDefaultExportFromCjs(jsTokensExports);\n\nfunction stripLiteralJsTokens(code, options) {\n  const FILL = \" \";\n  const FILL_COMMENT = \" \";\n  let result = \"\";\n  const tokens = [];\n  for (const token of jsTokens(code, { jsx: false })) {\n    tokens.push(token);\n    if (token.type === \"SingleLineComment\") {\n      result += FILL_COMMENT.repeat(token.value.length);\n      continue;\n    }\n    if (token.type === \"MultiLineComment\") {\n      result += token.value.replace(/[^\\n]/g, FILL_COMMENT);\n      continue;\n    }\n    if (token.type === \"StringLiteral\") {\n      if (!token.closed) {\n        result += token.value;\n        continue;\n      }\n      const body = token.value.slice(1, -1);\n      {\n        result += token.value[0] + FILL.repeat(body.length) + token.value[token.value.length - 1];\n        continue;\n      }\n    }\n    if (token.type === \"NoSubstitutionTemplate\") {\n      const body = token.value.slice(1, -1);\n      {\n        result += `\\`${body.replace(/[^\\n]/g, FILL)}\\``;\n        continue;\n      }\n    }\n    if (token.type === \"RegularExpressionLiteral\") {\n      const body = token.value;\n      {\n        result += body.replace(/\\/(.*)\\/(\\w?)$/g, (_, $1, $2) => `/${FILL.repeat($1.length)}/${$2}`);\n        continue;\n      }\n    }\n    if (token.type === \"TemplateHead\") {\n      const body = token.value.slice(1, -2);\n      {\n        result += `\\`${body.replace(/[^\\n]/g, FILL)}\\${`;\n        continue;\n      }\n    }\n    if (token.type === \"TemplateTail\") {\n      const body = token.value.slice(0, -2);\n      {\n        result += `}${body.replace(/[^\\n]/g, FILL)}\\``;\n        continue;\n      }\n    }\n    if (token.type === \"TemplateMiddle\") {\n      const body = token.value.slice(1, -2);\n      {\n        result += `}${body.replace(/[^\\n]/g, FILL)}\\${`;\n        continue;\n      }\n    }\n    result += token.value;\n  }\n  return {\n    result,\n    tokens\n  };\n}\n\nfunction stripLiteral(code, options) {\n  return stripLiteralDetailed(code).result;\n}\nfunction stripLiteralDetailed(code, options) {\n  return stripLiteralJsTokens(code);\n}\n\n// so people can reassign envs at runtime\n// import.meta.env.VITE_NAME = 'app' -> process.env.VITE_NAME = 'app'\nfunction MetaEnvReplacerPlugin() {\n\treturn {\n\t\tname: \"vitest:meta-env-replacer\",\n\t\tenforce: \"pre\",\n\t\ttransform(code, id) {\n\t\t\tif (!/\\bimport\\.meta\\.env\\b/.test(code)) return null;\n\t\t\tlet s = null;\n\t\t\tconst envs = stripLiteral(code).matchAll(/\\bimport\\.meta\\.env\\b/g);\n\t\t\tfor (const env of envs) {\n\t\t\t\ts ||= new MagicString(code);\n\t\t\t\tconst startIndex = env.index, endIndex = startIndex + env[0].length;\n\t\t\t\ts.overwrite(startIndex, endIndex, `Object.assign(/* istanbul ignore next */ globalThis.__vitest_worker__?.metaEnv ?? import.meta.env)`);\n\t\t\t}\n\t\t\tif (s) return {\n\t\t\t\tcode: s.toString(),\n\t\t\t\tmap: s.generateMap({\n\t\t\t\t\thires: \"boundary\",\n\t\t\t\t\tsource: cleanUrl(id)\n\t\t\t\t})\n\t\t\t};\n\t\t}\n\t};\n}\n\nfunction MocksPlugins(options = {}) {\n\tconst normalizedDistDir = normalize(distDir);\n\treturn [hoistMocksPlugin({\n\t\tfilter(id) {\n\t\t\treturn id.includes(normalizedDistDir) ? false : options.filter ? options.filter(id) : true;\n\t\t},\n\t\tcodeFrameGenerator(node, id, code) {\n\t\t\treturn generateCodeFrame(code, 4, node.start + 1);\n\t\t}\n\t}), automockPlugin()];\n}\n\nfunction generateCssFilenameHash(filepath) {\n\treturn hash(\"sha1\", filepath, \"hex\").slice(0, 6);\n}\nfunction generateScopedClassName(strategy, name, filename) {\n\t// should be configured by Vite defaults\n\tif (strategy === \"scoped\") return null;\n\tif (strategy === \"non-scoped\") return name;\n\tconst hash = generateCssFilenameHash(filename);\n\treturn `_${name}_${hash}`;\n}\n\nconst LogLevels = {\n\tsilent: 0,\n\terror: 1,\n\twarn: 2,\n\tinfo: 3\n};\nfunction clearScreen(logger) {\n\tconst repeatCount = process.stdout.rows - 2, blank = repeatCount > 0 ? \"\\n\".repeat(repeatCount) : \"\";\n\tlogger.clearScreen(blank);\n}\nlet lastType, lastMsg, sameCount = 0, timeFormatter;\nfunction getTimeFormatter() {\n\treturn timeFormatter ??= new Intl.DateTimeFormat(void 0, {\n\t\thour: \"numeric\",\n\t\tminute: \"numeric\",\n\t\tsecond: \"numeric\"\n\t}), timeFormatter;\n}\n// This is copy-pasted and needs to be synced from time to time. Ideally, Vite's `createLogger` should accept a custom `console`\n// https://github.com/vitejs/vite/blob/main/packages/vite/src/node/logger.ts?rgh-link-date=2024-10-16T23%3A29%3A19Z\n// When Vitest supports only Vite 6 and above, we can use Vite's `createLogger({ console })`\n// https://github.com/vitejs/vite/pull/18379\nfunction createViteLogger(console, level = \"info\", options = {}) {\n\tconst loggedErrors = /* @__PURE__ */ new WeakSet(), { prefix = \"[vite]\", allowClearScreen = true } = options, thresh = LogLevels[level], canClearScreen = allowClearScreen && process.stdout.isTTY && !process.env.CI, clear = canClearScreen ? clearScreen : () => {};\n\tfunction format(type, msg, options = {}) {\n\t\tif (options.timestamp) {\n\t\t\tlet tag = \"\";\n\t\t\tif (type === \"info\") tag = c.cyan(c.bold(prefix));\n\t\t\telse if (type === \"warn\") tag = c.yellow(c.bold(prefix));\n\t\t\telse tag = c.red(c.bold(prefix));\n\t\t\tconst environment = options.environment ? `${options.environment} ` : \"\";\n\t\t\treturn `${c.dim(getTimeFormatter().format(/* @__PURE__ */ new Date()))} ${tag} ${environment}${msg}`;\n\t\t} else return msg;\n\t}\n\tfunction output(type, msg, options = {}) {\n\t\tif (thresh >= LogLevels[type]) {\n\t\t\tconst method = type === \"info\" ? \"log\" : type;\n\t\t\tif (options.error) loggedErrors.add(options.error);\n\t\t\tif (canClearScreen) if (type === lastType && msg === lastMsg) sameCount++, clear(console), console[method](format(type, msg, options), c.yellow(`(x${sameCount + 1})`));\n\t\t\telse {\n\t\t\t\tif (sameCount = 0, lastMsg = msg, lastType = type, options.clear) clear(console);\n\t\t\t\tconsole[method](format(type, msg, options));\n\t\t\t}\n\t\t\telse console[method](format(type, msg, options));\n\t\t}\n\t}\n\tconst warnedMessages = /* @__PURE__ */ new Set(), logger = {\n\t\thasWarned: false,\n\t\tinfo(msg, opts) {\n\t\t\toutput(\"info\", msg, opts);\n\t\t},\n\t\twarn(msg, opts) {\n\t\t\tlogger.hasWarned = true, output(\"warn\", msg, opts);\n\t\t},\n\t\twarnOnce(msg, opts) {\n\t\t\twarnedMessages.has(msg) || (logger.hasWarned = true, output(\"warn\", msg, opts), warnedMessages.add(msg));\n\t\t},\n\t\terror(msg, opts) {\n\t\t\tlogger.hasWarned = true, output(\"error\", msg, opts);\n\t\t},\n\t\tclearScreen(type) {\n\t\t\tif (thresh >= LogLevels[type]) clear(console);\n\t\t},\n\t\thasErrorLogged(error) {\n\t\t\treturn loggedErrors.has(error);\n\t\t}\n\t};\n\treturn logger;\n}\n// silence warning by Vite for statically not analyzable dynamic import\nfunction silenceImportViteIgnoreWarning(logger) {\n\treturn {\n\t\t...logger,\n\t\twarn(msg, options) {\n\t\t\tmsg.includes(\"The above dynamic import cannot be analyzed by Vite\") || logger.warn(msg, options);\n\t\t}\n\t};\n}\n\nconst cssLangs = \"\\\\.(?:css|less|sass|scss|styl|stylus|pcss|postcss)(?:$|\\\\?)\", cssLangRE = new RegExp(cssLangs), cssModuleRE = /* @__PURE__ */ new RegExp(`\\\\.module${cssLangs}`), cssInlineRE = /[?&]inline(?:&|$)/;\nfunction isCSS(id) {\n\treturn cssLangRE.test(id);\n}\nfunction isCSSModule(id) {\n\treturn cssModuleRE.test(id);\n}\n// inline css requests are expected to just return the\n// string content directly and not the proxy module\nfunction isInline(id) {\n\treturn cssInlineRE.test(id);\n}\nfunction getCSSModuleProxyReturn(strategy, filename) {\n\treturn strategy === \"non-scoped\" ? \"style\" : `\\`_\\${style}_${generateCssFilenameHash(filename)}\\``;\n}\nfunction CSSEnablerPlugin(ctx) {\n\tconst shouldProcessCSS = (id) => {\n\t\tconst { css } = ctx.config;\n\t\treturn typeof css === \"boolean\" ? css : toArray(css.exclude).some((re) => re.test(id)) ? false : !!toArray(css.include).some((re) => re.test(id));\n\t};\n\treturn [{\n\t\tname: \"vitest:css-disable\",\n\t\tenforce: \"pre\",\n\t\ttransform(code, id) {\n\t\t\tif (isCSS(id) && !shouldProcessCSS(id)) return { code: \"\" };\n\t\t}\n\t}, {\n\t\tname: \"vitest:css-empty-post\",\n\t\tenforce: \"post\",\n\t\ttransform(_, id) {\n\t\t\tif (!(!isCSS(id) || shouldProcessCSS(id))) {\n\t\t\t\tif (isCSSModule(id) && !isInline(id)) {\n\t\t\t\t\t// return proxy for css modules, so that imported module has names:\n\t\t\t\t\t// styles.foo returns a \"foo\" instead of \"undefined\"\n\t\t\t\t\t// we don't use code content to generate hash for \"scoped\", because it's empty\n\t\t\t\t\tconst scopeStrategy = typeof ctx.config.css !== \"boolean\" && ctx.config.css.modules?.classNameStrategy || \"stable\";\n\t\t\t\t\treturn { code: `export default new Proxy(Object.create(null), {\n            get(_, style) {\n              return ${getCSSModuleProxyReturn(scopeStrategy, relative(ctx.config.root, id))};\n            },\n          })` };\n\t\t\t\t}\n\t\t\t\treturn { code: \"export default \\\"\\\"\" };\n\t\t\t}\n\t\t}\n\t}];\n}\n\nconst metaUrlLength = 15, locationString = \"self.location\".padEnd(metaUrlLength, \" \");\n// Vite transforms new URL('./path', import.meta.url) to new URL('/path.js', import.meta.url)\n// This makes \"href\" equal to \"http://localhost:3000/path.js\" in the browser, but if we keep it like this,\n// then in tests the URL will become \"file:///path.js\".\n// To battle this, we replace \"import.meta.url\" with \"self.location\" in the code to keep the browser behavior.\nfunction NormalizeURLPlugin() {\n\treturn {\n\t\tname: \"vitest:normalize-url\",\n\t\tenforce: \"post\",\n\t\ttransform(code) {\n\t\t\tif (this.environment.name !== \"client\" || !code.includes(\"new URL\") || !code.includes(\"import.meta.url\")) return;\n\t\t\tconst cleanString = stripLiteral(code), assetImportMetaUrlRE = /\\bnew\\s+URL\\s*\\(\\s*(?:'[^']+'|\"[^\"]+\"|`[^`]+`)\\s*,\\s*(?:'' \\+ )?import\\.meta\\.url\\s*(?:,\\s*)?\\)/g;\n\t\t\tlet updatedCode = code, match;\n\t\t\t// eslint-disable-next-line no-cond-assign\n\t\t\twhile (match = assetImportMetaUrlRE.exec(cleanString)) {\n\t\t\t\tconst { 0: exp, index } = match, metaUrlIndex = index + exp.indexOf(\"import.meta.url\");\n\t\t\t\tupdatedCode = updatedCode.slice(0, metaUrlIndex) + locationString + updatedCode.slice(metaUrlIndex + metaUrlLength);\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tcode: updatedCode,\n\t\t\t\tmap: null\n\t\t\t};\n\t\t}\n\t};\n}\n\nfunction VitestOptimizer() {\n\treturn {\n\t\tname: \"vitest:normalize-optimizer\",\n\t\tconfig: {\n\t\t\torder: \"post\",\n\t\t\thandler(viteConfig) {\n\t\t\t\tconst testConfig = viteConfig.test || {}, root = resolve(viteConfig.root || process.cwd()), name = viteConfig.test?.name, label = typeof name === \"string\" ? name : name?.label || \"\";\n\t\t\t\tviteConfig.cacheDir = VitestCache.resolveCacheDir(resolve(root || process.cwd()), testConfig.cache != null && testConfig.cache !== false ? testConfig.cache.dir : viteConfig.cacheDir, label);\n\t\t\t}\n\t\t}\n\t};\n}\n\nfunction resolveOptimizerConfig(_testOptions, viteOptions) {\n\tconst testOptions = _testOptions || {};\n\tlet optimizeDeps;\n\tif (testOptions.enabled !== true) testOptions.enabled ??= false, optimizeDeps = {\n\t\tdisabled: true,\n\t\tentries: []\n\t};\n\telse {\n\t\tconst currentInclude = testOptions.include || viteOptions?.include || [], exclude = [\n\t\t\t\"vitest\",\n\t\t\t\"react\",\n\t\t\t\"vue\",\n\t\t\t...testOptions.exclude || viteOptions?.exclude || []\n\t\t], runtime = currentInclude.filter((n) => n.endsWith(\"jsx-dev-runtime\") || n.endsWith(\"jsx-runtime\"));\n\t\texclude.push(...runtime);\n\t\tconst include = (testOptions.include || viteOptions?.include || []).filter((n) => !exclude.includes(n));\n\t\toptimizeDeps = {\n\t\t\t...viteOptions,\n\t\t\t...testOptions,\n\t\t\tnoDiscovery: true,\n\t\t\tdisabled: false,\n\t\t\tentries: [],\n\t\t\texclude,\n\t\t\tinclude\n\t\t};\n\t}\n\t// `optimizeDeps.disabled` is deprecated since v5.1.0-beta.1\n\t// https://github.com/vitejs/vite/pull/15184\n\tif (optimizeDeps.disabled) optimizeDeps.noDiscovery = true, optimizeDeps.include = [];\n\treturn delete optimizeDeps.disabled, optimizeDeps;\n}\nfunction deleteDefineConfig(viteConfig) {\n\tconst defines = {};\n\tif (viteConfig.define) delete viteConfig.define[\"import.meta.vitest\"], delete viteConfig.define[\"process.env\"], delete viteConfig.define.process, delete viteConfig.define.global;\n\tfor (const key in viteConfig.define) {\n\t\tconst val = viteConfig.define[key];\n\t\tlet replacement;\n\t\ttry {\n\t\t\treplacement = typeof val === \"string\" ? JSON.parse(val) : val;\n\t\t} catch {\n\t\t\t// probably means it contains reference to some variable,\n\t\t\t// like this: \"__VAR__\": \"process.env.VAR\"\n\t\t\tcontinue;\n\t\t}\n\t\tif (key.startsWith(\"import.meta.env.\")) {\n\t\t\tconst envKey = key.slice(16);\n\t\t\tprocess.env[envKey] = replacement, delete viteConfig.define[key];\n\t\t} else if (key.startsWith(\"process.env.\")) {\n\t\t\tconst envKey = key.slice(12);\n\t\t\tprocess.env[envKey] = replacement, delete viteConfig.define[key];\n\t\t} else if (!key.includes(\".\")) defines[key] = replacement, delete viteConfig.define[key];\n\t}\n\treturn defines;\n}\nfunction resolveFsAllow(projectRoot, rootConfigFile) {\n\treturn rootConfigFile ? [\n\t\tdirname(rootConfigFile),\n\t\tsearchForWorkspaceRoot(projectRoot),\n\t\trootDir\n\t] : [searchForWorkspaceRoot(projectRoot), rootDir];\n}\nfunction getDefaultResolveOptions() {\n\treturn {\n\t\tmainFields: [],\n\t\tconditions: getDefaultServerConditions()\n\t};\n}\nfunction getDefaultServerConditions() {\n\treturn Number(version.split(\".\")[0]) >= 6 ? vite.defaultServerConditions.filter((c) => c !== \"module\") : [\"node\"];\n}\n\nfunction ModuleRunnerTransform() {\n\t// make sure Vite always applies the module runner transform\n\treturn {\n\t\tname: \"vitest:environments-module-runner\",\n\t\tconfig: {\n\t\t\torder: \"post\",\n\t\t\thandler(config) {\n\t\t\t\tconst testConfig = config.test || {};\n\t\t\t\tconfig.environments ??= {};\n\t\t\t\tconst names = new Set(Object.keys(config.environments));\n\t\t\t\tnames.add(\"client\"), names.add(\"ssr\");\n\t\t\t\tconst pool = config.test?.pool;\n\t\t\t\tif (pool === \"vmForks\" || pool === \"vmThreads\") names.add(\"__vitest_vm__\");\n\t\t\t\tlet moduleDirectories = testConfig.deps?.moduleDirectories || [];\n\t\t\t\tconst envModuleDirectories = process.env.VITEST_MODULE_DIRECTORIES || process.env.npm_config_VITEST_MODULE_DIRECTORIES;\n\t\t\t\tif (envModuleDirectories) moduleDirectories.push(...envModuleDirectories.split(\",\"));\n\t\t\t\tif (moduleDirectories = moduleDirectories.map((dir) => {\n\t\t\t\t\tif (dir[0] !== \"/\") dir = `/${dir}`;\n\t\t\t\t\tif (!dir.endsWith(\"/\")) dir += \"/\";\n\t\t\t\t\treturn normalize(dir);\n\t\t\t\t}), !moduleDirectories.includes(\"/node_modules/\")) moduleDirectories.push(\"/node_modules/\");\n\t\t\t\ttestConfig.deps ??= {}, testConfig.deps.moduleDirectories = moduleDirectories;\n\t\t\t\tconst external = [], noExternal = [];\n\t\t\t\tlet noExternalAll;\n\t\t\t\tfor (const name of names) {\n\t\t\t\t\tconfig.environments[name] ??= {};\n\t\t\t\t\tconst environment = config.environments[name];\n\t\t\t\t\t// vm tests run using the native import mechanism\n\t\t\t\t\tif (environment.dev ??= {}, name === \"__vitest_vm__\") environment.dev.moduleRunnerTransform = false, environment.consumer = \"client\";\n\t\t\t\t\telse environment.dev.moduleRunnerTransform = true;\n\t\t\t\t\tenvironment.dev.preTransformRequests = false, environment.keepProcessEnv = true;\n\t\t\t\t\tconst resolveExternal = name === \"client\" ? config.resolve?.external : [], resolveNoExternal = name === \"client\" ? config.resolve?.noExternal : [], topLevelResolveOptions = {};\n\t\t\t\t\tif (resolveExternal != null) topLevelResolveOptions.external = resolveExternal;\n\t\t\t\t\tif (resolveNoExternal != null) topLevelResolveOptions.noExternal = resolveNoExternal;\n\t\t\t\t\tconst currentResolveOptions = mergeConfig(topLevelResolveOptions, environment.resolve || {}), envNoExternal = resolveViteResolveOptions(\"noExternal\", currentResolveOptions, moduleDirectories);\n\t\t\t\t\tif (envNoExternal === true) noExternalAll = true;\n\t\t\t\t\telse if (envNoExternal.length) noExternal.push(...envNoExternal);\n\t\t\t\t\telse if (name === \"client\" || name === \"ssr\") {\n\t\t\t\t\t\tconst deprecatedNoExternal = resolveDeprecatedOptions(name === \"client\" ? config.resolve?.noExternal : config.ssr?.noExternal, moduleDirectories);\n\t\t\t\t\t\tif (deprecatedNoExternal === true) noExternalAll = true;\n\t\t\t\t\t\telse noExternal.push(...deprecatedNoExternal);\n\t\t\t\t\t}\n\t\t\t\t\tconst envExternal = resolveViteResolveOptions(\"external\", currentResolveOptions, moduleDirectories);\n\t\t\t\t\tif (envExternal !== true && envExternal.length) external.push(...envExternal);\n\t\t\t\t\telse if (name === \"client\" || name === \"ssr\") {\n\t\t\t\t\t\tconst deprecatedExternal = resolveDeprecatedOptions(name === \"client\" ? config.resolve?.external : config.ssr?.external, moduleDirectories);\n\t\t\t\t\t\tif (deprecatedExternal !== true) external.push(...deprecatedExternal);\n\t\t\t\t\t}\n\t\t\t\t\tif (environment.resolve ??= {}, environment.resolve.external = [...builtinModules, ...builtinModules.map((m) => `node:${m}`)], environment.resolve.noExternal = true, name === \"__vitest_vm__\" || name === \"__vitest__\") continue;\n\t\t\t\t\tconst currentOptimizeDeps = environment.optimizeDeps || (name === \"client\" ? config.optimizeDeps : name === \"ssr\" ? config.ssr?.optimizeDeps : void 0), optimizeDeps = resolveOptimizerConfig(testConfig.deps?.optimizer?.[name], currentOptimizeDeps);\n\t\t\t\t\t// Vite respects the root level optimize deps, so we override it instead\n\t\t\t\t\tif (name === \"client\") config.optimizeDeps = optimizeDeps, environment.optimizeDeps = void 0;\n\t\t\t\t\telse if (name === \"ssr\") config.ssr ??= {}, config.ssr.optimizeDeps = optimizeDeps, environment.optimizeDeps = void 0;\n\t\t\t\t\telse environment.optimizeDeps = optimizeDeps;\n\t\t\t\t}\n\t\t\t\tif (testConfig.server ??= {}, testConfig.server.deps ??= {}, testConfig.server.deps.inline !== true) {\n\t\t\t\t\tif (noExternalAll) testConfig.server.deps.inline = true;\n\t\t\t\t\telse if (noExternal.length) testConfig.server.deps.inline ??= [], testConfig.server.deps.inline.push(...noExternal);\n\t\t\t\t}\n\t\t\t\tif (external.length) testConfig.server.deps.external ??= [], testConfig.server.deps.external.push(...external);\n\t\t\t}\n\t\t}\n\t};\n}\nfunction resolveViteResolveOptions(key, options, moduleDirectories) {\n\treturn Array.isArray(options[key]) ? options[key].some((p) => p === true) ? true : options[key].map((dep) => processWildcard(dep, moduleDirectories)) : typeof options[key] === \"string\" || options[key] instanceof RegExp ? [options[key]].map((dep) => processWildcard(dep, moduleDirectories)) : typeof options[key] === \"boolean\" ? true : [];\n}\nfunction resolveDeprecatedOptions(options, moduleDirectories) {\n\treturn options === true ? true : Array.isArray(options) ? options.map((dep) => processWildcard(dep, moduleDirectories)) : options == null ? [] : [processWildcard(options, moduleDirectories)];\n}\nfunction processWildcard(dep, moduleDirectories) {\n\tif (typeof dep !== \"string\") return dep;\n\tif (typeof dep === \"string\" && dep.includes(\"*\")) {\n\t\tconst directories = (moduleDirectories || [\"/node_modules/\"]).map((r) => escapeRegExp(r));\n\t\treturn /* @__PURE__ */ new RegExp(`(${directories.join(\"|\")})${dep.replace(/\\*/g, \"[\\\\w/]+\")}`);\n\t}\n\treturn dep;\n}\n\nfunction VitestProjectResolver(ctx) {\n\tconst plugin = {\n\t\tname: \"vitest:resolve-root\",\n\t\tenforce: \"pre\",\n\t\tconfig: {\n\t\t\torder: \"post\",\n\t\t\thandler() {\n\t\t\t\treturn { base: \"/\" };\n\t\t\t}\n\t\t},\n\t\tasync resolveId(id, _, { ssr }) {\n\t\t\tif (id === \"vitest\" || id.startsWith(\"@vitest/\") || id.startsWith(\"vitest/\")) return await ctx.vite.pluginContainer.resolveId(id, void 0, {\n\t\t\t\tskip: new Set([plugin]),\n\t\t\t\tssr\n\t\t\t});\n\t\t}\n\t};\n\treturn plugin;\n}\nfunction VitestCoreResolver(ctx) {\n\treturn {\n\t\tname: \"vitest:resolve-core\",\n\t\tenforce: \"pre\",\n\t\tconfig: {\n\t\t\torder: \"post\",\n\t\t\thandler() {\n\t\t\t\treturn { base: \"/\" };\n\t\t\t}\n\t\t},\n\t\tasync resolveId(id) {\n\t\t\tif (id === \"vitest\") return resolve(distDir, \"index.js\");\n\t\t\tif (id.startsWith(\"@vitest/\") || id.startsWith(\"vitest/\"))\n // ignore actual importer, we want it to be resolved relative to the root\n\t\t\treturn this.resolve(id, join(ctx.config.root, \"index.html\"), { skipSelf: true });\n\t\t}\n\t};\n}\n\nfunction WorkspaceVitestPlugin(project, options) {\n\treturn [\n\t\t{\n\t\t\tname: \"vitest:project:name\",\n\t\t\tenforce: \"post\",\n\t\t\tconfig(viteConfig) {\n\t\t\t\tconst testConfig = viteConfig.test || {};\n\t\t\t\tlet { label: name, color } = typeof testConfig.name === \"string\" ? { label: testConfig.name } : {\n\t\t\t\t\tlabel: \"\",\n\t\t\t\t\t...testConfig.name\n\t\t\t\t};\n\t\t\t\tif (!name) if (typeof options.workspacePath === \"string\") {\n\t\t\t\t\t// if there is a package.json, read the name from it\n\t\t\t\t\tconst dir = options.workspacePath.endsWith(\"/\") ? options.workspacePath.slice(0, -1) : dirname(options.workspacePath), pkgJsonPath = resolve(dir, \"package.json\");\n\t\t\t\t\tif (existsSync(pkgJsonPath)) name = JSON.parse(readFileSync(pkgJsonPath, \"utf-8\")).name;\n\t\t\t\t\tif (typeof name !== \"string\" || !name) name = basename(dir);\n\t\t\t\t} else name = options.workspacePath.toString();\n\t\t\t\tconst isBrowserEnabled = viteConfig.test?.browser?.enabled ?? (viteConfig.test?.browser && project.vitest._cliOptions.browser?.enabled), workspaceNames = [name], browser = viteConfig.test.browser || {};\n\t\t\t\tif (isBrowserEnabled && browser.name && !browser.instances?.length)\n // vitest injects `instances` in this case later on\n\t\t\t\tworkspaceNames.push(name ? `${name} (${browser.name})` : browser.name);\n\t\t\t\t// if there is `--project=...` filter, check if any of the potential projects match\n\t\t\t\t// if projects don't match, we ignore the test project altogether\n\t\t\t\t// if some of them match, they will later be filtered again by `resolveWorkspace`\n\t\t\t\tif (viteConfig.test?.browser?.instances?.forEach((instance) => {\n\t\t\t\t\tif (instance.name ??= name ? `${name} (${instance.browser})` : instance.browser, isBrowserEnabled) workspaceNames.push(instance.name);\n\t\t\t\t}), project.vitest.config.project.length) {\n\t\t\t\t\tif (!workspaceNames.some((name) => {\n\t\t\t\t\t\treturn project.vitest.matchesProjectFilter(name);\n\t\t\t\t\t})) throw new VitestFilteredOutProjectError();\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\tbase: \"/\",\n\t\t\t\t\tenvironments: { __vitest__: { dev: {} } },\n\t\t\t\t\ttest: { name: {\n\t\t\t\t\t\tlabel: name,\n\t\t\t\t\t\tcolor\n\t\t\t\t\t} }\n\t\t\t\t};\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tname: \"vitest:project\",\n\t\t\tenforce: \"pre\",\n\t\t\toptions() {\n\t\t\t\tthis.meta.watchMode = false;\n\t\t\t},\n\t\t\tconfig(viteConfig) {\n\t\t\t\tconst defines = deleteDefineConfig(viteConfig), testConfig = viteConfig.test || {}, root = testConfig.root || viteConfig.root || options.root, resolveOptions = getDefaultResolveOptions();\n\t\t\t\tlet config = {\n\t\t\t\t\troot,\n\t\t\t\t\tdefine: { \"process.env.NODE_ENV\": \"process.env.NODE_ENV\" },\n\t\t\t\t\tresolve: {\n\t\t\t\t\t\t...resolveOptions,\n\t\t\t\t\t\talias: testConfig.alias\n\t\t\t\t\t},\n\t\t\t\t\tserver: {\n\t\t\t\t\t\twatch: null,\n\t\t\t\t\t\topen: false,\n\t\t\t\t\t\thmr: false,\n\t\t\t\t\t\tws: false,\n\t\t\t\t\t\tpreTransformRequests: false,\n\t\t\t\t\t\tmiddlewareMode: true,\n\t\t\t\t\t\tfs: { allow: resolveFsAllow(project.vitest.config.root, project.vitest.vite.config.configFile) }\n\t\t\t\t\t},\n\t\t\t\t\tenvironments: { ssr: { resolve: resolveOptions } },\n\t\t\t\t\ttest: {}\n\t\t\t\t};\n\t\t\t\tif (\"rolldownVersion\" in vite) config = {\n\t\t\t\t\t...config,\n\t\t\t\t\toxc: viteConfig.oxc === false ? false : { target: viteConfig.oxc?.target || \"node18\" }\n\t\t\t\t};\n\t\t\t\telse config = {\n\t\t\t\t\t...config,\n\t\t\t\t\tesbuild: viteConfig.esbuild === false ? false : {\n\t\t\t\t\t\ttarget: viteConfig.esbuild?.target || \"node18\",\n\t\t\t\t\t\tsourcemap: \"external\",\n\t\t\t\t\t\tlegalComments: \"inline\"\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tconfig.test.defines = defines;\n\t\t\t\tconst classNameStrategy = typeof testConfig.css !== \"boolean\" && testConfig.css?.modules?.classNameStrategy || \"stable\";\n\t\t\t\tif (classNameStrategy !== \"scoped\") {\n\t\t\t\t\tif (config.css ??= {}, config.css.modules ??= {}, config.css.modules) config.css.modules.generateScopedName = (name, filename) => {\n\t\t\t\t\t\tconst root = project.config.root;\n\t\t\t\t\t\treturn generateScopedClassName(classNameStrategy, name, relative(root, filename));\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\treturn config.customLogger = createViteLogger(project.vitest.logger, viteConfig.logLevel || \"warn\", { allowClearScreen: false }), config.customLogger = silenceImportViteIgnoreWarning(config.customLogger), config;\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tname: \"vitest:project:server\",\n\t\t\tenforce: \"post\",\n\t\t\tasync configureServer(server) {\n\t\t\t\tconst options = deepMerge({}, configDefaults, server.config.test || {});\n\t\t\t\tawait project._configureServer(options, server), await server.watcher.close();\n\t\t\t}\n\t\t},\n\t\tMetaEnvReplacerPlugin(),\n\t\t...CSSEnablerPlugin(project),\n\t\tCoverageTransform(project.vitest),\n\t\t...MocksPlugins(),\n\t\tVitestProjectResolver(project.vitest),\n\t\tVitestOptimizer(),\n\t\tNormalizeURLPlugin(),\n\t\tModuleRunnerTransform()\n\t];\n}\n\nclass VitestResolver {\n\toptions;\n\texternalizeCache = /* @__PURE__ */ new Map();\n\tconstructor(cacheDir, config) {\n\t\tthis.options = {\n\t\t\tmoduleDirectories: config.deps.moduleDirectories,\n\t\t\tinlineFiles: config.setupFiles.flatMap((file) => {\n\t\t\t\tif (file.startsWith(\"file://\")) return file;\n\t\t\t\tconst resolvedId = resolve(file);\n\t\t\t\treturn [resolvedId, pathToFileURL(resolvedId).href];\n\t\t\t}),\n\t\t\tcacheDir,\n\t\t\tinline: config.server.deps?.inline,\n\t\t\texternal: config.server.deps?.external\n\t\t};\n\t}\n\tshouldExternalize(file) {\n\t\treturn shouldExternalize(normalizeId(file), this.options, this.externalizeCache);\n\t}\n}\nfunction normalizeId(id) {\n\tif (id.startsWith(\"/@fs/\")) id = id.slice(isWindows ? 5 : 4);\n\treturn id;\n}\nconst BUILTIN_EXTENSIONS = new Set([\n\t\".mjs\",\n\t\".cjs\",\n\t\".node\",\n\t\".wasm\"\n]), ESM_EXT_RE = /\\.(es|esm|esm-browser|esm-bundler|es6|module)\\.js$/, ESM_FOLDER_RE = /\\/(es|esm)\\/(.*\\.js)$/, defaultInline = [\n\t/virtual:/,\n\t/\\.[mc]?ts$/,\n\t/[?&](init|raw|url|inline)\\b/,\n\tKNOWN_ASSET_RE,\n\t/^(?!.*node_modules).*\\.mjs$/,\n\t/^(?!.*node_modules).*\\.cjs\\.js$/,\n\t/vite\\w*\\/dist\\/client\\/env.mjs/\n], depsExternal = [/\\/node_modules\\/.*\\.cjs\\.js$/, /\\/node_modules\\/.*\\.mjs$/];\nfunction guessCJSversion(id) {\n\tif (id.match(ESM_EXT_RE)) {\n\t\tfor (const i of [\n\t\t\tid.replace(ESM_EXT_RE, \".mjs\"),\n\t\t\tid.replace(ESM_EXT_RE, \".umd.js\"),\n\t\t\tid.replace(ESM_EXT_RE, \".cjs.js\"),\n\t\t\tid.replace(ESM_EXT_RE, \".js\")\n\t\t]) if (existsSync(i)) return i;\n\t}\n\tif (id.match(ESM_FOLDER_RE)) {\n\t\tfor (const i of [\n\t\t\tid.replace(ESM_FOLDER_RE, \"/umd/$1\"),\n\t\t\tid.replace(ESM_FOLDER_RE, \"/cjs/$1\"),\n\t\t\tid.replace(ESM_FOLDER_RE, \"/lib/$1\"),\n\t\t\tid.replace(ESM_FOLDER_RE, \"/$1\")\n\t\t]) if (existsSync(i)) return i;\n\t}\n}\n// The code from https://github.com/unjs/mlly/blob/c5bcca0cda175921344fd6de1bc0c499e73e5dac/src/syntax.ts#L51-L98\nasync function isValidNodeImport(id) {\n\tconst extension = extname(id);\n\tif (BUILTIN_EXTENSIONS.has(extension)) return true;\n\tif (extension !== \".js\") return false;\n\tif (id = id.replace(\"file:///\", \"\"), findNearestPackageData(dirname(id)).type === \"module\") return true;\n\tif (/\\.(?:\\w+-)?esm?(?:-\\w+)?\\.js$|\\/esm?\\//.test(id)) return false;\n\ttry {\n\t\tawait esModuleLexer.init;\n\t\tconst code = await promises$1.readFile(id, \"utf8\"), [, , , hasModuleSyntax] = esModuleLexer.parse(code);\n\t\treturn !hasModuleSyntax;\n\t} catch {\n\t\treturn false;\n\t}\n}\nasync function shouldExternalize(id, options, cache) {\n\tif (!cache.has(id)) cache.set(id, _shouldExternalize(id, options));\n\treturn cache.get(id);\n}\nasync function _shouldExternalize(id, options) {\n\t// data: should be processed by native import,\n\t// since it is a feature of ESM.\n\t// also externalize network imports since nodejs allows it when --experimental-network-imports\n\tif (isBuiltin(id) || id.startsWith(\"data:\") || /^(?:https?:)?\\/\\//.test(id)) return id;\n\tconst moduleDirectories = options?.moduleDirectories || [\"/node_modules/\"];\n\tif (matchPattern(id, moduleDirectories, options?.inline) || options?.inlineFiles && options?.inlineFiles.includes(id)) return false;\n\t// Unless the user explicitly opted to inline them, externalize Vite deps.\n\t// They are too big to inline by default.\n\tif (matchPattern(id, moduleDirectories, options?.external) || options?.cacheDir && id.includes(options.cacheDir)) return id;\n\tconst isLibraryModule = moduleDirectories.some((dir) => id.includes(dir));\n\treturn id = isLibraryModule && options?.fallbackCJS ? guessCJSversion(id) || id : id, matchPattern(id, moduleDirectories, defaultInline) ? false : matchPattern(id, moduleDirectories, depsExternal) || isLibraryModule && await isValidNodeImport(id) ? id : false;\n}\nfunction matchPattern(id, moduleDirectories, patterns) {\n\tif (patterns == null) return false;\n\tif (patterns === true) return true;\n\tfor (const ex of patterns) if (typeof ex === \"string\") {\n\t\tif (moduleDirectories.some((dir) => id.includes(join(dir, ex)))) return true;\n\t} else if (ex.test(id)) return true;\n\treturn false;\n}\n\nclass TestSpecification {\n\t/**\n\t* The task ID associated with the test module.\n\t*/\n\ttaskId;\n\t/**\n\t* The test project that the module belongs to.\n\t*/\n\tproject;\n\t/**\n\t* The ID of the module in the Vite module graph. It is usually an absolute file path.\n\t*/\n\tmoduleId;\n\t/**\n\t* The current test pool. It's possible to have multiple pools in a single test project with `poolMatchGlob` and `typecheck.enabled`.\n\t* @experimental In Vitest 4, the project will only support a single pool and this property will be removed.\n\t*/\n\tpool;\n\t/**\n\t* Line numbers of the test locations to run.\n\t*/\n\ttestLines;\n\tconstructor(project, moduleId, pool, testLines) {\n\t\tconst name = project.config.name, hashName = pool !== \"typescript\" ? name : name ? `${name}:__typecheck__` : \"__typecheck__\";\n\t\tthis.taskId = generateFileHash(relative(project.config.root, moduleId), hashName), this.project = project, this.moduleId = moduleId, this.pool = pool, this.testLines = testLines;\n\t}\n\t/**\n\t* Test module associated with the specification.\n\t*/\n\tget testModule() {\n\t\tconst task = this.project.vitest.state.idMap.get(this.taskId);\n\t\tif (task) return this.project.vitest.state.getReportedEntity(task);\n\t}\n\ttoJSON() {\n\t\treturn [\n\t\t\t{\n\t\t\t\tname: this.project.config.name,\n\t\t\t\troot: this.project.config.root\n\t\t\t},\n\t\t\tthis.moduleId,\n\t\t\t{\n\t\t\t\tpool: this.pool,\n\t\t\t\ttestLines: this.testLines\n\t\t\t}\n\t\t];\n\t}\n}\n\nasync function createViteServer(inlineConfig) {\n\t// Vite prints an error (https://github.com/vitejs/vite/issues/14328)\n\t// But Vitest works correctly either way\n\tconst error = console.error;\n\tconsole.error = (...args) => {\n\t\ttypeof args[0] === \"string\" && args[0].includes(\"WebSocket server error:\") || error(...args);\n\t};\n\tconst server = await createServer(inlineConfig);\n\treturn console.error = error, server;\n}\n\nclass TestProject {\n\t/**\n\t* The global Vitest instance.\n\t*/\n\tvitest;\n\t/**\n\t* Resolved global configuration. If there are no workspace projects, this will be the same as `config`.\n\t*/\n\tglobalConfig;\n\t/**\n\t* Browser instance if the browser is enabled. This is initialized when the tests run for the first time.\n\t*/\n\tbrowser;\n\t/**\n\t* Temporary directory for the project. This is unique for each project. Vitest stores transformed content here.\n\t*/\n\ttmpDir;\n\t/** @internal */ typechecker;\n\t/** @internal */ _config;\n\t/** @internal */ _vite;\n\t/** @internal */ _hash;\n\t/** @internal */ _resolver;\n\t/** @internal */ _fetcher;\n\t/** @internal */ _serializedDefines;\n\t/** @inetrnal */ testFilesList = null;\n\trunner;\n\tclosingPromise;\n\ttypecheckFilesList = null;\n\t_globalSetups;\n\t_provided = {};\n\tconstructor(vitest, options, tmpDir) {\n\t\tthis.options = options, this.vitest = vitest, this.globalConfig = vitest.config, this.tmpDir = tmpDir || join(tmpdir(), nanoid());\n\t}\n\t/**\n\t* The unique hash of this project. This value is consistent between the reruns.\n\t*\n\t* It is based on the root of the project (not consistent between OS) and its name.\n\t*/\n\tget hash() {\n\t\tif (!this._hash) throw new Error(\"The server was not set. It means that `project.hash` was called before the Vite server was established.\");\n\t\treturn this._hash;\n\t}\n\t// \"provide\" is a property, not a method to keep the context when destructed in the global setup,\n\t// making it a method would be a breaking change, and can be done in Vitest 3 at minimum\n\t/**\n\t* Provide a value to the test context. This value will be available to all tests with `inject`.\n\t*/\n\tprovide = (key, value) => {\n\t\ttry {\n\t\t\tstructuredClone(value);\n\t\t} catch (err) {\n\t\t\tthrow new Error(`Cannot provide \"${key}\" because it's not serializable.`, { cause: err });\n\t\t}\n\t\t// casting `any` because the default type is `never` since `ProvidedContext` is empty\n\t\tthis._provided[key] = value;\n\t};\n\t/**\n\t* Get the provided context. The project context is merged with the global context.\n\t*/\n\tgetProvidedContext() {\n\t\t// globalSetup can run even if core workspace is not part of the test run\n\t\t// so we need to inherit its provided context\n\t\treturn this.isRootProject() ? this._provided : {\n\t\t\t...this.vitest.getRootProject().getProvidedContext(),\n\t\t\t...this._provided\n\t\t};\n\t}\n\t/**\n\t* Creates a new test specification. Specifications describe how to run tests.\n\t* @param moduleId The file path\n\t*/\n\tcreateSpecification(moduleId, locations, pool) {\n\t\treturn new TestSpecification(this, moduleId, pool || getFilePoolName(this), locations);\n\t}\n\ttoJSON() {\n\t\treturn {\n\t\t\tname: this.name,\n\t\t\tserializedConfig: this.serializedConfig,\n\t\t\tcontext: this.getProvidedContext()\n\t\t};\n\t}\n\t/**\n\t* Vite's dev server instance. Every workspace project has its own server.\n\t*/\n\tget vite() {\n\t\tif (!this._vite) throw new Error(\"The server was not set. It means that `project.vite` was called before the Vite server was established.\");\n\t\treturn Object.defineProperty(this, \"vite\", {\n\t\t\tconfigurable: true,\n\t\t\twritable: true,\n\t\t\tvalue: this._vite\n\t\t}), this._vite;\n\t}\n\t/**\n\t* Resolved project configuration.\n\t*/\n\tget config() {\n\t\tif (!this._config) throw new Error(\"The config was not set. It means that `project.config` was called before the Vite server was established.\");\n\t\t// checking it once should be enough\n\t\t// Object.defineProperty(this, 'config', {\n\t\t//   configurable: true,\n\t\t//   writable: true,\n\t\t//   value: this._config,\n\t\t// })\n\t\treturn this._config;\n\t}\n\t/**\n\t* The name of the project or an empty string if not set.\n\t*/\n\tget name() {\n\t\treturn this.config.name || \"\";\n\t}\n\t/**\n\t* The color used when reporting tasks of this project.\n\t*/\n\tget color() {\n\t\treturn this.config.color;\n\t}\n\t/**\n\t* Serialized project configuration. This is the config that tests receive.\n\t*/\n\tget serializedConfig() {\n\t\treturn this._serializeOverriddenConfig();\n\t}\n\t/**\n\t* Check if this is the root project. The root project is the one that has the root config.\n\t*/\n\tisRootProject() {\n\t\treturn this.vitest.getRootProject() === this;\n\t}\n\t/** @internal */\n\tasync _initializeGlobalSetup() {\n\t\tif (!this._globalSetups) {\n\t\t\tthis._globalSetups = await loadGlobalSetupFiles(this.runner, this.config.globalSetup);\n\t\t\tfor (const globalSetupFile of this._globalSetups) {\n\t\t\t\tconst teardown = await globalSetupFile.setup?.(this);\n\t\t\t\tif (teardown == null || !!globalSetupFile.teardown) continue;\n\t\t\t\tif (typeof teardown !== \"function\") throw new TypeError(`invalid return value in globalSetup file ${globalSetupFile.file}. Must return a function`);\n\t\t\t\tglobalSetupFile.teardown = teardown;\n\t\t\t}\n\t\t}\n\t}\n\tonTestsRerun(cb) {\n\t\tthis.vitest.onTestsRerun(cb);\n\t}\n\t/** @internal */\n\tasync _teardownGlobalSetup() {\n\t\tif (this._globalSetups) for (const globalSetupFile of [...this._globalSetups].reverse()) await globalSetupFile.teardown?.();\n\t}\n\t/**\n\t* Get all files in the project that match the globs in the config and the filters.\n\t* @param filters String filters to match the test files.\n\t*/\n\tasync globTestFiles(filters = []) {\n\t\tconst dir = this.config.dir || this.config.root, { include, exclude, includeSource } = this.config, typecheck = this.config.typecheck, [testFiles, typecheckTestFiles] = await Promise.all([typecheck.enabled && typecheck.only ? [] : this.globAllTestFiles(include, exclude, includeSource, dir), typecheck.enabled ? this.typecheckFilesList || this.globFiles(typecheck.include, typecheck.exclude, dir) : []]);\n\t\treturn this.typecheckFilesList = typecheckTestFiles, {\n\t\t\ttestFiles: this.filterFiles(testFiles, filters, dir),\n\t\t\ttypecheckTestFiles: this.filterFiles(typecheckTestFiles, filters, dir)\n\t\t};\n\t}\n\tasync globAllTestFiles(include, exclude, includeSource, cwd) {\n\t\tif (this.testFilesList) return this.testFilesList;\n\t\tconst testFiles = await this.globFiles(include, exclude, cwd);\n\t\tif (includeSource?.length) {\n\t\t\tconst files = await this.globFiles(includeSource, exclude, cwd);\n\t\t\tawait Promise.all(files.map(async (file) => {\n\t\t\t\ttry {\n\t\t\t\t\tconst code = await promises$1.readFile(file, \"utf-8\");\n\t\t\t\t\tif (this.isInSourceTestCode(code)) testFiles.push(file);\n\t\t\t\t} catch {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\t\treturn this.testFilesList = testFiles, testFiles;\n\t}\n\tisBrowserEnabled() {\n\t\treturn isBrowserEnabled(this.config);\n\t}\n\tmarkTestFile(testPath) {\n\t\tthis.testFilesList?.push(testPath);\n\t}\n\t/** @internal */\n\t_removeCachedTestFile(testPath) {\n\t\tif (this.testFilesList) this.testFilesList = this.testFilesList.filter((file) => file !== testPath);\n\t}\n\t/**\n\t* Returns if the file is a test file. Requires `.globTestFiles()` to be called first.\n\t* @internal\n\t*/\n\t_isCachedTestFile(testPath) {\n\t\treturn !!this.testFilesList && this.testFilesList.includes(testPath);\n\t}\n\t/**\n\t* Returns if the file is a typecheck test file. Requires `.globTestFiles()` to be called first.\n\t* @internal\n\t*/\n\t_isCachedTypecheckFile(testPath) {\n\t\treturn !!this.typecheckFilesList && this.typecheckFilesList.includes(testPath);\n\t}\n\t/** @internal */\n\tasync globFiles(include, exclude, cwd) {\n\t\t// keep the slashes consistent with Vite\n\t\t// we are not using the pathe here because it normalizes the drive letter on Windows\n\t\t// and we want to keep it the same as working dir\n\t\treturn (await glob(include, {\n\t\t\tdot: true,\n\t\t\tcwd,\n\t\t\tignore: exclude,\n\t\t\texpandDirectories: false\n\t\t})).map((file) => slash(path.resolve(cwd, file)));\n\t}\n\t/**\n\t* Test if a file matches the test globs. This does the actual glob matching if the test is not cached, unlike `isCachedTestFile`.\n\t*/\n\tmatchesTestGlob(moduleId, source) {\n\t\tif (this._isCachedTestFile(moduleId)) return true;\n\t\tconst relativeId = relative(this.config.dir || this.config.root, moduleId);\n\t\tif (pm.isMatch(relativeId, this.config.exclude)) return false;\n\t\tif (pm.isMatch(relativeId, this.config.include)) return this.markTestFile(moduleId), true;\n\t\tif (this.config.includeSource?.length && pm.isMatch(relativeId, this.config.includeSource)) {\n\t\t\tconst code = source?.() || readFileSync(moduleId, \"utf-8\");\n\t\t\tif (this.isInSourceTestCode(code)) return this.markTestFile(moduleId), true;\n\t\t}\n\t\treturn false;\n\t}\n\tisInSourceTestCode(code) {\n\t\treturn code.includes(\"import.meta.vitest\");\n\t}\n\tfilterFiles(testFiles, filters, dir) {\n\t\tif (filters.length && process.platform === \"win32\") filters = filters.map((f) => slash(f));\n\t\treturn filters.length ? testFiles.filter((t) => {\n\t\t\tconst testFile = relative(dir, t).toLocaleLowerCase();\n\t\t\treturn filters.some((f) => {\n\t\t\t\t// if filter is a full file path, we should include it if it's in the same folder\n\t\t\t\tif (isAbsolute(f) && t.startsWith(f)) return true;\n\t\t\t\tconst relativePath = f.endsWith(\"/\") ? join(relative(dir, f), \"/\") : relative(dir, f);\n\t\t\t\treturn testFile.includes(f.toLocaleLowerCase()) || testFile.includes(relativePath.toLocaleLowerCase());\n\t\t\t});\n\t\t}) : testFiles;\n\t}\n\t_parentBrowser;\n\t/** @internal */\n\t_parent;\n\t/** @internal */\n\t_initParentBrowser = deduped(async (childProject) => {\n\t\tif (!this.isBrowserEnabled() || this._parentBrowser) return;\n\t\tconst provider = this.config.browser.provider || childProject.config.browser.provider;\n\t\tif (provider == null) throw new Error(`Proider was not specified in the \"browser.provider\" setting. Please, pass down playwright(), webdriverio() or preview() from \"@vitest/browser-playwright\", \"@vitest/browser-webdriverio\" or \"@vitest/browser-preview\" package respectively.`);\n\t\tif (typeof provider.serverFactory !== \"function\") throw new TypeError(`The browser provider options do not return a \"serverFactory\" function. Are you using the latest \"@vitest/browser-${provider.name}\" package?`);\n\t\tconst browser = await provider.serverFactory({\n\t\t\tproject: this,\n\t\t\tmocksPlugins: (options) => MocksPlugins(options),\n\t\t\tmetaEnvReplacer: () => MetaEnvReplacerPlugin(),\n\t\t\tcoveragePlugin: () => CoverageTransform(this.vitest)\n\t\t});\n\t\tif (this._parentBrowser = browser, this.config.browser.ui) setup(this.vitest, browser.vite);\n\t});\n\t/** @internal */\n\t_initBrowserServer = deduped(async () => {\n\t\tif (await this._parent?._initParentBrowser(this), !this.browser && this._parent?._parentBrowser) this.browser = this._parent._parentBrowser.spawn(this), await this.vitest.report(\"onBrowserInit\", this);\n\t});\n\t/**\n\t* Closes the project and all associated resources. This can only be called once; the closing promise is cached until the server restarts.\n\t* If the resources are needed again, create a new project.\n\t*/\n\tclose() {\n\t\tif (!this.closingPromise) this.closingPromise = Promise.all([\n\t\t\tthis.vite?.close(),\n\t\t\tthis.typechecker?.stop(),\n\t\t\tthis.browser?.close(),\n\t\t\tthis.clearTmpDir()\n\t\t].filter(Boolean)).then(() => {\n\t\t\tif (!this.runner.isClosed()) return this.runner.close();\n\t\t}).then(() => {\n\t\t\tthis._provided = {}, this._vite = void 0;\n\t\t});\n\t\treturn this.closingPromise;\n\t}\n\t/**\n\t* Import a file using Vite module runner.\n\t* @param moduleId The ID of the module in Vite module graph\n\t*/\n\timport(moduleId) {\n\t\treturn this.runner.import(moduleId);\n\t}\n\t_setHash() {\n\t\tthis._hash = generateHash(this._config.root + this._config.name);\n\t}\n\t/** @internal */\n\tasync _configureServer(options, server) {\n\t\tfor (const _providedKey in this._config = resolveConfig(this.vitest, {\n\t\t\t...options,\n\t\t\tcoverage: this.vitest.config.coverage\n\t\t}, server.config), this._setHash(), this.config.provide) {\n\t\t\tconst providedKey = _providedKey;\n\t\t\t// type is very strict here, so we cast it to any\n\t\t\tthis.provide(providedKey, this.config.provide[providedKey]);\n\t\t}\n\t\tthis.closingPromise = void 0, this._resolver = new VitestResolver(server.config.cacheDir, this._config), this._vite = server, this._serializedDefines = createDefinesScript(server.config.define), this._fetcher = createFetchModuleFunction(this._resolver, this.tmpDir, {\n\t\t\tdumpFolder: this.config.dumpDir,\n\t\t\treadFromDump: this.config.server.debug?.load ?? process.env.VITEST_DEBUG_LOAD_DUMP != null\n\t\t});\n\t\tconst environment = server.environments.__vitest__;\n\t\tthis.runner = new ServerModuleRunner(environment, this._fetcher, this._config);\n\t}\n\t_serializeOverriddenConfig() {\n\t\t// TODO: serialize the config _once_ or when needed\n\t\tconst config = serializeConfig(this);\n\t\treturn this.vitest.configOverride ? deepMerge(config, this.vitest.configOverride) : config;\n\t}\n\tasync clearTmpDir() {\n\t\ttry {\n\t\t\tawait rm(this.tmpDir, { recursive: true });\n\t\t} catch {}\n\t}\n\t/** @internal */\n\t_initBrowserProvider = deduped(async () => {\n\t\tif (!(!this.isBrowserEnabled() || this.browser?.provider)) {\n\t\t\tif (!this.browser) await this._initBrowserServer();\n\t\t\tawait this.browser?.initBrowserProvider(this);\n\t\t}\n\t});\n\t/** @internal */\n\t_provideObject(context) {\n\t\tfor (const _providedKey in context) {\n\t\t\tconst providedKey = _providedKey;\n\t\t\t// type is very strict here, so we cast it to any\n\t\t\tthis.provide(providedKey, context[providedKey]);\n\t\t}\n\t}\n\t/** @internal */\n\tstatic _createBasicProject(vitest) {\n\t\tconst project = new TestProject(vitest, void 0, vitest._tmpDir);\n\t\treturn project.runner = vitest.runner, project._vite = vitest.vite, project._config = vitest.config, project._resolver = vitest._resolver, project._fetcher = vitest._fetcher, project._serializedDefines = createDefinesScript(vitest.vite.config.define), project._setHash(), project._provideObject(vitest.config.provide), project;\n\t}\n\t/** @internal */\n\tstatic _cloneBrowserProject(parent, config) {\n\t\tconst clone = new TestProject(parent.vitest, void 0, parent.tmpDir);\n\t\treturn clone.runner = parent.runner, clone._vite = parent._vite, clone._resolver = parent._resolver, clone._fetcher = parent._fetcher, clone._config = config, clone._setHash(), clone._parent = parent, clone._serializedDefines = parent._serializedDefines, clone._provideObject(config.provide), clone;\n\t}\n}\nfunction deduped(cb) {\n\tlet _promise;\n\treturn ((...args) => {\n\t\tif (!_promise) _promise = cb(...args).finally(() => {\n\t\t\t_promise = void 0;\n\t\t});\n\t\treturn _promise;\n\t});\n}\nasync function initializeProject(workspacePath, ctx, options) {\n\tconst project = new TestProject(ctx, options), { configFile,...restOptions } = options, config = {\n\t\t...restOptions,\n\t\tconfigFile,\n\t\tconfigLoader: ctx.vite.config.inlineConfig.configLoader,\n\t\tmode: options.test?.mode || options.mode || ctx.config.mode,\n\t\tplugins: [...options.plugins || [], WorkspaceVitestPlugin(project, {\n\t\t\t...options,\n\t\t\tworkspacePath\n\t\t})]\n\t};\n\treturn await createViteServer(config), project;\n}\nfunction generateHash(str) {\n\tlet hash = 0;\n\tif (str.length === 0) return `${hash}`;\n\tfor (let i = 0; i < str.length; i++) {\n\t\tconst char = str.charCodeAt(i);\n\t\thash = (hash << 5) - hash + char, hash = hash & hash;\n\t}\n\treturn `${hash}`;\n}\n\n// vitest.config.*\n// vite.config.*\n// vitest.unit.config.*\n// vite.unit.config.*\nconst CONFIG_REGEXP = /^vite(?:st)?(?:\\.\\w+)?\\.config\\./;\nasync function resolveProjects(vitest, cliOptions, workspaceConfigPath, projectsDefinition, names) {\n\tconst { configFiles, projectConfigs, nonConfigDirectories } = await resolveTestProjectConfigs(vitest, workspaceConfigPath, projectsDefinition), cliOverrides = [\n\t\t\"logHeapUsage\",\n\t\t\"allowOnly\",\n\t\t\"sequence\",\n\t\t\"testTimeout\",\n\t\t\"pool\",\n\t\t\"update\",\n\t\t\"globals\",\n\t\t\"expandSnapshotDiff\",\n\t\t\"disableConsoleIntercept\",\n\t\t\"retry\",\n\t\t\"testNamePattern\",\n\t\t\"passWithNoTests\",\n\t\t\"bail\",\n\t\t\"isolate\",\n\t\t\"printConsoleTrace\",\n\t\t\"inspect\",\n\t\t\"inspectBrk\",\n\t\t\"fileParallelism\"\n\t].reduce((acc, name) => {\n\t\tif (name in cliOptions) acc[name] = cliOptions[name];\n\t\treturn acc;\n\t}, {}), projectPromises = [], fileProjects = [...configFiles, ...nonConfigDirectories], concurrent = limitConcurrency(nodeos__default.availableParallelism?.() || nodeos__default.cpus().length || 5);\n\tprojectConfigs.forEach((options, index) => {\n\t\tconst configRoot = vitest.config.root, configFile = typeof options.extends === \"string\" ? resolve(configRoot, options.extends) : options.extends === true ? vitest.vite.config.configFile || false : false, root = options.root ? resolve(configRoot, options.root) : vitest.config.root;\n\t\tprojectPromises.push(concurrent(() => initializeProject(index, vitest, {\n\t\t\t...options,\n\t\t\troot,\n\t\t\tconfigFile,\n\t\t\ttest: {\n\t\t\t\t...options.test,\n\t\t\t\t...cliOverrides\n\t\t\t}\n\t\t})));\n\t});\n\tfor (const path of fileProjects) {\n\t\t// if file leads to the root config, then we can just reuse it because we already initialized it\n\t\tif (vitest.vite.config.configFile === path) {\n\t\t\tconst project = getDefaultTestProject(vitest);\n\t\t\tif (project) projectPromises.push(Promise.resolve(project));\n\t\t\tcontinue;\n\t\t}\n\t\tconst configFile = path.endsWith(\"/\") ? false : path, root = path.endsWith(\"/\") ? path : dirname(path);\n\t\tprojectPromises.push(concurrent(() => initializeProject(path, vitest, {\n\t\t\troot,\n\t\t\tconfigFile,\n\t\t\ttest: cliOverrides\n\t\t})));\n\t}\n\t// pretty rare case - the glob didn't match anything and there are no inline configs\n\tif (!projectPromises.length) throw new Error([\n\t\t\"No projects were found. Make sure your configuration is correct. \",\n\t\tvitest.config.project.length ? `The filter matched no projects: ${vitest.config.project.join(\", \")}. ` : \"\",\n\t\t`The projects definition: ${JSON.stringify(projectsDefinition, null, 4)}.`\n\t].join(\"\"));\n\tconst resolvedProjectsPromises = await Promise.allSettled(projectPromises), errors = [], resolvedProjects = [];\n\tfor (const result of resolvedProjectsPromises) if (result.status === \"rejected\") {\n\t\tif (result.reason instanceof VitestFilteredOutProjectError)\n // filter out filtered out projects\n\t\tcontinue;\n\t\terrors.push(result.reason);\n\t} else resolvedProjects.push(result.value);\n\tif (errors.length) throw new AggregateError(errors, \"Failed to initialize projects. There were errors during projects setup. See below for more details.\");\n\t// project names are guaranteed to be unique\n\tfor (const project of resolvedProjects) {\n\t\tconst name = project.name;\n\t\tif (names.has(name)) {\n\t\t\tconst duplicate = resolvedProjects.find((p) => p.name === name && p !== project), filesError = fileProjects.length ? [\n\t\t\t\t\"\\n\\nYour config matched these files:\\n\",\n\t\t\t\tfileProjects.map((p) => ` - ${relative(vitest.config.root, p)}`).join(\"\\n\"),\n\t\t\t\t\"\\n\\n\"\n\t\t\t].join(\"\") : \" \";\n\t\t\tthrow new Error([\n\t\t\t\t`Project name \"${name}\"`,\n\t\t\t\tproject.vite.config.configFile ? ` from \"${relative(vitest.config.root, project.vite.config.configFile)}\"` : \"\",\n\t\t\t\t\" is not unique.\",\n\t\t\t\tduplicate?.vite.config.configFile ? ` The project is already defined by \"${relative(vitest.config.root, duplicate.vite.config.configFile)}\".` : \"\",\n\t\t\t\tfilesError,\n\t\t\t\t\"All projects should have unique names. Make sure your configuration is correct.\"\n\t\t\t].join(\"\"));\n\t\t}\n\t\tnames.add(name);\n\t}\n\treturn resolveBrowserProjects(vitest, names, resolvedProjects);\n}\nasync function resolveBrowserProjects(vitest, names, resolvedProjects) {\n\tconst removeProjects = /* @__PURE__ */ new Set();\n\treturn resolvedProjects.forEach((project) => {\n\t\tif (!project.config.browser.enabled) return;\n\t\tconst instances = project.config.browser.instances || [];\n\t\tif (instances.length === 0) {\n\t\t\tremoveProjects.add(project);\n\t\t\treturn;\n\t\t}\n\t\tconst originalName = project.config.name, filteredInstances = vitest.matchesProjectFilter(originalName) ? instances : instances.filter((instance) => {\n\t\t\tconst newName = instance.name;\n\t\t\treturn vitest.matchesProjectFilter(newName);\n\t\t});\n\t\t// every project was filtered out\n\t\tif (!filteredInstances.length) {\n\t\t\tremoveProjects.add(project);\n\t\t\treturn;\n\t\t}\n\t\tfilteredInstances.forEach((config, index) => {\n\t\t\tconst browser = config.browser;\n\t\t\tif (!browser) {\n\t\t\t\tconst nth = index + 1, ending = nth === 2 ? \"nd\" : nth === 3 ? \"rd\" : \"th\";\n\t\t\t\tthrow new Error(`The browser configuration must have a \"browser\" property. The ${nth}${ending} item in \"browser.instances\" doesn't have it. Make sure your${originalName ? ` \"${originalName}\"` : \"\"} configuration is correct.`);\n\t\t\t}\n\t\t\tconst name = config.name;\n\t\t\tif (name == null) throw new Error(`The browser configuration must have a \"name\" property. This is a bug in Vitest. Please, open a new issue with reproduction`);\n\t\t\tif (config.provider?.name != null && project.config.browser.provider?.name != null && config.provider?.name !== project.config.browser.provider?.name) throw new Error(`The instance cannot have a different provider from its parent. The \"${name}\" instance specifies \"${config.provider?.name}\" provider, but its parent has a \"${project.config.browser.provider?.name}\" provider.`);\n\t\t\tif (names.has(name)) throw new Error([\n\t\t\t\t`Cannot define a nested project for a ${browser} browser. The project name \"${name}\" was already defined. `,\n\t\t\t\t\"If you have multiple instances for the same browser, make sure to define a custom \\\"name\\\". \",\n\t\t\t\t\"All projects should have unique names. Make sure your configuration is correct.\"\n\t\t\t].join(\"\"));\n\t\t\tnames.add(name);\n\t\t\tconst clonedConfig = cloneConfig(project, config);\n\t\t\tclonedConfig.name = name;\n\t\t\tconst clone = TestProject._cloneBrowserProject(project, clonedConfig);\n\t\t\tresolvedProjects.push(clone);\n\t\t}), removeProjects.add(project);\n\t}), resolvedProjects.filter((project) => !removeProjects.has(project));\n}\nfunction cloneConfig(project, { browser,...config }) {\n\tconst { locators, viewport, testerHtmlPath, headless, screenshotDirectory, screenshotFailures, browser: _browser, name, provider,...overrideConfig } = config, currentConfig = project.config.browser, clonedConfig = deepClone(project.config);\n\treturn mergeConfig({\n\t\t...clonedConfig,\n\t\tbrowser: {\n\t\t\t...project.config.browser,\n\t\t\tlocators: locators ? { testIdAttribute: locators.testIdAttribute ?? currentConfig.locators.testIdAttribute } : project.config.browser.locators,\n\t\t\tviewport: viewport ?? currentConfig.viewport,\n\t\t\ttesterHtmlPath: testerHtmlPath ?? currentConfig.testerHtmlPath,\n\t\t\tscreenshotDirectory: screenshotDirectory ?? currentConfig.screenshotDirectory,\n\t\t\tscreenshotFailures: screenshotFailures ?? currentConfig.screenshotFailures,\n\t\t\theadless: headless ?? currentConfig.headless,\n\t\t\tprovider: provider ?? currentConfig.provider,\n\t\t\tname: browser,\n\t\t\tinstances: []\n\t\t},\n\t\tinclude: overrideConfig.include && overrideConfig.include.length > 0 ? [] : clonedConfig.include,\n\t\texclude: overrideConfig.exclude && overrideConfig.exclude.length > 0 ? [] : clonedConfig.exclude,\n\t\tincludeSource: overrideConfig.includeSource && overrideConfig.includeSource.length > 0 ? [] : clonedConfig.includeSource\n\t}, overrideConfig);\n}\nasync function resolveTestProjectConfigs(vitest, workspaceConfigPath, projectsDefinition) {\n\t// project configurations that were specified directly\n\tconst projectsOptions = [], projectsConfigFiles = [], projectsGlobMatches = [], nonConfigProjectDirectories = [];\n\tfor (const definition of projectsDefinition) if (typeof definition === \"string\") {\n\t\tconst stringOption = definition.replace(\"<rootDir>\", vitest.config.root);\n\t\t// if the string doesn't contain a glob, we can resolve it directly\n\t\t// ['./vitest.config.js']\n\t\tif (!isDynamicPattern(stringOption)) {\n\t\t\tconst file = resolve(vitest.config.root, stringOption);\n\t\t\tif (!existsSync(file)) {\n\t\t\t\tconst note = \"Projects definition\";\n\t\t\t\tthrow new Error(`${note} references a non-existing file or a directory: ${file}`);\n\t\t\t}\n\t\t\tconst stats = statSync(file);\n\t\t\t// user can specify a config file directly\n\t\t\tif (stats.isFile()) {\n\t\t\t\tconst name = basename(file);\n\t\t\t\tif (!CONFIG_REGEXP.test(name)) throw new Error(`The file \"${relative(vitest.config.root, file)}\" must start with \"vitest.config\"/\"vite.config\" or match the pattern \"(vitest|vite).*.config.*\" to be a valid project config.`);\n\t\t\t\tprojectsConfigFiles.push(file);\n\t\t\t} else if (stats.isDirectory()) {\n\t\t\t\tconst configFile = resolveDirectoryConfig(file);\n\t\t\t\tif (configFile) projectsConfigFiles.push(configFile);\n\t\t\t\telse {\n\t\t\t\t\tconst directory = file.at(-1) === \"/\" ? file : `${file}/`;\n\t\t\t\t\tnonConfigProjectDirectories.push(directory);\n\t\t\t\t}\n\t\t\t} else\n // should never happen\n\t\t\tthrow new TypeError(`Unexpected file type: ${file}`);\n\t\t} else projectsGlobMatches.push(stringOption);\n\t} else if (typeof definition === \"function\") projectsOptions.push(await definition({\n\t\tcommand: vitest.vite.config.command,\n\t\tmode: vitest.vite.config.mode,\n\t\tisPreview: false,\n\t\tisSsrBuild: false\n\t}));\n\telse projectsOptions.push(await definition);\n\tif (projectsGlobMatches.length) {\n\t\tconst globOptions = {\n\t\t\tabsolute: true,\n\t\t\tdot: true,\n\t\t\tonlyFiles: false,\n\t\t\tcwd: vitest.config.root,\n\t\t\texpandDirectories: false,\n\t\t\tignore: [\n\t\t\t\t\"**/node_modules/**\",\n\t\t\t\t\"**/*.timestamp-*\",\n\t\t\t\t\"**/.DS_Store\"\n\t\t\t]\n\t\t};\n\t\t(await glob(projectsGlobMatches, globOptions)).forEach((path) => {\n\t\t\t// directories are allowed with a glob like `packages/*`\n\t\t\t// in this case every directory is treated as a project\n\t\t\tif (path.endsWith(\"/\")) {\n\t\t\t\tconst configFile = resolveDirectoryConfig(path);\n\t\t\t\tif (configFile) projectsConfigFiles.push(configFile);\n\t\t\t\telse nonConfigProjectDirectories.push(path);\n\t\t\t} else {\n\t\t\t\tconst name = basename(path);\n\t\t\t\tif (!CONFIG_REGEXP.test(name)) throw new Error(`The projects glob matched a file \"${relative(vitest.config.root, path)}\", but it should also either start with \"vitest.config\"/\"vite.config\" or match the pattern \"(vitest|vite).*.config.*\".`);\n\t\t\t\tprojectsConfigFiles.push(path);\n\t\t\t}\n\t\t});\n\t}\n\tconst projectConfigFiles = Array.from(new Set(projectsConfigFiles));\n\treturn {\n\t\tprojectConfigs: projectsOptions,\n\t\tnonConfigDirectories: nonConfigProjectDirectories,\n\t\tconfigFiles: projectConfigFiles\n\t};\n}\nfunction resolveDirectoryConfig(directory) {\n\tconst files = new Set(readdirSync(directory)), configFile = configFiles.find((file) => files.has(file));\n\treturn configFile ? resolve(directory, configFile) : null;\n}\nfunction getDefaultTestProject(vitest) {\n\tconst filter = vitest.config.project, project = vitest._ensureRootProject();\n\treturn !filter.length || getPotentialProjectNames(project).some((p) => vitest.matchesProjectFilter(p)) ? project : null;\n}\nfunction getPotentialProjectNames(project) {\n\tconst names = [project.name];\n\tif (project.config.browser.instances) names.push(...project.config.browser.instances.map((i) => i.name));\n\telse if (project.config.browser.name) names.push(project.config.browser.name);\n\treturn names;\n}\n\nasync function loadCustomReporterModule(path, runner) {\n\tlet customReporterModule;\n\ttry {\n\t\tcustomReporterModule = await runner.import(path);\n\t} catch (customReporterModuleError) {\n\t\tthrow new Error(`Failed to load custom Reporter from ${path}`, { cause: customReporterModuleError });\n\t}\n\tif (customReporterModule.default === null || customReporterModule.default === void 0) throw new Error(`Custom reporter loaded from ${path} was not the default export`);\n\treturn customReporterModule.default;\n}\nfunction createReporters(reporterReferences, ctx) {\n\tconst runner = ctx.runner, promisedReporters = reporterReferences.map(async (referenceOrInstance) => {\n\t\tif (Array.isArray(referenceOrInstance)) {\n\t\t\tconst [reporterName, reporterOptions] = referenceOrInstance;\n\t\t\tif (reporterName === \"html\") return await ctx.packageInstaller.ensureInstalled(\"@vitest/ui\", ctx.config.root, ctx.version), new (await (loadCustomReporterModule(\"@vitest/ui/reporter\", runner)))(reporterOptions);\n\t\t\tif (reporterName in ReportersMap) {\n\t\t\t\tconst BuiltinReporter = ReportersMap[reporterName];\n\t\t\t\treturn new BuiltinReporter(reporterOptions);\n\t\t\t} else return new (await (loadCustomReporterModule(reporterName, runner)))(reporterOptions);\n\t\t}\n\t\treturn referenceOrInstance;\n\t});\n\treturn Promise.all(promisedReporters);\n}\nfunction createBenchmarkReporters(reporterReferences, runner) {\n\tconst promisedReporters = reporterReferences.map(async (referenceOrInstance) => {\n\t\tif (typeof referenceOrInstance === \"string\") if (referenceOrInstance in BenchmarkReportsMap) {\n\t\t\tconst BuiltinReporter = BenchmarkReportsMap[referenceOrInstance];\n\t\t\treturn new BuiltinReporter();\n\t\t} else return new (await (loadCustomReporterModule(referenceOrInstance, runner)))();\n\t\treturn referenceOrInstance;\n\t});\n\treturn Promise.all(promisedReporters);\n}\n\nfunction parseFilter(filter) {\n\tconst colonIndex = filter.lastIndexOf(\":\");\n\tif (colonIndex === -1) return { filename: filter };\n\tconst [parsedFilename, lineNumber] = [filter.substring(0, colonIndex), filter.substring(colonIndex + 1)];\n\tif (lineNumber.match(/^\\d+$/)) return {\n\t\tfilename: parsedFilename,\n\t\tlineNumber: Number.parseInt(lineNumber)\n\t};\n\tif (lineNumber.match(/^\\d+-\\d+$/)) throw new RangeLocationFilterProvidedError(filter);\n\treturn { filename: filter };\n}\nfunction groupFilters(filters) {\n\tconst groupedFilters_ = groupBy(filters, (f) => f.filename);\n\treturn Object.fromEntries(Object.entries(groupedFilters_).map((entry) => {\n\t\tconst [filename, filters] = entry, testLocations = filters.map((f) => f.lineNumber);\n\t\treturn [filename, testLocations.filter((l) => l !== void 0)];\n\t}));\n}\n\nclass VitestSpecifications {\n\t_cachedSpecs = /* @__PURE__ */ new Map();\n\tconstructor(vitest) {\n\t\tthis.vitest = vitest;\n\t}\n\tgetModuleSpecifications(moduleId) {\n\t\tconst _cached = this.getCachedSpecifications(moduleId);\n\t\tif (_cached) return _cached;\n\t\tconst specs = [];\n\t\tfor (const project of this.vitest.projects) {\n\t\t\tif (project._isCachedTestFile(moduleId)) specs.push(project.createSpecification(moduleId));\n\t\t\tif (project._isCachedTypecheckFile(moduleId)) specs.push(project.createSpecification(moduleId, [], \"typescript\"));\n\t\t}\n\t\treturn specs.forEach((spec) => this.ensureSpecificationCached(spec)), specs;\n\t}\n\tasync getRelevantTestSpecifications(filters = []) {\n\t\treturn this.filterTestsBySource(await this.globTestSpecifications(filters));\n\t}\n\tasync globTestSpecifications(filters = []) {\n\t\tconst files = [], dir = process.cwd(), parsedFilters = filters.map((f) => parseFilter(f));\n\t\t// Require includeTaskLocation when a location filter is passed\n\t\tif (!this.vitest.config.includeTaskLocation && parsedFilters.some((f) => f.lineNumber !== void 0)) throw new IncludeTaskLocationDisabledError();\n\t\tconst testLines = groupFilters(parsedFilters.map((f) => ({\n\t\t\t...f,\n\t\t\tfilename: resolve(dir, f.filename)\n\t\t}))), testLocHasMatch = {};\n\t\treturn await Promise.all(this.vitest.projects.map(async (project) => {\n\t\t\tconst { testFiles, typecheckTestFiles } = await project.globTestFiles(parsedFilters.map((f) => f.filename));\n\t\t\ttestFiles.forEach((file) => {\n\t\t\t\tconst lines = testLines[file];\n\t\t\t\ttestLocHasMatch[file] = true;\n\t\t\t\tconst spec = project.createSpecification(file, lines);\n\t\t\t\tthis.ensureSpecificationCached(spec), files.push(spec);\n\t\t\t}), typecheckTestFiles.forEach((file) => {\n\t\t\t\tconst lines = testLines[file];\n\t\t\t\ttestLocHasMatch[file] = true;\n\t\t\t\tconst spec = project.createSpecification(file, lines, \"typescript\");\n\t\t\t\tthis.ensureSpecificationCached(spec), files.push(spec);\n\t\t\t});\n\t\t})), Object.entries(testLines).forEach(([filepath, loc]) => {\n\t\t\tif (loc.length !== 0 && !testLocHasMatch[filepath]) throw new LocationFilterFileNotFoundError(relative(dir, filepath));\n\t\t}), files;\n\t}\n\tclearCache(moduleId) {\n\t\tif (moduleId) this._cachedSpecs.delete(moduleId);\n\t\telse this._cachedSpecs.clear();\n\t}\n\tgetCachedSpecifications(moduleId) {\n\t\treturn this._cachedSpecs.get(moduleId);\n\t}\n\tensureSpecificationCached(spec) {\n\t\tconst file = spec.moduleId, specs = this._cachedSpecs.get(file) || [], index = specs.findIndex((_s) => _s.project === spec.project && _s.pool === spec.pool);\n\t\tif (index === -1) specs.push(spec), this._cachedSpecs.set(file, specs);\n\t\telse specs.splice(index, 1, spec);\n\t\treturn specs;\n\t}\n\tasync filterTestsBySource(specs) {\n\t\tif (this.vitest.config.changed && !this.vitest.config.related) {\n\t\t\tconst { VitestGit } = await import('./git.BFNcloKD.js'), related = await new VitestGit(this.vitest.config.root).findChangedFiles({ changedSince: this.vitest.config.changed });\n\t\t\tif (!related) throw process.exitCode = 1, new GitNotFoundError();\n\t\t\tthis.vitest.config.related = Array.from(new Set(related));\n\t\t}\n\t\tconst related = this.vitest.config.related;\n\t\tif (!related) return specs;\n\t\tconst forceRerunTriggers = this.vitest.config.forceRerunTriggers, matcher = forceRerunTriggers.length ? pm(forceRerunTriggers) : void 0;\n\t\tif (matcher && related.some((file) => matcher(file))) return specs;\n\t\t// don't run anything if no related sources are found\n\t\t// if we are in watch mode, we want to process all tests\n\t\tif (!this.vitest.config.watch && !related.length) return [];\n\t\tconst testGraphs = await Promise.all(specs.map(async (spec) => {\n\t\t\tconst deps = await this.getTestDependencies(spec);\n\t\t\treturn [spec, deps];\n\t\t})), runningTests = [];\n\t\tfor (const [specification, deps] of testGraphs)\n // if deps or the test itself were changed\n\t\tif (related.some((path) => path === specification.moduleId || deps.has(path))) runningTests.push(specification);\n\t\treturn runningTests;\n\t}\n\tasync getTestDependencies(spec, deps = /* @__PURE__ */ new Set()) {\n\t\tconst addImports = async (project, filepath) => {\n\t\t\tif (deps.has(filepath)) return;\n\t\t\tdeps.add(filepath);\n\t\t\tconst transformed = project.vite.environments.ssr.moduleGraph.getModuleById(filepath)?.transformResult || await project.vite.environments.ssr.transformRequest(filepath);\n\t\t\tif (!transformed) return;\n\t\t\tconst dependencies = [...transformed.deps || [], ...transformed.dynamicDeps || []];\n\t\t\tawait Promise.all(dependencies.map(async (dep) => {\n\t\t\t\tconst fsPath = dep.startsWith(\"/@fs/\") ? dep.slice(isWindows ? 5 : 4) : join(project.config.root, dep);\n\t\t\t\tif (!fsPath.includes(\"node_modules\") && !deps.has(fsPath) && existsSync(fsPath)) await addImports(project, fsPath);\n\t\t\t}));\n\t\t};\n\t\treturn await addImports(spec.project, spec.moduleId), deps.delete(spec.moduleId), deps;\n\t}\n}\n\nclass ReportedTaskImplementation {\n\t/**\n\t* Task instance.\n\t* @internal\n\t*/\n\ttask;\n\t/**\n\t* The project associated with the test or suite.\n\t*/\n\tproject;\n\t/**\n\t* Unique identifier.\n\t* This ID is deterministic and will be the same for the same test across multiple runs.\n\t* The ID is based on the project name, module url and test order.\n\t*/\n\tid;\n\t/**\n\t* Location in the module where the test or suite is defined.\n\t*/\n\tlocation;\n\t/** @internal */\n\tconstructor(task, project) {\n\t\tthis.task = task, this.project = project, this.id = task.id, this.location = task.location;\n\t}\n\t/**\n\t* Checks if the test did not fail the suite.\n\t* If the test is not finished yet or was skipped, it will return `true`.\n\t*/\n\tok() {\n\t\tconst result = this.task.result;\n\t\treturn !result || result.state !== \"fail\";\n\t}\n\t/**\n\t* Custom metadata that was attached to the test during its execution.\n\t*/\n\tmeta() {\n\t\treturn this.task.meta;\n\t}\n\t/**\n\t* Creates a new reported task instance and stores it in the project's state for future use.\n\t* @internal\n\t*/\n\tstatic register(task, project) {\n\t\tconst state = new this(task, project);\n\t\treturn storeTask(project, task, state), state;\n\t}\n}\nclass TestCase extends ReportedTaskImplementation {\n\t#fullName;\n\ttype = \"test\";\n\t/**\n\t* Direct reference to the test module where the test or suite is defined.\n\t*/\n\tmodule;\n\t/**\n\t* Name of the test.\n\t*/\n\tname;\n\t/**\n\t* Options that the test was initiated with.\n\t*/\n\toptions;\n\t/**\n\t* Parent suite. If the test was called directly inside the module, the parent will be the module itself.\n\t*/\n\tparent;\n\t/** @internal */\n\tconstructor(task, project) {\n\t\tsuper(task, project), this.name = task.name, this.module = getReportedTask(project, task.file);\n\t\tconst suite = this.task.suite;\n\t\tif (suite) this.parent = getReportedTask(project, suite);\n\t\telse this.parent = this.module;\n\t\tthis.options = buildOptions(task);\n\t}\n\t/**\n\t* Full name of the test including all parent suites separated with `>`.\n\t*/\n\tget fullName() {\n\t\tif (this.#fullName === void 0) if (this.parent.type !== \"module\") this.#fullName = `${this.parent.fullName} > ${this.name}`;\n\t\telse this.#fullName = this.name;\n\t\treturn this.#fullName;\n\t}\n\t/**\n\t* Test results.\n\t* - **pending**: Test was collected, but didn't finish running yet.\n\t* - **passed**: Test passed successfully\n\t* - **failed**: Test failed to execute\n\t* - **skipped**: Test was skipped during collection or dynamically with `ctx.skip()`.\n\t*/\n\tresult() {\n\t\tconst result = this.task.result, mode = result?.state || this.task.mode;\n\t\tif (!result && (mode === \"skip\" || mode === \"todo\")) return {\n\t\t\tstate: \"skipped\",\n\t\t\tnote: void 0,\n\t\t\terrors: void 0\n\t\t};\n\t\tif (!result || result.state === \"run\" || result.state === \"queued\") return {\n\t\t\tstate: \"pending\",\n\t\t\terrors: void 0\n\t\t};\n\t\tconst state = result.state === \"fail\" ? \"failed\" : result.state === \"pass\" ? \"passed\" : \"skipped\";\n\t\treturn state === \"skipped\" ? {\n\t\t\tstate,\n\t\t\tnote: result.note,\n\t\t\terrors: void 0\n\t\t} : state === \"passed\" ? {\n\t\t\tstate,\n\t\t\terrors: result.errors\n\t\t} : {\n\t\t\tstate,\n\t\t\terrors: result.errors || []\n\t\t};\n\t}\n\t/**\n\t* Test annotations added via the `task.annotate` API during the test execution.\n\t*/\n\tannotations() {\n\t\treturn [...this.task.annotations];\n\t}\n\t/**\n\t* Useful information about the test like duration, memory usage, etc.\n\t* Diagnostic is only available after the test has finished.\n\t*/\n\tdiagnostic() {\n\t\tconst result = this.task.result;\n\t\t// startTime should always be available if the test has properly finished\n\t\tif (!result || !result.startTime) return;\n\t\tconst duration = result.duration || 0;\n\t\treturn {\n\t\t\tslow: duration > this.project.globalConfig.slowTestThreshold,\n\t\t\theap: result.heap,\n\t\t\tduration,\n\t\t\tstartTime: result.startTime,\n\t\t\tretryCount: result.retryCount ?? 0,\n\t\t\trepeatCount: result.repeatCount ?? 0,\n\t\t\tflaky: !!result.retryCount && result.state === \"pass\" && result.retryCount > 0\n\t\t};\n\t}\n}\nclass TestCollection {\n\t#task;\n\t#project;\n\tconstructor(task, project) {\n\t\tthis.#task = task, this.#project = project;\n\t}\n\t/**\n\t* Returns the test or suite at a specific index.\n\t*/\n\tat(index) {\n\t\tif (index < 0) index = this.size + index;\n\t\treturn getReportedTask(this.#project, this.#task.tasks[index]);\n\t}\n\t/**\n\t* The number of tests and suites in the collection.\n\t*/\n\tget size() {\n\t\treturn this.#task.tasks.length;\n\t}\n\t/**\n\t* Returns the collection in array form for easier manipulation.\n\t*/\n\tarray() {\n\t\treturn Array.from(this);\n\t}\n\t/**\n\t* Filters all tests that are part of this collection and its children.\n\t*/\n\t*allTests(state) {\n\t\tfor (const child of this) if (child.type === \"suite\") yield* child.children.allTests(state);\n\t\telse if (state) {\n\t\t\tconst testState = child.result().state;\n\t\t\tif (state === testState) yield child;\n\t\t} else yield child;\n\t}\n\t/**\n\t* Filters only the tests that are part of this collection.\n\t*/\n\t*tests(state) {\n\t\tfor (const child of this) {\n\t\t\tif (child.type !== \"test\") continue;\n\t\t\tif (state) {\n\t\t\t\tconst testState = child.result().state;\n\t\t\t\tif (state === testState) yield child;\n\t\t\t} else yield child;\n\t\t}\n\t}\n\t/**\n\t* Filters only the suites that are part of this collection.\n\t*/\n\t*suites() {\n\t\tfor (const child of this) if (child.type === \"suite\") yield child;\n\t}\n\t/**\n\t* Filters all suites that are part of this collection and its children.\n\t*/\n\t*allSuites() {\n\t\tfor (const child of this) if (child.type === \"suite\") yield child, yield* child.children.allSuites();\n\t}\n\t*[Symbol.iterator]() {\n\t\tfor (const task of this.#task.tasks) yield getReportedTask(this.#project, task);\n\t}\n}\nclass SuiteImplementation extends ReportedTaskImplementation {\n\t/**\n\t* Collection of suites and tests that are part of this suite.\n\t*/\n\tchildren;\n\t/** @internal */\n\tconstructor(task, project) {\n\t\tsuper(task, project), this.children = new TestCollection(task, project);\n\t}\n\t/**\n\t* Errors that happened outside of the test run during collection, like syntax errors.\n\t*/\n\terrors() {\n\t\treturn this.task.result?.errors || [];\n\t}\n}\nclass TestSuite extends SuiteImplementation {\n\t#fullName;\n\ttype = \"suite\";\n\t/**\n\t* Name of the test or the suite.\n\t*/\n\tname;\n\t/**\n\t* Direct reference to the test module where the test or suite is defined.\n\t*/\n\tmodule;\n\t/**\n\t* Parent suite. If suite was called directly inside the module, the parent will be the module itself.\n\t*/\n\tparent;\n\t/**\n\t* Options that suite was initiated with.\n\t*/\n\toptions;\n\t/** @internal */\n\tconstructor(task, project) {\n\t\tsuper(task, project), this.name = task.name, this.module = getReportedTask(project, task.file);\n\t\tconst suite = this.task.suite;\n\t\tif (suite) this.parent = getReportedTask(project, suite);\n\t\telse this.parent = this.module;\n\t\tthis.options = buildOptions(task);\n\t}\n\t/**\n\t* Checks the running state of the suite.\n\t*/\n\tstate() {\n\t\treturn getSuiteState(this.task);\n\t}\n\t/**\n\t* Full name of the suite including all parent suites separated with `>`.\n\t*/\n\tget fullName() {\n\t\tif (this.#fullName === void 0) if (this.parent.type !== \"module\") this.#fullName = `${this.parent.fullName} > ${this.name}`;\n\t\telse this.#fullName = this.name;\n\t\treturn this.#fullName;\n\t}\n}\nclass TestModule extends SuiteImplementation {\n\ttype = \"module\";\n\t/**\n\t* This is usually an absolute UNIX file path.\n\t* It can be a virtual ID if the file is not on the disk.\n\t* This value corresponds to the ID in the Vite's module graph.\n\t*/\n\tmoduleId;\n\t/**\n\t* Module id relative to the project. This is the same as `task.name`.\n\t*/\n\trelativeModuleId;\n\t/** @internal */\n\tconstructor(task, project) {\n\t\tsuper(task, project), this.moduleId = task.filepath, this.relativeModuleId = task.name;\n\t}\n\t/**\n\t* Checks the running state of the test file.\n\t*/\n\tstate() {\n\t\treturn this.task.result?.state === \"queued\" ? \"queued\" : getSuiteState(this.task);\n\t}\n\t/**\n\t* Useful information about the module like duration, memory usage, etc.\n\t* If the module was not executed yet, all diagnostic values will return `0`.\n\t*/\n\tdiagnostic() {\n\t\tconst setupDuration = this.task.setupDuration || 0, collectDuration = this.task.collectDuration || 0, prepareDuration = this.task.prepareDuration || 0, environmentSetupDuration = this.task.environmentLoad || 0, duration = this.task.result?.duration || 0, heap = this.task.result?.heap, importDurations = this.task.importDurations ?? {};\n\t\treturn {\n\t\t\tenvironmentSetupDuration,\n\t\t\tprepareDuration,\n\t\t\tcollectDuration,\n\t\t\tsetupDuration,\n\t\t\tduration,\n\t\t\theap,\n\t\t\timportDurations\n\t\t};\n\t}\n}\nfunction buildOptions(task) {\n\treturn {\n\t\teach: task.each,\n\t\tfails: task.type === \"test\" && task.fails,\n\t\tconcurrent: task.concurrent,\n\t\tshuffle: task.shuffle,\n\t\tretry: task.retry,\n\t\trepeats: task.repeats,\n\t\tmode: task.mode\n\t};\n}\nfunction storeTask(project, runnerTask, reportedTask) {\n\tproject.vitest.state.reportedTasksMap.set(runnerTask, reportedTask);\n}\nfunction getReportedTask(project, runnerTask) {\n\tconst reportedTask = project.vitest.state.getReportedEntity(runnerTask);\n\tif (!reportedTask) throw new Error(`Task instance was not found for ${runnerTask.type} \"${runnerTask.name}\"`);\n\treturn reportedTask;\n}\nfunction getSuiteState(task) {\n\tconst mode = task.mode, state = task.result?.state;\n\tif (mode === \"skip\" || mode === \"todo\" || state === \"skip\" || state === \"todo\") return \"skipped\";\n\tif (state == null || state === \"run\" || state === \"only\") return \"pending\";\n\tif (state === \"fail\") return \"failed\";\n\tif (state === \"pass\") return \"passed\";\n\tthrow new Error(`Unknown suite state: ${state}`);\n}\nfunction experimental_getRunnerTask(entity) {\n\treturn entity.task;\n}\n\nfunction isAggregateError(err) {\n\treturn typeof AggregateError !== \"undefined\" && err instanceof AggregateError ? true : err instanceof Error && \"errors\" in err;\n}\nclass StateManager {\n\tfilesMap = /* @__PURE__ */ new Map();\n\tpathsSet = /* @__PURE__ */ new Set();\n\tidMap = /* @__PURE__ */ new Map();\n\ttaskFileMap = /* @__PURE__ */ new WeakMap();\n\terrorsSet = /* @__PURE__ */ new Set();\n\treportedTasksMap = /* @__PURE__ */ new WeakMap();\n\tblobs;\n\ttransformTime = 0;\n\tmetadata = {};\n\tonUnhandledError;\n\t/** @internal */\n\t_data = {\n\t\tbrowserLastPort: defaultBrowserPort,\n\t\ttimeoutIncreased: false\n\t};\n\tconstructor(options) {\n\t\tthis.onUnhandledError = options.onUnhandledError;\n\t}\n\tcatchError(error, type) {\n\t\tif (isAggregateError(error)) return error.errors.forEach((error) => this.catchError(error, type));\n\t\tif (typeof error === \"object\" && error !== null) error.type = type;\n\t\telse error = {\n\t\t\ttype,\n\t\t\tmessage: error\n\t\t};\n\t\tconst _error = error;\n\t\tif (_error && typeof _error === \"object\" && _error.code === \"VITEST_PENDING\") {\n\t\t\tconst task = this.idMap.get(_error.taskId);\n\t\t\tif (task) task.mode = \"skip\", task.result ??= { state: \"skip\" }, task.result.state = \"skip\", task.result.note = _error.note;\n\t\t\treturn;\n\t\t}\n\t\tif (!this.onUnhandledError || this.onUnhandledError(error) !== false) this.errorsSet.add(error);\n\t}\n\tclearErrors() {\n\t\tthis.errorsSet.clear();\n\t}\n\tgetUnhandledErrors() {\n\t\treturn Array.from(this.errorsSet.values());\n\t}\n\tgetPaths() {\n\t\treturn Array.from(this.pathsSet);\n\t}\n\t/**\n\t* Return files that were running or collected.\n\t*/\n\tgetFiles(keys) {\n\t\treturn keys ? keys.map((key) => this.filesMap.get(key)).flat().filter((file) => file && !file.local) : Array.from(this.filesMap.values()).flat().filter((file) => !file.local).sort((f1, f2) => {\n\t\t\treturn f1.meta?.typecheck && f2.meta?.typecheck ? 0 : f1.meta?.typecheck ? -1 : 1;\n\t\t});\n\t}\n\tgetTestModules(keys) {\n\t\treturn this.getFiles(keys).map((file) => this.getReportedEntity(file));\n\t}\n\tgetFilepaths() {\n\t\treturn Array.from(this.filesMap.keys());\n\t}\n\tgetFailedFilepaths() {\n\t\treturn this.getFiles().filter((i) => i.result?.state === \"fail\").map((i) => i.filepath);\n\t}\n\tcollectPaths(paths = []) {\n\t\tpaths.forEach((path) => {\n\t\t\tthis.pathsSet.add(path);\n\t\t});\n\t}\n\tcollectFiles(project, files = []) {\n\t\tfiles.forEach((file) => {\n\t\t\tconst existing = this.filesMap.get(file.filepath) || [], otherFiles = existing.filter((i) => i.projectName !== file.projectName || i.meta.typecheck !== file.meta.typecheck), currentFile = existing.find((i) => i.projectName === file.projectName);\n\t\t\t// keep logs for the previous file because it should always be initiated before the collections phase\n\t\t\t// which means that all logs are collected during the collection and not inside tests\n\t\t\tif (currentFile) file.logs = currentFile.logs;\n\t\t\totherFiles.push(file), this.filesMap.set(file.filepath, otherFiles), this.updateId(file, project);\n\t\t});\n\t}\n\tclearFiles(project, paths = []) {\n\t\tpaths.forEach((path) => {\n\t\t\tconst files = this.filesMap.get(path), fileTask = createFileTask$1(path, project.config.root, project.config.name);\n\t\t\tif (fileTask.local = true, TestModule.register(fileTask, project), this.idMap.set(fileTask.id, fileTask), !files) {\n\t\t\t\tthis.filesMap.set(path, [fileTask]);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst filtered = files.filter((file) => file.projectName !== project.config.name);\n\t\t\t// always keep a File task, so we can associate logs with it\n\t\t\tif (!filtered.length) this.filesMap.set(path, [fileTask]);\n\t\t\telse this.filesMap.set(path, [...filtered, fileTask]);\n\t\t});\n\t}\n\tupdateId(task, project) {\n\t\tif (this.idMap.get(task.id) !== task) {\n\t\t\tif (task.type === \"suite\" && \"filepath\" in task) TestModule.register(task, project);\n\t\t\telse if (task.type === \"suite\") TestSuite.register(task, project);\n\t\t\telse TestCase.register(task, project);\n\t\t\tif (this.idMap.set(task.id, task), task.type === \"suite\") task.tasks.forEach((task) => {\n\t\t\t\tthis.updateId(task, project);\n\t\t\t});\n\t\t}\n\t}\n\tgetReportedEntity(task) {\n\t\treturn this.reportedTasksMap.get(task);\n\t}\n\tgetReportedEntityById(taskId) {\n\t\tconst task = this.idMap.get(taskId);\n\t\treturn task ? this.reportedTasksMap.get(task) : void 0;\n\t}\n\tupdateTasks(packs) {\n\t\tfor (const [id, result, meta] of packs) {\n\t\t\tconst task = this.idMap.get(id);\n\t\t\tif (task) {\n\t\t\t\t// skipped with new PendingError\n\t\t\t\tif (task.result = result, task.meta = meta, result?.state === \"skip\") task.mode = \"skip\";\n\t\t\t}\n\t\t}\n\t}\n\tupdateUserLog(log) {\n\t\tconst task = log.taskId && this.idMap.get(log.taskId);\n\t\tif (task) {\n\t\t\tif (!task.logs) task.logs = [];\n\t\t\ttask.logs.push(log);\n\t\t}\n\t}\n\tgetCountOfFailedTests() {\n\t\treturn Array.from(this.idMap.values()).filter((t) => t.result?.state === \"fail\").length;\n\t}\n\tcancelFiles(files, project) {\n\t\t// if we don't filter existing modules, they will be overriden by `collectFiles`\n\t\tconst nonRegisteredFiles = files.filter(({ filepath }) => {\n\t\t\tconst relativePath = relative(project.config.root, filepath), id = generateFileHash(relativePath, project.name);\n\t\t\treturn !this.idMap.has(id);\n\t\t});\n\t\tthis.collectFiles(project, nonRegisteredFiles.map((file) => createFileTask$1(file.filepath, project.config.root, project.config.name)));\n\t}\n}\n\nconst types = {\n    'application/andrew-inset': ['ez'],\n    'application/appinstaller': ['appinstaller'],\n    'application/applixware': ['aw'],\n    'application/appx': ['appx'],\n    'application/appxbundle': ['appxbundle'],\n    'application/atom+xml': ['atom'],\n    'application/atomcat+xml': ['atomcat'],\n    'application/atomdeleted+xml': ['atomdeleted'],\n    'application/atomsvc+xml': ['atomsvc'],\n    'application/atsc-dwd+xml': ['dwd'],\n    'application/atsc-held+xml': ['held'],\n    'application/atsc-rsat+xml': ['rsat'],\n    'application/automationml-aml+xml': ['aml'],\n    'application/automationml-amlx+zip': ['amlx'],\n    'application/bdoc': ['bdoc'],\n    'application/calendar+xml': ['xcs'],\n    'application/ccxml+xml': ['ccxml'],\n    'application/cdfx+xml': ['cdfx'],\n    'application/cdmi-capability': ['cdmia'],\n    'application/cdmi-container': ['cdmic'],\n    'application/cdmi-domain': ['cdmid'],\n    'application/cdmi-object': ['cdmio'],\n    'application/cdmi-queue': ['cdmiq'],\n    'application/cpl+xml': ['cpl'],\n    'application/cu-seeme': ['cu'],\n    'application/cwl': ['cwl'],\n    'application/dash+xml': ['mpd'],\n    'application/dash-patch+xml': ['mpp'],\n    'application/davmount+xml': ['davmount'],\n    'application/dicom': ['dcm'],\n    'application/docbook+xml': ['dbk'],\n    'application/dssc+der': ['dssc'],\n    'application/dssc+xml': ['xdssc'],\n    'application/ecmascript': ['ecma'],\n    'application/emma+xml': ['emma'],\n    'application/emotionml+xml': ['emotionml'],\n    'application/epub+zip': ['epub'],\n    'application/exi': ['exi'],\n    'application/express': ['exp'],\n    'application/fdf': ['fdf'],\n    'application/fdt+xml': ['fdt'],\n    'application/font-tdpfr': ['pfr'],\n    'application/geo+json': ['geojson'],\n    'application/gml+xml': ['gml'],\n    'application/gpx+xml': ['gpx'],\n    'application/gxf': ['gxf'],\n    'application/gzip': ['gz'],\n    'application/hjson': ['hjson'],\n    'application/hyperstudio': ['stk'],\n    'application/inkml+xml': ['ink', 'inkml'],\n    'application/ipfix': ['ipfix'],\n    'application/its+xml': ['its'],\n    'application/java-archive': ['jar', 'war', 'ear'],\n    'application/java-serialized-object': ['ser'],\n    'application/java-vm': ['class'],\n    'application/javascript': ['*js'],\n    'application/json': ['json', 'map'],\n    'application/json5': ['json5'],\n    'application/jsonml+json': ['jsonml'],\n    'application/ld+json': ['jsonld'],\n    'application/lgr+xml': ['lgr'],\n    'application/lost+xml': ['lostxml'],\n    'application/mac-binhex40': ['hqx'],\n    'application/mac-compactpro': ['cpt'],\n    'application/mads+xml': ['mads'],\n    'application/manifest+json': ['webmanifest'],\n    'application/marc': ['mrc'],\n    'application/marcxml+xml': ['mrcx'],\n    'application/mathematica': ['ma', 'nb', 'mb'],\n    'application/mathml+xml': ['mathml'],\n    'application/mbox': ['mbox'],\n    'application/media-policy-dataset+xml': ['mpf'],\n    'application/mediaservercontrol+xml': ['mscml'],\n    'application/metalink+xml': ['metalink'],\n    'application/metalink4+xml': ['meta4'],\n    'application/mets+xml': ['mets'],\n    'application/mmt-aei+xml': ['maei'],\n    'application/mmt-usd+xml': ['musd'],\n    'application/mods+xml': ['mods'],\n    'application/mp21': ['m21', 'mp21'],\n    'application/mp4': ['*mp4', '*mpg4', 'mp4s', 'm4p'],\n    'application/msix': ['msix'],\n    'application/msixbundle': ['msixbundle'],\n    'application/msword': ['doc', 'dot'],\n    'application/mxf': ['mxf'],\n    'application/n-quads': ['nq'],\n    'application/n-triples': ['nt'],\n    'application/node': ['cjs'],\n    'application/octet-stream': [\n        'bin',\n        'dms',\n        'lrf',\n        'mar',\n        'so',\n        'dist',\n        'distz',\n        'pkg',\n        'bpk',\n        'dump',\n        'elc',\n        'deploy',\n        'exe',\n        'dll',\n        'deb',\n        'dmg',\n        'iso',\n        'img',\n        'msi',\n        'msp',\n        'msm',\n        'buffer',\n    ],\n    'application/oda': ['oda'],\n    'application/oebps-package+xml': ['opf'],\n    'application/ogg': ['ogx'],\n    'application/omdoc+xml': ['omdoc'],\n    'application/onenote': [\n        'onetoc',\n        'onetoc2',\n        'onetmp',\n        'onepkg',\n        'one',\n        'onea',\n    ],\n    'application/oxps': ['oxps'],\n    'application/p2p-overlay+xml': ['relo'],\n    'application/patch-ops-error+xml': ['xer'],\n    'application/pdf': ['pdf'],\n    'application/pgp-encrypted': ['pgp'],\n    'application/pgp-keys': ['asc'],\n    'application/pgp-signature': ['sig', '*asc'],\n    'application/pics-rules': ['prf'],\n    'application/pkcs10': ['p10'],\n    'application/pkcs7-mime': ['p7m', 'p7c'],\n    'application/pkcs7-signature': ['p7s'],\n    'application/pkcs8': ['p8'],\n    'application/pkix-attr-cert': ['ac'],\n    'application/pkix-cert': ['cer'],\n    'application/pkix-crl': ['crl'],\n    'application/pkix-pkipath': ['pkipath'],\n    'application/pkixcmp': ['pki'],\n    'application/pls+xml': ['pls'],\n    'application/postscript': ['ai', 'eps', 'ps'],\n    'application/provenance+xml': ['provx'],\n    'application/pskc+xml': ['pskcxml'],\n    'application/raml+yaml': ['raml'],\n    'application/rdf+xml': ['rdf', 'owl'],\n    'application/reginfo+xml': ['rif'],\n    'application/relax-ng-compact-syntax': ['rnc'],\n    'application/resource-lists+xml': ['rl'],\n    'application/resource-lists-diff+xml': ['rld'],\n    'application/rls-services+xml': ['rs'],\n    'application/route-apd+xml': ['rapd'],\n    'application/route-s-tsid+xml': ['sls'],\n    'application/route-usd+xml': ['rusd'],\n    'application/rpki-ghostbusters': ['gbr'],\n    'application/rpki-manifest': ['mft'],\n    'application/rpki-roa': ['roa'],\n    'application/rsd+xml': ['rsd'],\n    'application/rss+xml': ['rss'],\n    'application/rtf': ['rtf'],\n    'application/sbml+xml': ['sbml'],\n    'application/scvp-cv-request': ['scq'],\n    'application/scvp-cv-response': ['scs'],\n    'application/scvp-vp-request': ['spq'],\n    'application/scvp-vp-response': ['spp'],\n    'application/sdp': ['sdp'],\n    'application/senml+xml': ['senmlx'],\n    'application/sensml+xml': ['sensmlx'],\n    'application/set-payment-initiation': ['setpay'],\n    'application/set-registration-initiation': ['setreg'],\n    'application/shf+xml': ['shf'],\n    'application/sieve': ['siv', 'sieve'],\n    'application/smil+xml': ['smi', 'smil'],\n    'application/sparql-query': ['rq'],\n    'application/sparql-results+xml': ['srx'],\n    'application/sql': ['sql'],\n    'application/srgs': ['gram'],\n    'application/srgs+xml': ['grxml'],\n    'application/sru+xml': ['sru'],\n    'application/ssdl+xml': ['ssdl'],\n    'application/ssml+xml': ['ssml'],\n    'application/swid+xml': ['swidtag'],\n    'application/tei+xml': ['tei', 'teicorpus'],\n    'application/thraud+xml': ['tfi'],\n    'application/timestamped-data': ['tsd'],\n    'application/toml': ['toml'],\n    'application/trig': ['trig'],\n    'application/ttml+xml': ['ttml'],\n    'application/ubjson': ['ubj'],\n    'application/urc-ressheet+xml': ['rsheet'],\n    'application/urc-targetdesc+xml': ['td'],\n    'application/voicexml+xml': ['vxml'],\n    'application/wasm': ['wasm'],\n    'application/watcherinfo+xml': ['wif'],\n    'application/widget': ['wgt'],\n    'application/winhlp': ['hlp'],\n    'application/wsdl+xml': ['wsdl'],\n    'application/wspolicy+xml': ['wspolicy'],\n    'application/xaml+xml': ['xaml'],\n    'application/xcap-att+xml': ['xav'],\n    'application/xcap-caps+xml': ['xca'],\n    'application/xcap-diff+xml': ['xdf'],\n    'application/xcap-el+xml': ['xel'],\n    'application/xcap-ns+xml': ['xns'],\n    'application/xenc+xml': ['xenc'],\n    'application/xfdf': ['xfdf'],\n    'application/xhtml+xml': ['xhtml', 'xht'],\n    'application/xliff+xml': ['xlf'],\n    'application/xml': ['xml', 'xsl', 'xsd', 'rng'],\n    'application/xml-dtd': ['dtd'],\n    'application/xop+xml': ['xop'],\n    'application/xproc+xml': ['xpl'],\n    'application/xslt+xml': ['*xsl', 'xslt'],\n    'application/xspf+xml': ['xspf'],\n    'application/xv+xml': ['mxml', 'xhvml', 'xvml', 'xvm'],\n    'application/yang': ['yang'],\n    'application/yin+xml': ['yin'],\n    'application/zip': ['zip'],\n    'application/zip+dotlottie': ['lottie'],\n    'audio/3gpp': ['*3gpp'],\n    'audio/aac': ['adts', 'aac'],\n    'audio/adpcm': ['adp'],\n    'audio/amr': ['amr'],\n    'audio/basic': ['au', 'snd'],\n    'audio/midi': ['mid', 'midi', 'kar', 'rmi'],\n    'audio/mobile-xmf': ['mxmf'],\n    'audio/mp3': ['*mp3'],\n    'audio/mp4': ['m4a', 'mp4a', 'm4b'],\n    'audio/mpeg': ['mpga', 'mp2', 'mp2a', 'mp3', 'm2a', 'm3a'],\n    'audio/ogg': ['oga', 'ogg', 'spx', 'opus'],\n    'audio/s3m': ['s3m'],\n    'audio/silk': ['sil'],\n    'audio/wav': ['wav'],\n    'audio/wave': ['*wav'],\n    'audio/webm': ['weba'],\n    'audio/xm': ['xm'],\n    'font/collection': ['ttc'],\n    'font/otf': ['otf'],\n    'font/ttf': ['ttf'],\n    'font/woff': ['woff'],\n    'font/woff2': ['woff2'],\n    'image/aces': ['exr'],\n    'image/apng': ['apng'],\n    'image/avci': ['avci'],\n    'image/avcs': ['avcs'],\n    'image/avif': ['avif'],\n    'image/bmp': ['bmp', 'dib'],\n    'image/cgm': ['cgm'],\n    'image/dicom-rle': ['drle'],\n    'image/dpx': ['dpx'],\n    'image/emf': ['emf'],\n    'image/fits': ['fits'],\n    'image/g3fax': ['g3'],\n    'image/gif': ['gif'],\n    'image/heic': ['heic'],\n    'image/heic-sequence': ['heics'],\n    'image/heif': ['heif'],\n    'image/heif-sequence': ['heifs'],\n    'image/hej2k': ['hej2'],\n    'image/ief': ['ief'],\n    'image/jaii': ['jaii'],\n    'image/jais': ['jais'],\n    'image/jls': ['jls'],\n    'image/jp2': ['jp2', 'jpg2'],\n    'image/jpeg': ['jpg', 'jpeg', 'jpe'],\n    'image/jph': ['jph'],\n    'image/jphc': ['jhc'],\n    'image/jpm': ['jpm', 'jpgm'],\n    'image/jpx': ['jpx', 'jpf'],\n    'image/jxl': ['jxl'],\n    'image/jxr': ['jxr'],\n    'image/jxra': ['jxra'],\n    'image/jxrs': ['jxrs'],\n    'image/jxs': ['jxs'],\n    'image/jxsc': ['jxsc'],\n    'image/jxsi': ['jxsi'],\n    'image/jxss': ['jxss'],\n    'image/ktx': ['ktx'],\n    'image/ktx2': ['ktx2'],\n    'image/pjpeg': ['jfif'],\n    'image/png': ['png'],\n    'image/sgi': ['sgi'],\n    'image/svg+xml': ['svg', 'svgz'],\n    'image/t38': ['t38'],\n    'image/tiff': ['tif', 'tiff'],\n    'image/tiff-fx': ['tfx'],\n    'image/webp': ['webp'],\n    'image/wmf': ['wmf'],\n    'message/disposition-notification': ['disposition-notification'],\n    'message/global': ['u8msg'],\n    'message/global-delivery-status': ['u8dsn'],\n    'message/global-disposition-notification': ['u8mdn'],\n    'message/global-headers': ['u8hdr'],\n    'message/rfc822': ['eml', 'mime', 'mht', 'mhtml'],\n    'model/3mf': ['3mf'],\n    'model/gltf+json': ['gltf'],\n    'model/gltf-binary': ['glb'],\n    'model/iges': ['igs', 'iges'],\n    'model/jt': ['jt'],\n    'model/mesh': ['msh', 'mesh', 'silo'],\n    'model/mtl': ['mtl'],\n    'model/obj': ['obj'],\n    'model/prc': ['prc'],\n    'model/step': ['step', 'stp', 'stpnc', 'p21', '210'],\n    'model/step+xml': ['stpx'],\n    'model/step+zip': ['stpz'],\n    'model/step-xml+zip': ['stpxz'],\n    'model/stl': ['stl'],\n    'model/u3d': ['u3d'],\n    'model/vrml': ['wrl', 'vrml'],\n    'model/x3d+binary': ['*x3db', 'x3dbz'],\n    'model/x3d+fastinfoset': ['x3db'],\n    'model/x3d+vrml': ['*x3dv', 'x3dvz'],\n    'model/x3d+xml': ['x3d', 'x3dz'],\n    'model/x3d-vrml': ['x3dv'],\n    'text/cache-manifest': ['appcache', 'manifest'],\n    'text/calendar': ['ics', 'ifb'],\n    'text/coffeescript': ['coffee', 'litcoffee'],\n    'text/css': ['css'],\n    'text/csv': ['csv'],\n    'text/html': ['html', 'htm', 'shtml'],\n    'text/jade': ['jade'],\n    'text/javascript': ['js', 'mjs'],\n    'text/jsx': ['jsx'],\n    'text/less': ['less'],\n    'text/markdown': ['md', 'markdown'],\n    'text/mathml': ['mml'],\n    'text/mdx': ['mdx'],\n    'text/n3': ['n3'],\n    'text/plain': ['txt', 'text', 'conf', 'def', 'list', 'log', 'in', 'ini'],\n    'text/richtext': ['rtx'],\n    'text/rtf': ['*rtf'],\n    'text/sgml': ['sgml', 'sgm'],\n    'text/shex': ['shex'],\n    'text/slim': ['slim', 'slm'],\n    'text/spdx': ['spdx'],\n    'text/stylus': ['stylus', 'styl'],\n    'text/tab-separated-values': ['tsv'],\n    'text/troff': ['t', 'tr', 'roff', 'man', 'me', 'ms'],\n    'text/turtle': ['ttl'],\n    'text/uri-list': ['uri', 'uris', 'urls'],\n    'text/vcard': ['vcard'],\n    'text/vtt': ['vtt'],\n    'text/wgsl': ['wgsl'],\n    'text/xml': ['*xml'],\n    'text/yaml': ['yaml', 'yml'],\n    'video/3gpp': ['3gp', '3gpp'],\n    'video/3gpp2': ['3g2'],\n    'video/h261': ['h261'],\n    'video/h263': ['h263'],\n    'video/h264': ['h264'],\n    'video/iso.segment': ['m4s'],\n    'video/jpeg': ['jpgv'],\n    'video/jpm': ['*jpm', '*jpgm'],\n    'video/mj2': ['mj2', 'mjp2'],\n    'video/mp2t': ['ts', 'm2t', 'm2ts', 'mts'],\n    'video/mp4': ['mp4', 'mp4v', 'mpg4'],\n    'video/mpeg': ['mpeg', 'mpg', 'mpe', 'm1v', 'm2v'],\n    'video/ogg': ['ogv'],\n    'video/quicktime': ['qt', 'mov'],\n    'video/webm': ['webm'],\n};\nObject.freeze(types);\n\nvar __classPrivateFieldGet = ({} && {}.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _Mime_extensionToType, _Mime_typeToExtension, _Mime_typeToExtensions;\nclass Mime {\n    constructor(...args) {\n        _Mime_extensionToType.set(this, new Map());\n        _Mime_typeToExtension.set(this, new Map());\n        _Mime_typeToExtensions.set(this, new Map());\n        for (const arg of args) {\n            this.define(arg);\n        }\n    }\n    define(typeMap, force = false) {\n        for (let [type, extensions] of Object.entries(typeMap)) {\n            type = type.toLowerCase();\n            extensions = extensions.map((ext) => ext.toLowerCase());\n            if (!__classPrivateFieldGet(this, _Mime_typeToExtensions, \"f\").has(type)) {\n                __classPrivateFieldGet(this, _Mime_typeToExtensions, \"f\").set(type, new Set());\n            }\n            const allExtensions = __classPrivateFieldGet(this, _Mime_typeToExtensions, \"f\").get(type);\n            let first = true;\n            for (let extension of extensions) {\n                const starred = extension.startsWith('*');\n                extension = starred ? extension.slice(1) : extension;\n                allExtensions?.add(extension);\n                if (first) {\n                    __classPrivateFieldGet(this, _Mime_typeToExtension, \"f\").set(type, extension);\n                }\n                first = false;\n                if (starred)\n                    continue;\n                const currentType = __classPrivateFieldGet(this, _Mime_extensionToType, \"f\").get(extension);\n                if (currentType && currentType != type && !force) {\n                    throw new Error(`\"${type} -> ${extension}\" conflicts with \"${currentType} -> ${extension}\". Pass \\`force=true\\` to override this definition.`);\n                }\n                __classPrivateFieldGet(this, _Mime_extensionToType, \"f\").set(extension, type);\n            }\n        }\n        return this;\n    }\n    getType(path) {\n        if (typeof path !== 'string')\n            return null;\n        const last = path.replace(/^.*[/\\\\]/s, '').toLowerCase();\n        const ext = last.replace(/^.*\\./s, '').toLowerCase();\n        const hasPath = last.length < path.length;\n        const hasDot = ext.length < last.length - 1;\n        if (!hasDot && hasPath)\n            return null;\n        return __classPrivateFieldGet(this, _Mime_extensionToType, \"f\").get(ext) ?? null;\n    }\n    getExtension(type) {\n        if (typeof type !== 'string')\n            return null;\n        type = type?.split?.(';')[0];\n        return ((type && __classPrivateFieldGet(this, _Mime_typeToExtension, \"f\").get(type.trim().toLowerCase())) ?? null);\n    }\n    getAllExtensions(type) {\n        if (typeof type !== 'string')\n            return null;\n        return __classPrivateFieldGet(this, _Mime_typeToExtensions, \"f\").get(type.toLowerCase()) ?? null;\n    }\n    _freeze() {\n        this.define = () => {\n            throw new Error('define() not allowed for built-in Mime objects. See https://github.com/broofa/mime/blob/main/README.md#custom-mime-instances');\n        };\n        Object.freeze(this);\n        for (const extensions of __classPrivateFieldGet(this, _Mime_typeToExtensions, \"f\").values()) {\n            Object.freeze(extensions);\n        }\n        return this;\n    }\n    _getTestState() {\n        return {\n            types: __classPrivateFieldGet(this, _Mime_extensionToType, \"f\"),\n            extensions: __classPrivateFieldGet(this, _Mime_typeToExtension, \"f\"),\n        };\n    }\n}\n_Mime_extensionToType = new WeakMap(), _Mime_typeToExtension = new WeakMap(), _Mime_typeToExtensions = new WeakMap();\n\nvar mime = new Mime(types)._freeze();\n\nclass TestRun {\n\tconstructor(vitest) {\n\t\tthis.vitest = vitest;\n\t}\n\tasync start(specifications) {\n\t\tconst filepaths = specifications.map((spec) => spec.moduleId);\n\t\tthis.vitest.state.collectPaths(filepaths), await this.vitest.report(\"onTestRunStart\", [...specifications]);\n\t}\n\tasync enqueued(project, file) {\n\t\tthis.vitest.state.collectFiles(project, [file]);\n\t\tconst testModule = this.vitest.state.getReportedEntity(file);\n\t\tawait this.vitest.report(\"onTestModuleQueued\", testModule);\n\t}\n\tasync collected(project, files) {\n\t\tthis.vitest.state.collectFiles(project, files), await Promise.all(files.map((file) => {\n\t\t\tconst testModule = this.vitest.state.getReportedEntity(file);\n\t\t\treturn this.vitest.report(\"onTestModuleCollected\", testModule);\n\t\t}));\n\t}\n\tasync log(log) {\n\t\tthis.vitest.state.updateUserLog(log), await this.vitest.report(\"onUserConsoleLog\", log);\n\t}\n\tasync annotate(testId, annotation) {\n\t\tconst task = this.vitest.state.idMap.get(testId), entity = task && this.vitest.state.getReportedEntity(task);\n\t\treturn assert$1(task && entity, `Entity must be found for task ${task?.name || testId}`), assert$1(entity.type === \"test\", `Annotation can only be added to a test, instead got ${entity.type}`), await this.resolveTestAttachment(entity, annotation), entity.task.annotations.push(annotation), await this.vitest.report(\"onTestCaseAnnotate\", entity, annotation), annotation;\n\t}\n\tasync updated(update, events) {\n\t\tthis.syncUpdateStacks(update), this.vitest.state.updateTasks(update);\n\t\tfor (const [id, event, data] of events) await this.reportEvent(id, event, data).catch((error) => {\n\t\t\tthis.vitest.state.catchError(serializeValue(error), \"Unhandled Reporter Error\");\n\t\t});\n\t\t// TODO: what is the order or reports here?\n\t\t// \"onTaskUpdate\" in parallel with others or before all or after all?\n\t\t// TODO: error handling - what happens if custom reporter throws an error?\n\t\tawait this.vitest.report(\"onTaskUpdate\", update, events);\n\t}\n\tasync end(specifications, errors, coverage) {\n\t\tif (coverage) await this.vitest.report(\"onCoverage\", coverage);\n\t\t// specification won't have the File task if they were filtered by the --shard command\n\t\tconst modules = specifications.map((spec) => spec.testModule).filter((s) => s != null), state = this.vitest.isCancelling ? \"interrupted\" : this.hasFailed(modules) ? \"failed\" : \"passed\";\n\t\tif (state !== \"passed\") process.exitCode = 1;\n\t\tfor (const project in await this.vitest.report(\"onTestRunEnd\", modules, [...errors], state), this.vitest.state.metadata) {\n\t\t\tconst meta = this.vitest.state.metadata[project];\n\t\t\tif (!meta?.dumpDir) continue;\n\t\t\tconst path = resolve(meta.dumpDir, \"vitest-metadata.json\");\n\t\t\tmeta.outline = {\n\t\t\t\texternalized: Object.keys(meta.externalized).length,\n\t\t\t\tinlined: Object.keys(meta.tmps).length\n\t\t\t}, await writeFile(path, JSON.stringify(meta, null, 2), \"utf-8\"), this.vitest.logger.log(`Metadata written to ${path}`);\n\t\t}\n\t}\n\thasFailed(modules) {\n\t\treturn modules.length ? modules.some((m) => !m.ok()) : !this.vitest.config.passWithNoTests;\n\t}\n\t// make sure the error always has a \"stacks\" property\n\tsyncUpdateStacks(update) {\n\t\tupdate.forEach(([taskId, result]) => {\n\t\t\tconst task = this.vitest.state.idMap.get(taskId), isBrowser = task && task.file.pool === \"browser\";\n\t\t\tresult?.errors?.forEach((error) => {\n\t\t\t\tif (isPrimitive(error)) return;\n\t\t\t\tconst project = this.vitest.getProjectByName(task.file.projectName || \"\");\n\t\t\t\tif (isBrowser) error.stacks = project.browser?.parseErrorStacktrace(error, { frameFilter: project.config.onStackTrace }) || [];\n\t\t\t\telse error.stacks = parseErrorStacktrace(error, { frameFilter: project.config.onStackTrace });\n\t\t\t});\n\t\t});\n\t}\n\tasync reportEvent(id, event, data) {\n\t\tconst task = this.vitest.state.idMap.get(id), entity = task && this.vitest.state.getReportedEntity(task);\n\t\tif (assert$1(task && entity, `Entity must be found for task ${task?.name || id}`), event === \"suite-prepare\" && entity.type === \"suite\") return await this.vitest.report(\"onTestSuiteReady\", entity);\n\t\tif (event === \"suite-prepare\" && entity.type === \"module\") return await this.vitest.report(\"onTestModuleStart\", entity);\n\t\tif (event === \"suite-finished\") {\n\t\t\tif (assert$1(entity.type === \"suite\" || entity.type === \"module\", \"Entity type must be suite or module\"), entity.state() === \"skipped\")\n // everything inside suite or a module is skipped,\n\t\t\t// so we won't get any children events\n\t\t\t// we need to report everything manually\n\t\t\tawait this.reportChildren(entity.children);\n\t\t\tif (entity.type === \"module\") await this.vitest.report(\"onTestModuleEnd\", entity);\n\t\t\telse await this.vitest.report(\"onTestSuiteResult\", entity);\n\t\t\treturn;\n\t\t}\n\t\tif (event === \"test-prepare\" && entity.type === \"test\") return await this.vitest.report(\"onTestCaseReady\", entity);\n\t\tif (event === \"test-finished\" && entity.type === \"test\") return await this.vitest.report(\"onTestCaseResult\", entity);\n\t\tif (event.startsWith(\"before-hook\") || event.startsWith(\"after-hook\")) {\n\t\t\tconst isBefore = event.startsWith(\"before-hook\"), hook = entity.type === \"test\" ? {\n\t\t\t\tname: isBefore ? \"beforeEach\" : \"afterEach\",\n\t\t\t\tentity\n\t\t\t} : {\n\t\t\t\tname: isBefore ? \"beforeAll\" : \"afterAll\",\n\t\t\t\tentity\n\t\t\t};\n\t\t\tif (event.endsWith(\"-start\")) await this.vitest.report(\"onHookStart\", hook);\n\t\t\telse await this.vitest.report(\"onHookEnd\", hook);\n\t\t\t// this can only happen in --merge-reports, and annotation is already resolved\n\t\t\tif (event === \"test-annotation\") {\n\t\t\t\tconst annotation = data?.annotation;\n\t\t\t\tassert$1(annotation && entity.type === \"test\"), await this.vitest.report(\"onTestCaseAnnotate\", entity, annotation);\n\t\t\t}\n\t\t}\n\t}\n\tasync resolveTestAttachment(test, annotation) {\n\t\tconst project = test.project, attachment = annotation.attachment;\n\t\tif (!attachment) return attachment;\n\t\tconst path = attachment.path;\n\t\tif (path && !path.startsWith(\"http://\") && !path.startsWith(\"https://\")) {\n\t\t\tconst currentPath = resolve(project.config.root, path), hash = createHash(\"sha1\").update(currentPath).digest(\"hex\"), newPath = resolve(project.config.attachmentsDir, `${sanitizeFilePath(annotation.message)}-${hash}${extname(currentPath)}`);\n\t\t\tif (!existsSync(project.config.attachmentsDir)) await mkdir(project.config.attachmentsDir, { recursive: true });\n\t\t\tawait copyFile(currentPath, newPath), attachment.path = newPath, attachment.contentType = (attachment.contentType ?? mime.getType(basename(currentPath))) || void 0;\n\t\t}\n\t\treturn attachment;\n\t}\n\tasync reportChildren(children) {\n\t\tfor (const child of children) if (child.type === \"test\") await this.vitest.report(\"onTestCaseReady\", child), await this.vitest.report(\"onTestCaseResult\", child);\n\t\telse await this.vitest.report(\"onTestSuiteReady\", child), await this.reportChildren(child.children), await this.vitest.report(\"onTestSuiteResult\", child);\n\t}\n}\nfunction sanitizeFilePath(s) {\n\t// eslint-disable-next-line no-control-regex\n\treturn s.replace(/[\\x00-\\x2C\\x2E\\x2F\\x3A-\\x40\\x5B-\\x60\\x7B-\\x7F]+/g, \"-\");\n}\n\nclass VitestWatcher {\n\t/**\n\t* Modules that will be invalidated on the next run.\n\t*/\n\tinvalidates = /* @__PURE__ */ new Set();\n\t/**\n\t* Test files that have changed and need to be rerun.\n\t*/\n\tchangedTests = /* @__PURE__ */ new Set();\n\t_onRerun = [];\n\tconstructor(vitest) {\n\t\tthis.vitest = vitest;\n\t}\n\t/**\n\t* Register a handler that will be called when test files need to be rerun.\n\t* The callback can receive several files in case the changed file is imported by several test files.\n\t* Several invocations of this method will add multiple handlers.\n\t* @internal\n\t*/\n\tonWatcherRerun(cb) {\n\t\treturn this._onRerun.push(cb), this;\n\t}\n\tunregisterWatcher = noop;\n\tregisterWatcher() {\n\t\tconst watcher = this.vitest.vite.watcher;\n\t\tif (this.vitest.config.forceRerunTriggers.length) watcher.add(this.vitest.config.forceRerunTriggers);\n\t\treturn watcher.on(\"change\", this.onFileChange), watcher.on(\"unlink\", this.onFileDelete), watcher.on(\"add\", this.onFileCreate), this.unregisterWatcher = () => {\n\t\t\twatcher.off(\"change\", this.onFileChange), watcher.off(\"unlink\", this.onFileDelete), watcher.off(\"add\", this.onFileCreate), this.unregisterWatcher = noop;\n\t\t}, this;\n\t}\n\tscheduleRerun(file) {\n\t\tthis._onRerun.forEach((cb) => cb(file));\n\t}\n\tgetTestFilesFromWatcherTrigger(id) {\n\t\tif (!this.vitest.config.watchTriggerPatterns) return false;\n\t\tlet triggered = false;\n\t\treturn this.vitest.config.watchTriggerPatterns.forEach((definition) => {\n\t\t\tconst exec = definition.pattern.exec(id);\n\t\t\tif (exec) {\n\t\t\t\tconst files = definition.testsToRun(id, exec);\n\t\t\t\tif (Array.isArray(files)) triggered = true, files.forEach((file) => this.changedTests.add(resolve(this.vitest.config.root, file)));\n\t\t\t\telse if (typeof files === \"string\") triggered = true, this.changedTests.add(resolve(this.vitest.config.root, files));\n\t\t\t}\n\t\t}), triggered;\n\t}\n\tonFileChange = (id) => {\n\t\tif (id = slash(id), this.vitest.logger.clearHighlightCache(id), this.vitest.invalidateFile(id), this.getTestFilesFromWatcherTrigger(id)) this.scheduleRerun(id);\n\t\telse if (this.handleFileChanged(id)) this.scheduleRerun(id);\n\t};\n\tonFileDelete = (id) => {\n\t\tif (id = slash(id), this.vitest.logger.clearHighlightCache(id), this.invalidates.add(id), this.vitest.state.filesMap.has(id)) this.vitest.projects.forEach((project) => project._removeCachedTestFile(id)), this.vitest.state.filesMap.delete(id), this.vitest.cache.results.removeFromCache(id), this.vitest.cache.stats.removeStats(id), this.changedTests.delete(id), this.vitest.report(\"onTestRemoved\", id);\n\t};\n\tonFileCreate = (id) => {\n\t\tif (id = slash(id), this.vitest.invalidateFile(id), this.getTestFilesFromWatcherTrigger(id)) {\n\t\t\tthis.scheduleRerun(id);\n\t\t\treturn;\n\t\t}\n\t\tlet fileContent;\n\t\tconst matchingProjects = [];\n\t\tif (this.vitest.projects.forEach((project) => {\n\t\t\tif (project.matchesTestGlob(id, () => fileContent ??= readFileSync(id, \"utf-8\"))) matchingProjects.push(project);\n\t\t}), matchingProjects.length > 0) this.changedTests.add(id), this.scheduleRerun(id);\n\t\telse if (this.handleFileChanged(id)) this.scheduleRerun(id);\n\t};\n\thandleSetupFile(filepath) {\n\t\tlet isSetupFile = false;\n\t\treturn this.vitest.projects.forEach((project) => {\n\t\t\tproject.config.setupFiles.includes(filepath) && this.vitest.state.filesMap.forEach((files) => {\n\t\t\t\tfiles.forEach((file) => {\n\t\t\t\t\tif (file.projectName === project.name) isSetupFile = true, this.changedTests.add(file.filepath);\n\t\t\t\t});\n\t\t\t});\n\t\t}), isSetupFile;\n\t}\n\t/**\n\t* @returns A value indicating whether rerun is needed (changedTests was mutated)\n\t*/\n\thandleFileChanged(filepath) {\n\t\tif (this.changedTests.has(filepath) || this.invalidates.has(filepath)) return false;\n\t\tif (pm.isMatch(filepath, this.vitest.config.forceRerunTriggers)) return this.vitest.state.getFilepaths().forEach((file) => this.changedTests.add(file)), true;\n\t\tif (this.handleSetupFile(filepath)) return true;\n\t\tconst projects = this.vitest.projects.filter((project) => {\n\t\t\treturn (project.browser?.vite.moduleGraph || project.vite.moduleGraph).getModulesByFile(filepath)?.size;\n\t\t});\n\t\tif (!projects.length) return this.vitest.state.filesMap.has(filepath) || this.vitest.projects.some((project) => project._isCachedTestFile(filepath)) ? (this.changedTests.add(filepath), true) : false;\n\t\tconst files = [];\n\t\tfor (const project of projects) {\n\t\t\tconst mods = project.browser?.vite.moduleGraph.getModulesByFile(filepath) || project.vite.moduleGraph.getModulesByFile(filepath);\n\t\t\tif (!mods || !mods.size) continue;\n\t\t\t// one of test files that we already run, or one of test files that we can run\n\t\t\tif (this.invalidates.add(filepath), this.vitest.state.filesMap.has(filepath) || project._isCachedTestFile(filepath)) {\n\t\t\t\tthis.changedTests.add(filepath), files.push(filepath);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tlet rerun = false;\n\t\t\tfor (const mod of mods) mod.importers.forEach((i) => {\n\t\t\t\tif (i.file && this.handleFileChanged(i.file)) rerun = true;\n\t\t\t});\n\t\t\tif (rerun) files.push(filepath);\n\t\t}\n\t\treturn !!files.length;\n\t}\n}\n\nconst WATCHER_DEBOUNCE = 100;\nclass Vitest {\n\t/**\n\t* Current Vitest version.\n\t* @example '2.0.0'\n\t*/\n\tversion = version$1;\n\tstatic version = version$1;\n\t/**\n\t* The logger instance used to log messages. It's recommended to use this logger instead of `console`.\n\t* It's possible to override stdout and stderr streams when initiating Vitest.\n\t* @example\n\t* new Vitest('test', {\n\t*   stdout: new Writable(),\n\t* })\n\t*/\n\tlogger;\n\t/**\n\t* The package installer instance used to install Vitest packages.\n\t* @example\n\t* await vitest.packageInstaller.ensureInstalled('@vitest/browser', process.cwd())\n\t*/\n\tpackageInstaller;\n\t/**\n\t* A path to the built Vitest directory. This is usually a folder in `node_modules`.\n\t*/\n\tdistPath = distDir;\n\t/**\n\t* A list of projects that are currently running.\n\t* If projects were filtered with `--project` flag, they won't appear here.\n\t*/\n\tprojects = [];\n\t/**\n\t* A watcher handler. This is not the file system watcher. The handler only\n\t* exposes methods to handle changed files.\n\t*\n\t* If you have your own watcher, you can use these methods to replicate\n\t* Vitest behaviour.\n\t*/\n\twatcher;\n\t/** @internal */ configOverride = {};\n\t/** @internal */ filenamePattern;\n\t/** @internal */ runningPromise;\n\t/** @internal */ closingPromise;\n\t/** @internal */ isCancelling = false;\n\t/** @internal */ coreWorkspaceProject;\n\t/** @internal */ _browserSessions = new BrowserSessions();\n\t/** @internal */ _cliOptions = {};\n\t/** @internal */ reporters = [];\n\t/** @internal */ runner;\n\t/** @internal */ _testRun = void 0;\n\t/** @internal */ _resolver;\n\t/** @internal */ _fetcher;\n\t/** @internal */ _tmpDir = join(tmpdir(), nanoid());\n\tisFirstRun = true;\n\trestartsCount = 0;\n\tspecifications;\n\tpool;\n\t_config;\n\t_vite;\n\t_state;\n\t_cache;\n\t_snapshot;\n\t_coverageProvider;\n\tconstructor(mode, cliOptions, options = {}) {\n\t\tthis.mode = mode, this._cliOptions = cliOptions, this.logger = new Logger(this, options.stdout, options.stderr), this.packageInstaller = options.packageInstaller || new VitestPackageInstaller(), this.specifications = new VitestSpecifications(this), this.watcher = new VitestWatcher(this).onWatcherRerun((file) => this.scheduleRerun(file));\n\t}\n\t_onRestartListeners = [];\n\t_onClose = [];\n\t_onSetServer = [];\n\t_onCancelListeners = [];\n\t_onUserTestsRerun = [];\n\t_onFilterWatchedSpecification = [];\n\t/**\n\t* The global config.\n\t*/\n\tget config() {\n\t\treturn assert(this._config, \"config\"), this._config;\n\t}\n\t/**\n\t* Global Vite's dev server instance.\n\t*/\n\tget vite() {\n\t\treturn assert(this._vite, \"vite\", \"server\"), this._vite;\n\t}\n\t/**\n\t* The global test state manager.\n\t* @experimental The State API is experimental and not subject to semver.\n\t*/\n\tget state() {\n\t\treturn assert(this._state, \"state\"), this._state;\n\t}\n\t/**\n\t* The global snapshot manager. You can access the current state on `snapshot.summary`.\n\t*/\n\tget snapshot() {\n\t\treturn assert(this._snapshot, \"snapshot\", \"snapshot manager\"), this._snapshot;\n\t}\n\t/**\n\t* Test results and test file stats cache. Primarily used by the sequencer to sort tests.\n\t*/\n\tget cache() {\n\t\treturn assert(this._cache, \"cache\"), this._cache;\n\t}\n\t/** @internal */\n\tasync _setServer(options, server) {\n\t\tthis.watcher.unregisterWatcher(), clearTimeout(this._rerunTimer), this.restartsCount += 1, this.pool?.close?.(), this.pool = void 0, this.closingPromise = void 0, this.projects = [], this.runningPromise = void 0, this.coreWorkspaceProject = void 0, this.specifications.clearCache(), this._coverageProvider = void 0, this._onUserTestsRerun = [], this._vite = server;\n\t\tconst resolved = resolveConfig(this, options, server.config);\n\t\tif (this._config = resolved, this._state = new StateManager({ onUnhandledError: resolved.onUnhandledError }), this._cache = new VitestCache(this.version), this._snapshot = new SnapshotManager({ ...resolved.snapshotOptions }), this._testRun = new TestRun(this), this.config.watch) this.watcher.registerWatcher();\n\t\tthis._resolver = new VitestResolver(server.config.cacheDir, resolved), this._fetcher = createFetchModuleFunction(this._resolver, this._tmpDir, {\n\t\t\tdumpFolder: this.config.dumpDir,\n\t\t\treadFromDump: this.config.server.debug?.load ?? process.env.VITEST_DEBUG_LOAD_DUMP != null\n\t\t});\n\t\tconst environment = server.environments.__vitest__;\n\t\tif (this.runner = new ServerModuleRunner(environment, this._fetcher, resolved), this.config.watch) {\n\t\t\t// hijack server restart\n\t\t\tconst serverRestart = server.restart;\n\t\t\t// since we set `server.hmr: false`, Vite does not auto restart itself\n\t\t\tserver.restart = async (...args) => {\n\t\t\t\tawait Promise.all(this._onRestartListeners.map((fn) => fn())), this.report(\"onServerRestart\"), await this.close(), await serverRestart(...args);\n\t\t\t}, server.watcher.on(\"change\", async (file) => {\n\t\t\t\tif (file = normalize(file), file === server.config.configFile || this.projects.some((p) => p.vite.config.configFile === file)) await Promise.all(this._onRestartListeners.map((fn) => fn(\"config\"))), this.report(\"onServerRestart\", \"config\"), await this.close(), await serverRestart();\n\t\t\t});\n\t\t}\n\t\tthis.cache.results.setConfig(resolved.root, resolved.cache);\n\t\ttry {\n\t\t\tawait this.cache.results.readFromCache();\n\t\t} catch {}\n\t\tconst projects = await this.resolveProjects(this._cliOptions);\n\t\tif (this.projects = projects, await Promise.all(projects.flatMap((project) => {\n\t\t\treturn project.vite.config.getSortedPluginHooks(\"configureVitest\").map((hook) => hook({\n\t\t\t\tproject,\n\t\t\t\tvitest: this,\n\t\t\t\tinjectTestProjects: this.injectTestProject\n\t\t\t}));\n\t\t})), this._cliOptions.browser?.enabled) {\n\t\t\tif (!this.projects.filter((p) => p.config.browser.enabled).length) throw new Error(`Vitest received --browser flag, but no project had a browser configuration.`);\n\t\t}\n\t\tif (!this.projects.length) {\n\t\t\tconst filter = toArray(resolved.project).join(\"\\\", \\\"\");\n\t\t\tif (filter) throw new Error(`No projects matched the filter \"${filter}\".`);\n\t\t\t{\n\t\t\t\tlet error = `Vitest wasn't able to resolve any project.`;\n\t\t\t\tif (this.config.browser.enabled && !this.config.browser.instances?.length) error += ` Please, check that you specified the \"browser.instances\" option.`;\n\t\t\t\tthrow new Error(error);\n\t\t\t}\n\t\t}\n\t\tif (!this.coreWorkspaceProject) this.coreWorkspaceProject = TestProject._createBasicProject(this);\n\t\tif (this.config.testNamePattern) this.configOverride.testNamePattern = this.config.testNamePattern;\n\t\tthis.reporters = resolved.mode === \"benchmark\" ? await createBenchmarkReporters(toArray(resolved.benchmark?.reporters), this.runner) : await createReporters(resolved.reporters, this), await Promise.all(this._onSetServer.map((fn) => fn()));\n\t}\n\t/** @internal */\n\tget coverageProvider() {\n\t\treturn this.configOverride.coverage?.enabled === false ? null : this._coverageProvider;\n\t}\n\tasync enableCoverage() {\n\t\tthis.configOverride.coverage = {}, this.configOverride.coverage.enabled = true, await this.createCoverageProvider(), await this.coverageProvider?.onEnabled?.();\n\t}\n\tdisableCoverage() {\n\t\tthis.configOverride.coverage ??= {}, this.configOverride.coverage.enabled = false;\n\t}\n\t_coverageOverrideCache = /* @__PURE__ */ new WeakMap();\n\t/** @internal */\n\tget _coverageOptions() {\n\t\tif (!this.configOverride.coverage) return this.config.coverage;\n\t\tif (!this._coverageOverrideCache.has(this.configOverride.coverage)) {\n\t\t\tconst coverage = deepClone(this.config.coverage), options = deepMerge(coverage, this.configOverride.coverage);\n\t\t\tthis._coverageOverrideCache.set(this.configOverride.coverage, options);\n\t\t}\n\t\treturn this._coverageOverrideCache.get(this.configOverride.coverage);\n\t}\n\t/**\n\t* Inject new test projects into the workspace.\n\t* @param config Glob, config path or a custom config options.\n\t* @returns An array of new test projects. Can be empty if the name was filtered out.\n\t*/\n\tinjectTestProject = async (config) => {\n\t\tconst currentNames = new Set(this.projects.map((p) => p.name)), projects = await resolveProjects(this, this._cliOptions, void 0, Array.isArray(config) ? config : [config], currentNames);\n\t\treturn this.projects.push(...projects), projects;\n\t};\n\t/**\n\t* Provide a value to the test context. This value will be available to all tests with `inject`.\n\t*/\n\tprovide = (key, value) => {\n\t\tthis.getRootProject().provide(key, value);\n\t};\n\t/**\n\t* Get global provided context.\n\t*/\n\tgetProvidedContext() {\n\t\treturn this.getRootProject().getProvidedContext();\n\t}\n\t/** @internal */\n\t_ensureRootProject() {\n\t\treturn this.coreWorkspaceProject ||= TestProject._createBasicProject(this), this.coreWorkspaceProject;\n\t}\n\t/**\n\t* Return project that has the root (or \"global\") config.\n\t*/\n\tgetRootProject() {\n\t\tif (!this.coreWorkspaceProject) throw new Error(`Root project is not initialized. This means that the Vite server was not established yet and the the workspace config is not resolved.`);\n\t\treturn this.coreWorkspaceProject;\n\t}\n\tgetProjectByName(name) {\n\t\tconst project = this.projects.find((p) => p.name === name) || this.coreWorkspaceProject || this.projects[0];\n\t\tif (!project) throw new Error(`Project \"${name}\" was not found.`);\n\t\treturn project;\n\t}\n\t/**\n\t* Import a file using Vite module runner. The file will be transformed by Vite and executed in a separate context.\n\t* @param moduleId The ID of the module in Vite module graph\n\t*/\n\timport(moduleId) {\n\t\treturn this.runner.import(moduleId);\n\t}\n\t/**\n\t* Creates a coverage provider if `coverage` is enabled in the config.\n\t*/\n\tasync createCoverageProvider() {\n\t\tif (this._coverageProvider) return this._coverageProvider;\n\t\tconst coverageProvider = await this.initCoverageProvider();\n\t\tif (coverageProvider) await coverageProvider.clean(this._coverageOptions.clean);\n\t\treturn coverageProvider || null;\n\t}\n\tasync resolveProjects(cliOptions) {\n\t\tconst names = /* @__PURE__ */ new Set();\n\t\tif (this.config.projects) return resolveProjects(this, cliOptions, void 0, this.config.projects, names);\n\t\tif (\"workspace\" in this.config) throw new Error(\"The `test.workspace` option was removed in Vitest 4. Please, migrate to `test.projects` instead. See https://vitest.dev/guide/projects for examples.\");\n\t\t// user can filter projects with --project flag, `getDefaultTestProject`\n\t\t// returns the project only if it matches the filter\n\t\tconst project = getDefaultTestProject(this);\n\t\treturn project ? resolveBrowserProjects(this, new Set([project.name]), [project]) : [];\n\t}\n\t/**\n\t* Glob test files in every project and create a TestSpecification for each file and pool.\n\t* @param filters String filters to match the test files.\n\t*/\n\tasync globTestSpecifications(filters = []) {\n\t\treturn this.specifications.globTestSpecifications(filters);\n\t}\n\tasync initCoverageProvider() {\n\t\tif (this._coverageProvider != null) return;\n\t\tconst coverageConfig = this.configOverride.coverage ? this.getRootProject().serializedConfig.coverage : this.config.coverage;\n\t\tif (this._coverageProvider = await getCoverageProvider(coverageConfig, this.runner), this._coverageProvider) await this._coverageProvider.initialize(this), this.config.coverage = this._coverageProvider.resolveOptions();\n\t\treturn this._coverageProvider;\n\t}\n\t/**\n\t* Merge reports from multiple runs located in the specified directory (value from `--merge-reports` if not specified).\n\t*/\n\tasync mergeReports(directory) {\n\t\tif (this.reporters.some((r) => r instanceof BlobReporter)) throw new Error(\"Cannot merge reports when `--reporter=blob` is used. Remove blob reporter from the config first.\");\n\t\tconst { files, errors, coverages, executionTimes } = await readBlobs(this.version, directory || this.config.mergeReports, this.projects);\n\t\tthis.state.blobs = {\n\t\t\tfiles,\n\t\t\terrors,\n\t\t\tcoverages,\n\t\t\texecutionTimes\n\t\t}, await this.report(\"onInit\", this);\n\t\tconst specifications = [];\n\t\tfor (const file of files) {\n\t\t\tconst specification = this.getProjectByName(file.projectName || \"\").createSpecification(file.filepath, void 0, file.pool);\n\t\t\tspecifications.push(specification);\n\t\t}\n\t\tawait this._testRun.start(specifications).catch(noop);\n\t\tfor (const file of files) await this._reportFileTask(file);\n\t\treturn this._checkUnhandledErrors(errors), await this._testRun.end(specifications, errors).catch(noop), await this.initCoverageProvider(), await this.coverageProvider?.mergeReports?.(coverages), {\n\t\t\ttestModules: this.state.getTestModules(),\n\t\t\tunhandledErrors: this.state.getUnhandledErrors()\n\t\t};\n\t}\n\t/**\n\t* Returns the seed, if tests are running in a random order.\n\t*/\n\tgetSeed() {\n\t\treturn this.config.sequence.seed ?? null;\n\t}\n\t/** @internal */\n\tasync _reportFileTask(file) {\n\t\tconst project = this.getProjectByName(file.projectName || \"\");\n\t\tawait this._testRun.enqueued(project, file).catch(noop), await this._testRun.collected(project, [file]).catch(noop);\n\t\tconst logs = [], { packs, events } = convertTasksToEvents(file, (task) => {\n\t\t\tif (task.logs) logs.push(...task.logs);\n\t\t});\n\t\tlogs.sort((log1, log2) => log1.time - log2.time);\n\t\tfor (const log of logs) await this._testRun.log(log).catch(noop);\n\t\tawait this._testRun.updated(packs, events).catch(noop);\n\t}\n\tasync collect(filters) {\n\t\tconst files = await this.specifications.getRelevantTestSpecifications(filters);\n\t\treturn files.length ? this.collectTests(files) : {\n\t\t\ttestModules: [],\n\t\t\tunhandledErrors: []\n\t\t};\n\t}\n\t/**\n\t* Returns the list of test files that match the config and filters.\n\t* @param filters String filters to match the test files\n\t*/\n\tgetRelevantTestSpecifications(filters) {\n\t\treturn this.specifications.getRelevantTestSpecifications(filters);\n\t}\n\t/**\n\t* Initialize reporters, the coverage provider, and run tests.\n\t* This method can throw an error:\n\t*   - `FilesNotFoundError` if no tests are found\n\t*   - `GitNotFoundError` if `--related` flag is used, but git repository is not initialized\n\t*   - `Error` from the user reporters\n\t* @param filters String filters to match the test files\n\t*/\n\tasync start(filters) {\n\t\ttry {\n\t\t\tawait this.initCoverageProvider(), await this.coverageProvider?.clean(this._coverageOptions.clean);\n\t\t} finally {\n\t\t\tawait this.report(\"onInit\", this);\n\t\t}\n\t\tthis.filenamePattern = filters && filters?.length > 0 ? filters : void 0;\n\t\tconst files = await this.specifications.getRelevantTestSpecifications(filters);\n\t\t// if run with --changed, don't exit if no tests are found\n\t\tif (!files.length) {\n\t\t\tawait this._testRun.start([]);\n\t\t\tconst coverage = await this.coverageProvider?.generateCoverage?.({ allTestsRun: true });\n\t\t\tif (await this._testRun.end([], [], coverage), await this.reportCoverage(coverage, true), !this.config.watch || !(this.config.changed || this.config.related?.length)) throw new FilesNotFoundError(this.mode);\n\t\t}\n\t\tlet testModules = {\n\t\t\ttestModules: [],\n\t\t\tunhandledErrors: []\n\t\t};\n\t\tif (files.length) await this.cache.stats.populateStats(this.config.root, files), testModules = await this.runFiles(files, true);\n\t\tif (this.config.watch) await this.report(\"onWatcherStart\");\n\t\treturn testModules;\n\t}\n\t/**\n\t* Initialize reporters and the coverage provider. This method doesn't run any tests.\n\t* If the `--watch` flag is provided, Vitest will still run changed tests even if this method was not called.\n\t*/\n\tasync init() {\n\t\ttry {\n\t\t\tawait this.initCoverageProvider(), await this.coverageProvider?.clean(this._coverageOptions.clean);\n\t\t} finally {\n\t\t\tawait this.report(\"onInit\", this);\n\t\t}\n\t\tif (await this.globTestSpecifications(), this.config.watch) await this.report(\"onWatcherStart\");\n\t}\n\t/**\n\t* If there is a test run happening, returns a promise that will\n\t* resolve when the test run is finished.\n\t*/\n\tasync waitForTestRunEnd() {\n\t\tthis.runningPromise && await this.runningPromise;\n\t}\n\t/**\n\t* Get test specifications associated with the given module. If module is not a test file, an empty array is returned.\n\t*\n\t* **Note:** this method relies on a cache generated by `globTestSpecifications`. If the file was not processed yet, use `project.matchesGlobPattern` instead.\n\t* @param moduleId The module ID to get test specifications for.\n\t*/\n\tgetModuleSpecifications(moduleId) {\n\t\treturn this.specifications.getModuleSpecifications(moduleId);\n\t}\n\t/**\n\t* Vitest automatically caches test specifications for each file. This method clears the cache for the given file or the whole cache altogether.\n\t*/\n\tclearSpecificationsCache(moduleId) {\n\t\tif (this.specifications.clearCache(moduleId), !moduleId) this.projects.forEach((project) => {\n\t\t\tproject.testFilesList = null;\n\t\t});\n\t}\n\t/**\n\t* Run tests for the given test specifications. This does not trigger `onWatcher*` events.\n\t* @param specifications A list of specifications to run.\n\t* @param allTestsRun Indicates whether all tests were run. This only matters for coverage.\n\t*/\n\trunTestSpecifications(specifications, allTestsRun = false) {\n\t\treturn specifications.forEach((spec) => this.specifications.ensureSpecificationCached(spec)), this.runFiles(specifications, allTestsRun);\n\t}\n\t/**\n\t* Rerun files and trigger `onWatcherRerun`, `onWatcherStart` and `onTestsRerun` events.\n\t* @param specifications A list of specifications to run.\n\t* @param allTestsRun Indicates whether all tests were run. This only matters for coverage.\n\t*/\n\tasync rerunTestSpecifications(specifications, allTestsRun = false) {\n\t\tconst files = specifications.map((spec) => spec.moduleId);\n\t\tawait Promise.all([this.report(\"onWatcherRerun\", files, \"rerun test\"), ...this._onUserTestsRerun.map((fn) => fn(specifications))]);\n\t\tconst result = await this.runTestSpecifications(specifications, allTestsRun);\n\t\treturn await this.report(\"onWatcherStart\", this.state.getFiles(files)), result;\n\t}\n\tasync runFiles(specs, allTestsRun) {\n\t\treturn await this._testRun.start(specs), await this.runningPromise, this._onCancelListeners = [], this.isCancelling = false, this.runningPromise = (async () => {\n\t\t\ttry {\n\t\t\t\tif (!this.pool) this.pool = createPool(this);\n\t\t\t\tconst invalidates = Array.from(this.watcher.invalidates);\n\t\t\t\tif (this.watcher.invalidates.clear(), this.snapshot.clear(), this.state.clearErrors(), !this.isFirstRun && this._coverageOptions.cleanOnRerun) await this.coverageProvider?.clean();\n\t\t\t\tawait this.initializeGlobalSetup(specs);\n\t\t\t\ttry {\n\t\t\t\t\tawait this.pool.runTests(specs, invalidates);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tthis.state.catchError(err, \"Unhandled Error\");\n\t\t\t\t}\n\t\t\t\tconst files = this.state.getFiles();\n\t\t\t\tthis.cache.results.updateResults(files);\n\t\t\t\ttry {\n\t\t\t\t\tawait this.cache.results.writeToCache();\n\t\t\t\t} catch {}\n\t\t\t\treturn {\n\t\t\t\t\ttestModules: this.state.getTestModules(),\n\t\t\t\t\tunhandledErrors: this.state.getUnhandledErrors()\n\t\t\t\t};\n\t\t\t} finally {\n\t\t\t\tconst coverage = await this.coverageProvider?.generateCoverage({ allTestsRun }), errors = this.state.getUnhandledErrors();\n\t\t\t\tthis._checkUnhandledErrors(errors), await this._testRun.end(specs, errors, coverage), await this.reportCoverage(coverage, allTestsRun);\n\t\t\t}\n\t\t})().finally(() => {\n\t\t\tthis.runningPromise = void 0, this.isFirstRun = false, this.config.changed = false, this.config.related = void 0;\n\t\t}), await this.runningPromise;\n\t}\n\tasync experimental_parseSpecifications(specifications, options) {\n\t\tif (this.mode !== \"test\") throw new Error(`The \\`experimental_parseSpecifications\\` does not support \"${this.mode}\" mode.`);\n\t\tconst concurrency = options?.concurrency ?? (typeof nodeos__default.availableParallelism === \"function\" ? nodeos__default.availableParallelism() : nodeos__default.cpus().length), limit = limitConcurrency(concurrency), promises = specifications.map((specification) => limit(() => this.experimental_parseSpecification(specification)));\n\t\treturn Promise.all(promises);\n\t}\n\tasync experimental_parseSpecification(specification) {\n\t\tif (this.mode !== \"test\") throw new Error(`The \\`experimental_parseSpecification\\` does not support \"${this.mode}\" mode.`);\n\t\tconst file = await astCollectTests(specification.project, specification.moduleId).catch((error) => {\n\t\t\treturn createFailedFileTask(specification.project, specification.moduleId, error);\n\t\t});\n\t\treturn this.state.collectFiles(specification.project, [file]), this.state.getReportedEntity(file);\n\t}\n\t/**\n\t* Collect tests in specified modules. Vitest will run the files to collect tests.\n\t* @param specifications A list of specifications to run.\n\t*/\n\tasync collectTests(specifications) {\n\t\tconst filepaths = specifications.map((spec) => spec.moduleId);\n\t\treturn this.state.collectPaths(filepaths), await this.runningPromise, this._onCancelListeners = [], this.isCancelling = false, this.runningPromise = (async () => {\n\t\t\tif (!this.pool) this.pool = createPool(this);\n\t\t\tconst invalidates = Array.from(this.watcher.invalidates);\n\t\t\tthis.watcher.invalidates.clear(), this.snapshot.clear(), this.state.clearErrors(), await this.initializeGlobalSetup(specifications);\n\t\t\ttry {\n\t\t\t\tawait this.pool.collectTests(specifications, invalidates);\n\t\t\t} catch (err) {\n\t\t\t\tthis.state.catchError(err, \"Unhandled Error\");\n\t\t\t}\n\t\t\tconst files = this.state.getFiles();\n\t\t\t// can only happen if there was a syntax error in describe block\n\t\t\t// or there was an error importing a file\n\t\t\tif (hasFailed(files)) process.exitCode = 1;\n\t\t\treturn {\n\t\t\t\ttestModules: this.state.getTestModules(),\n\t\t\t\tunhandledErrors: this.state.getUnhandledErrors()\n\t\t\t};\n\t\t})().finally(() => {\n\t\t\tthis.runningPromise = void 0, this.config.changed = false, this.config.related = void 0;\n\t\t}), await this.runningPromise;\n\t}\n\t/**\n\t* Gracefully cancel the current test run. Vitest will wait until all running tests are finished before cancelling.\n\t*/\n\tasync cancelCurrentRun(reason) {\n\t\tthis.isCancelling = true, await Promise.all(this._onCancelListeners.splice(0).map((listener) => listener(reason))), await this.runningPromise;\n\t}\n\t/** @internal */\n\tasync _initBrowserServers() {\n\t\tawait Promise.all(this.projects.map((p) => p._initBrowserServer()));\n\t}\n\tasync initializeGlobalSetup(paths) {\n\t\tconst projects = new Set(paths.map((spec) => spec.project)), coreProject = this.getRootProject();\n\t\tif (!projects.has(coreProject)) projects.add(coreProject);\n\t\tfor (const project of projects) await project._initializeGlobalSetup();\n\t}\n\t/** @internal */\n\tasync rerunFiles(files = this.state.getFilepaths(), trigger, allTestsRun = true, resetTestNamePattern = false) {\n\t\tif (resetTestNamePattern) this.configOverride.testNamePattern = void 0;\n\t\tif (this.filenamePattern) {\n\t\t\tconst filteredFiles = await this.globTestSpecifications(this.filenamePattern);\n\t\t\tfiles = files.filter((file) => filteredFiles.some((f) => f.moduleId === file));\n\t\t}\n\t\tconst specifications = files.flatMap((file) => this.getModuleSpecifications(file));\n\t\tawait Promise.all([this.report(\"onWatcherRerun\", files, trigger), ...this._onUserTestsRerun.map((fn) => fn(specifications))]);\n\t\tconst testResult = await this.runFiles(specifications, allTestsRun);\n\t\treturn await this.report(\"onWatcherStart\", this.state.getFiles(files)), testResult;\n\t}\n\t/** @internal */\n\tasync rerunTask(id) {\n\t\tconst task = this.state.idMap.get(id);\n\t\tif (!task) throw new Error(`Task ${id} was not found`);\n\t\tconst taskNamePattern = task.name.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n\t\tawait this.changeNamePattern(taskNamePattern, [task.file.filepath], \"tasks\" in task ? \"rerun suite\" : \"rerun test\");\n\t}\n\t/** @internal */\n\tasync changeProjectName(pattern) {\n\t\tif (pattern === \"\") this.configOverride.project = void 0;\n\t\telse this.configOverride.project = [pattern];\n\t\tawait this.vite.restart();\n\t}\n\t/** @internal */\n\tasync changeNamePattern(pattern, files = this.state.getFilepaths(), trigger) {\n\t\t// Empty test name pattern should reset filename pattern as well\n\t\tif (pattern === \"\") this.filenamePattern = void 0;\n\t\tconst testNamePattern = pattern ? new RegExp(pattern) : void 0;\n\t\t// filter only test files that have tests matching the pattern\n\t\tif (this.configOverride.testNamePattern = testNamePattern, testNamePattern) files = files.filter((filepath) => {\n\t\t\tconst files = this.state.getFiles([filepath]);\n\t\t\treturn !files.length || files.some((file) => {\n\t\t\t\tconst tasks = getTasks(file);\n\t\t\t\treturn !tasks.length || tasks.some((task) => testNamePattern.test(task.name));\n\t\t\t});\n\t\t});\n\t\tawait this.rerunFiles(files, trigger, pattern === \"\");\n\t}\n\t/** @internal */\n\tasync changeFilenamePattern(pattern, files = this.state.getFilepaths()) {\n\t\tthis.filenamePattern = pattern ? [pattern] : [];\n\t\tconst trigger = this.filenamePattern.length ? \"change filename pattern\" : \"reset filename pattern\";\n\t\tawait this.rerunFiles(files, trigger, pattern === \"\");\n\t}\n\t/** @internal */\n\tasync rerunFailed() {\n\t\tawait this.rerunFiles(this.state.getFailedFilepaths(), \"rerun failed\", false);\n\t}\n\t/**\n\t* Update snapshots in specified files. If no files are provided, it will update files with failed tests and obsolete snapshots.\n\t* @param files The list of files on the file system\n\t*/\n\tasync updateSnapshot(files) {\n\t\tfiles = files || [...this.state.getFailedFilepaths(), ...this.snapshot.summary.uncheckedKeysByFile.map((s) => s.filePath)], this.enableSnapshotUpdate();\n\t\ttry {\n\t\t\treturn await this.rerunFiles(files, \"update snapshot\", false);\n\t\t} finally {\n\t\t\tthis.resetSnapshotUpdate();\n\t\t}\n\t}\n\t/**\n\t* Enable the mode that allows updating snapshots when running tests.\n\t* This method doesn't run any tests.\n\t*\n\t* Every test that runs after this method is called will update snapshots.\n\t* To disable the mode, call `resetSnapshotUpdate`.\n\t*/\n\tenableSnapshotUpdate() {\n\t\tthis.configOverride.snapshotOptions = {\n\t\t\tupdateSnapshot: \"all\",\n\t\t\tsnapshotEnvironment: null\n\t\t}, this.snapshot.options.updateSnapshot = \"all\";\n\t}\n\t/**\n\t* Disable the mode that allows updating snapshots when running tests.\n\t*/\n\tresetSnapshotUpdate() {\n\t\tdelete this.configOverride.snapshotOptions, this.snapshot.options.updateSnapshot = this.config.snapshotOptions.updateSnapshot;\n\t}\n\t/**\n\t* Set the global test name pattern to a regexp.\n\t* This method doesn't run any tests.\n\t*/\n\tsetGlobalTestNamePattern(pattern) {\n\t\tif (pattern instanceof RegExp) this.configOverride.testNamePattern = pattern;\n\t\telse this.configOverride.testNamePattern = pattern ? new RegExp(pattern) : void 0;\n\t}\n\t/**\n\t* Returns the regexp used for the global test name pattern.\n\t*/\n\tgetGlobalTestNamePattern() {\n\t\treturn this.configOverride.testNamePattern == null ? this.config.testNamePattern : this.configOverride.testNamePattern;\n\t}\n\t/**\n\t* Resets the global test name pattern. This method doesn't run any tests.\n\t*/\n\tresetGlobalTestNamePattern() {\n\t\tthis.configOverride.testNamePattern = void 0;\n\t}\n\t_rerunTimer;\n\tasync scheduleRerun(triggerId) {\n\t\tconst currentCount = this.restartsCount;\n\t\tclearTimeout(this._rerunTimer), await this.runningPromise, clearTimeout(this._rerunTimer), this.restartsCount === currentCount && (this._rerunTimer = setTimeout(async () => {\n\t\t\tif (this.watcher.changedTests.size === 0) {\n\t\t\t\tthis.watcher.invalidates.clear();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// server restarted\n\t\t\tif (this.restartsCount !== currentCount) return;\n\t\t\tthis.isFirstRun = false, this.snapshot.clear();\n\t\t\tlet files = Array.from(this.watcher.changedTests);\n\t\t\tif (this.filenamePattern) {\n\t\t\t\tconst filteredFiles = await this.globTestSpecifications(this.filenamePattern);\n\t\t\t\t// A file that does not match the current filename pattern was changed\n\t\t\t\tif (files = files.filter((file) => filteredFiles.some((f) => f.moduleId === file)), files.length === 0) return;\n\t\t\t}\n\t\t\tthis.watcher.changedTests.clear();\n\t\t\tconst triggerLabel = relative(this.config.root, triggerId), specifications = files.flatMap((file) => this.getModuleSpecifications(file)).filter((specification) => {\n\t\t\t\treturn this._onFilterWatchedSpecification.length === 0 ? true : this._onFilterWatchedSpecification.every((fn) => fn(specification));\n\t\t\t});\n\t\t\tawait Promise.all([this.report(\"onWatcherRerun\", files, triggerLabel), ...this._onUserTestsRerun.map((fn) => fn(specifications))]), await this.runFiles(specifications, false), await this.report(\"onWatcherStart\", this.state.getFiles(files));\n\t\t}, WATCHER_DEBOUNCE));\n\t}\n\t/**\n\t* Invalidate a file in all projects.\n\t*/\n\tinvalidateFile(filepath) {\n\t\tthis.projects.forEach(({ vite, browser }) => {\n\t\t\t[...Object.values(vite.environments), ...Object.values(browser?.vite.environments || {})].forEach(({ moduleGraph }) => {\n\t\t\t\tmoduleGraph.getModulesByFile(filepath)?.forEach((module) => moduleGraph.invalidateModule(module));\n\t\t\t});\n\t\t});\n\t}\n\t/** @internal */\n\t_checkUnhandledErrors(errors) {\n\t\tif (errors.length && !this.config.dangerouslyIgnoreUnhandledErrors) process.exitCode = 1;\n\t}\n\tasync reportCoverage(coverage, allTestsRun) {\n\t\tif (this.state.getCountOfFailedTests() > 0) {\n\t\t\tif (await this.coverageProvider?.onTestFailure?.(), !this._coverageOptions.reportOnFailure) return;\n\t\t}\n\t\tif (this.coverageProvider) {\n\t\t\tawait this.coverageProvider.reportCoverage(coverage, { allTestsRun });\n\t\t\t// notify coverage iframe reload\n\t\t\tfor (const reporter of this.reporters) if (reporter instanceof WebSocketReporter) reporter.onFinishedReportCoverage();\n\t\t}\n\t}\n\t/**\n\t* Closes all projects and their associated resources.\n\t* This can only be called once; the closing promise is cached until the server restarts.\n\t*/\n\tasync close() {\n\t\tif (!this.closingPromise) this.closingPromise = (async () => {\n\t\t\tconst teardownProjects = [...this.projects];\n\t\t\tif (this.coreWorkspaceProject && !teardownProjects.includes(this.coreWorkspaceProject)) teardownProjects.push(this.coreWorkspaceProject);\n\t\t\t// do teardown before closing the server\n\t\t\tfor (const project of teardownProjects.reverse()) await project._teardownGlobalSetup();\n\t\t\tconst closePromises = this.projects.map((w) => w.close());\n\t\t\t// close the core workspace server only once\n\t\t\t// it's possible that it's not initialized at all because it's not running any tests\n\t\t\tif (this.coreWorkspaceProject && !this.projects.includes(this.coreWorkspaceProject)) closePromises.push(this.coreWorkspaceProject.close().then(() => this._vite = void 0));\n\t\t\tif (this.pool) closePromises.push((async () => {\n\t\t\t\tawait this.pool?.close?.(), this.pool = void 0;\n\t\t\t})());\n\t\t\treturn closePromises.push(...this._onClose.map((fn) => fn())), Promise.allSettled(closePromises).then((results) => {\n\t\t\t\tresults.forEach((r) => {\n\t\t\t\t\tif (r.status === \"rejected\") this.logger.error(\"error during close\", r.reason);\n\t\t\t\t});\n\t\t\t});\n\t\t})();\n\t\treturn this.closingPromise;\n\t}\n\t/**\n\t* Closes all projects and exit the process\n\t* @param force If true, the process will exit immediately after closing the projects.\n\t*/\n\tasync exit(force = false) {\n\t\tif (setTimeout(() => {\n\t\t\tthis.report(\"onProcessTimeout\").then(() => {\n\t\t\t\tif (console.warn(`close timed out after ${this.config.teardownTimeout}ms`), !this.pool) {\n\t\t\t\t\tconst runningServers = [this._vite, ...this.projects.map((p) => p._vite)].filter(Boolean).length;\n\t\t\t\t\tif (runningServers === 1) console.warn(\"Tests closed successfully but something prevents Vite server from exiting\");\n\t\t\t\t\telse if (runningServers > 1) console.warn(`Tests closed successfully but something prevents ${runningServers} Vite servers from exiting`);\n\t\t\t\t\telse console.warn(\"Tests closed successfully but something prevents the main process from exiting\");\n\t\t\t\t\tif (!this.reporters.some((r) => r instanceof HangingProcessReporter)) console.warn(\"You can try to identify the cause by enabling \\\"hanging-process\\\" reporter. See https://vitest.dev/config/#reporters\");\n\t\t\t\t}\n\t\t\t\tprocess.exit();\n\t\t\t});\n\t\t}, this.config.teardownTimeout).unref(), await this.close(), force) process.exit();\n\t}\n\t/** @internal */\n\tasync report(name, ...args) {\n\t\tawait Promise.all(this.reporters.map((r) => r[name]?.(\n\t\t\t// @ts-expect-error let me go\n\t\t\t...args\n\t\t)));\n\t}\n\t/** @internal */\n\tasync _globTestFilepaths() {\n\t\tconst specifications = await this.globTestSpecifications();\n\t\treturn Array.from(new Set(specifications.map((spec) => spec.moduleId)));\n\t}\n\t/**\n\t* Should the server be kept running after the tests are done.\n\t*/\n\tshouldKeepServer() {\n\t\treturn !!this.config?.watch;\n\t}\n\t/**\n\t* Register a handler that will be called when the server is restarted due to a config change.\n\t*/\n\tonServerRestart(fn) {\n\t\tthis._onRestartListeners.push(fn);\n\t}\n\t/**\n\t* Register a handler that will be called when the test run is cancelled with `vitest.cancelCurrentRun`.\n\t*/\n\tonCancel(fn) {\n\t\tthis._onCancelListeners.push(fn);\n\t}\n\t/**\n\t* Register a handler that will be called when the server is closed.\n\t*/\n\tonClose(fn) {\n\t\tthis._onClose.push(fn);\n\t}\n\t/**\n\t* Register a handler that will be called when the tests are rerunning.\n\t*/\n\tonTestsRerun(fn) {\n\t\tthis._onUserTestsRerun.push(fn);\n\t}\n\t/**\n\t* Register a handler that will be called when a file is changed.\n\t* This callback should return `true` of `false` indicating whether the test file needs to be rerun.\n\t* @example\n\t* const testsToRun = [resolve('./test.spec.ts')]\n\t* vitest.onFilterWatchedSpecification(specification => testsToRun.includes(specification.moduleId))\n\t*/\n\tonFilterWatchedSpecification(fn) {\n\t\tthis._onFilterWatchedSpecification.push(fn);\n\t}\n\t/** @internal */\n\tonAfterSetServer(fn) {\n\t\tthis._onSetServer.push(fn);\n\t}\n\t/**\n\t* Check if the project with a given name should be included.\n\t*/\n\tmatchesProjectFilter(name) {\n\t\tconst projects = this._config?.project || this._cliOptions?.project;\n\t\treturn !projects || !projects.length ? true : toArray(projects).some((project) => {\n\t\t\treturn wildcardPatternToRegExp(project).test(name);\n\t\t});\n\t}\n}\nfunction assert(condition, property, name = property) {\n\tif (!condition) throw new Error(`The ${name} was not set. It means that \\`vitest.${property}\\` was called before the Vite server was established. Await the Vitest promise before accessing \\`vitest.${property}\\`.`);\n}\n\nasync function VitestPlugin(options = {}, vitest = new Vitest(\"test\", deepClone(options))) {\n\tconst userConfig = deepMerge({}, options);\n\tasync function UIPlugin() {\n\t\treturn await vitest.packageInstaller.ensureInstalled(\"@vitest/ui\", options.root || process.cwd(), vitest.version), (await import('@vitest/ui')).default(vitest);\n\t}\n\treturn [\n\t\t{\n\t\t\tname: \"vitest\",\n\t\t\tenforce: \"pre\",\n\t\t\toptions() {\n\t\t\t\tthis.meta.watchMode = false;\n\t\t\t},\n\t\t\tasync config(viteConfig) {\n\t\t\t\tif (options.watch)\n // Earlier runs have overwritten values of the `options`.\n\t\t\t\t// Reset it back to initial user config before setting up the server again.\n\t\t\t\toptions = deepMerge({}, userConfig);\n\t\t\t\t// preliminary merge of options to be able to create server options for vite\n\t\t\t\t// however to allow vitest plugins to modify vitest config values\n\t\t\t\t// this is repeated in configResolved where the config is final\n\t\t\t\tconst testConfig = deepMerge({}, configDefaults, removeUndefinedValues(viteConfig.test ?? {}), options);\n\t\t\t\ttestConfig.api = resolveApiServerConfig(testConfig, defaultPort), options.defines = deleteDefineConfig(viteConfig);\n\t\t\t\tlet open = false;\n\t\t\t\tif (testConfig.ui && testConfig.open) open = testConfig.uiBase ?? \"/__vitest__/\";\n\t\t\t\tconst resolveOptions = getDefaultResolveOptions();\n\t\t\t\tlet config = {\n\t\t\t\t\tbase: \"/\",\n\t\t\t\t\troot: viteConfig.test?.root || options.root,\n\t\t\t\t\tdefine: { \"process.env.NODE_ENV\": \"process.env.NODE_ENV\" },\n\t\t\t\t\tresolve: {\n\t\t\t\t\t\t...resolveOptions,\n\t\t\t\t\t\talias: testConfig.alias\n\t\t\t\t\t},\n\t\t\t\t\tserver: {\n\t\t\t\t\t\t...testConfig.api,\n\t\t\t\t\t\topen,\n\t\t\t\t\t\thmr: false,\n\t\t\t\t\t\tws: testConfig.api?.middlewareMode ? false : void 0,\n\t\t\t\t\t\tpreTransformRequests: false,\n\t\t\t\t\t\tfs: { allow: resolveFsAllow(options.root || process.cwd(), testConfig.config) }\n\t\t\t\t\t},\n\t\t\t\t\tbuild: {\n\t\t\t\t\t\toutDir: \"dummy-non-existing-folder\",\n\t\t\t\t\t\temptyOutDir: false\n\t\t\t\t\t},\n\t\t\t\t\tenvironments: {\n\t\t\t\t\t\tssr: { resolve: resolveOptions },\n\t\t\t\t\t\t__vitest__: { dev: {} }\n\t\t\t\t\t},\n\t\t\t\t\ttest: {\n\t\t\t\t\t\troot: testConfig.root ?? viteConfig.test?.root,\n\t\t\t\t\t\tdeps: testConfig.deps ?? viteConfig.test?.deps\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tif (\"rolldownVersion\" in vite) config = {\n\t\t\t\t\t...config,\n\t\t\t\t\toxc: viteConfig.oxc === false ? false : { target: viteConfig.oxc?.target || \"node18\" }\n\t\t\t\t};\n\t\t\t\telse config = {\n\t\t\t\t\t...config,\n\t\t\t\t\tesbuild: viteConfig.esbuild === false ? false : {\n\t\t\t\t\t\ttarget: viteConfig.esbuild?.target || \"node18\",\n\t\t\t\t\t\tsourcemap: \"external\",\n\t\t\t\t\t\tlegalComments: \"inline\"\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\t// inherit so it's available in VitestOptimizer\n\t\t\t\t// I cannot wait to rewrite all of this in Vitest 4\n\t\t\t\tif (options.cache != null) config.test.cache = options.cache;\n\t\t\t\tif (vitest.configOverride.project)\n // project filter was set by the user, so we need to filter the project\n\t\t\t\toptions.project = vitest.configOverride.project;\n\t\t\t\t// chokidar fsevents is unstable on macos when emitting \"ready\" event\n\t\t\t\tif (config.customLogger = createViteLogger(vitest.logger, viteConfig.logLevel || \"warn\", { allowClearScreen: false }), config.customLogger = silenceImportViteIgnoreWarning(config.customLogger), process.platform === \"darwin\" && false);\n\t\t\t\tconst classNameStrategy = typeof testConfig.css !== \"boolean\" && testConfig.css?.modules?.classNameStrategy || \"stable\";\n\t\t\t\tif (classNameStrategy !== \"scoped\") {\n\t\t\t\t\tif (config.css ??= {}, config.css.modules ??= {}, config.css.modules) config.css.modules.generateScopedName = (name, filename) => {\n\t\t\t\t\t\tconst root = vitest.config.root || options.root || process.cwd();\n\t\t\t\t\t\treturn generateScopedClassName(classNameStrategy, name, relative(root, filename));\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\treturn config;\n\t\t\t},\n\t\t\tasync configResolved(viteConfig) {\n\t\t\t\tconst viteConfigTest = viteConfig.test || {};\n\t\t\t\tif (viteConfigTest.watch === false) viteConfigTest.run = true;\n\t\t\t\tif (\"alias\" in viteConfigTest) delete viteConfigTest.alias;\n\t\t\t\toptions = deepMerge({}, configDefaults, viteConfigTest, options), options.api = resolveApiServerConfig(options, defaultPort);\n\t\t\t\t// we replace every \"import.meta.env\" with \"process.env\"\n\t\t\t\t// to allow reassigning, so we need to put all envs on process.env\n\t\t\t\tconst { PROD, DEV,...envs } = viteConfig.env;\n\t\t\t\tfor (const name in process.env.PROD ??= PROD ? \"1\" : \"\", process.env.DEV ??= DEV ? \"1\" : \"\", envs) process.env[name] ??= envs[name];\n\t\t\t\t// don't watch files in run mode\n\t\t\t\tif (!options.watch) viteConfig.server.watch = null;\n\t\t\t\tif (options.ui)\n // @ts-expect-error mutate readonly\n\t\t\t\tviteConfig.plugins.push(await UIPlugin());\n\t\t\t\tObject.defineProperty(viteConfig, \"_vitest\", {\n\t\t\t\t\tvalue: options,\n\t\t\t\t\tenumerable: false,\n\t\t\t\t\tconfigurable: true\n\t\t\t\t});\n\t\t\t\tconst originalName = options.name;\n\t\t\t\tif (options.browser?.instances) options.browser.instances.forEach((instance) => {\n\t\t\t\t\tinstance.name ??= originalName ? `${originalName} (${instance.browser})` : instance.browser;\n\t\t\t\t});\n\t\t\t},\n\t\t\tconfigureServer: {\n\t\t\t\torder: \"post\",\n\t\t\t\tasync handler(server) {\n\t\t\t\t\tif (options.watch && false);\n\t\t\t\t\tif (await vitest._setServer(options, server), options.api && options.watch) (await Promise.resolve().then(function () { return setup$1; })).setup(vitest);\n\t\t\t\t\t// #415, in run mode we don't need the watcher, close it would improve the performance\n\t\t\t\t\tif (!options.watch) await server.watcher.close();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tMetaEnvReplacerPlugin(),\n\t\t...CSSEnablerPlugin(vitest),\n\t\tCoverageTransform(vitest),\n\t\tVitestCoreResolver(vitest),\n\t\t...MocksPlugins(),\n\t\tVitestOptimizer(),\n\t\tNormalizeURLPlugin(),\n\t\tModuleRunnerTransform()\n\t].filter(notNullish);\n}\nfunction removeUndefinedValues(obj) {\n\tfor (const key in Object.keys(obj)) if (obj[key] === void 0) delete obj[key];\n\treturn obj;\n}\n\nasync function createVitest(mode, options, viteOverrides = {}, vitestOptions = {}) {\n\tconst ctx = new Vitest(mode, deepClone(options), vitestOptions), root = slash(resolve$1(options.root || process.cwd())), configPath = options.config === false ? false : options.config ? resolveModule(options.config, { paths: [root] }) ?? resolve$1(root, options.config) : any(configFiles, { cwd: root });\n\toptions.config = configPath;\n\tconst { browser: _removeBrowser,...restOptions } = options, config = {\n\t\tconfigFile: configPath,\n\t\tconfigLoader: options.configLoader,\n\t\tmode: options.mode || mode,\n\t\tplugins: await VitestPlugin(restOptions, ctx)\n\t}, server = await createViteServer(mergeConfig(config, mergeConfig(viteOverrides, { root: options.root })));\n\tif (ctx.config.api?.port) await server.listen();\n\treturn ctx;\n}\n\nconst MAX_RESULT_COUNT = 10, SELECTION_MAX_INDEX = 7, ESC = \"\\x1B[\";\nclass WatchFilter {\n\tfilterRL;\n\tcurrentKeyword = void 0;\n\tmessage;\n\tresults = [];\n\tselectionIndex = -1;\n\tonKeyPress;\n\tstdin;\n\tstdout;\n\tconstructor(message, stdin = process.stdin, stdout$1 = stdout()) {\n\t\tif (this.message = message, this.stdin = stdin, this.stdout = stdout$1, this.filterRL = readline.createInterface({\n\t\t\tinput: this.stdin,\n\t\t\tescapeCodeTimeout: 50\n\t\t}), readline.emitKeypressEvents(this.stdin, this.filterRL), this.stdin.isTTY) this.stdin.setRawMode(true);\n\t}\n\tasync filter(filterFunc) {\n\t\tthis.write(this.promptLine());\n\t\tconst resultPromise = createDefer();\n\t\tthis.onKeyPress = this.filterHandler(filterFunc, (result) => {\n\t\t\tresultPromise.resolve(result);\n\t\t}), this.stdin.on(\"keypress\", this.onKeyPress);\n\t\ttry {\n\t\t\treturn await resultPromise;\n\t\t} finally {\n\t\t\tthis.close();\n\t\t}\n\t}\n\tfilterHandler(filterFunc, onSubmit) {\n\t\treturn async (str, key) => {\n\t\t\tswitch (true) {\n\t\t\t\tcase key.sequence === \"\":\n\t\t\t\t\tif (this.currentKeyword && this.currentKeyword?.length > 1) this.currentKeyword = this.currentKeyword?.slice(0, -1);\n\t\t\t\t\telse this.currentKeyword = void 0;\n\t\t\t\t\tbreak;\n\t\t\t\tcase key?.ctrl && key?.name === \"c\":\n\t\t\t\tcase key?.name === \"escape\":\n\t\t\t\t\tthis.write(`${ESC}1G${ESC}0J`), onSubmit(void 0);\n\t\t\t\t\treturn;\n\t\t\t\tcase key?.name === \"enter\":\n\t\t\t\tcase key?.name === \"return\": {\n\t\t\t\t\tconst selection = this.results[this.selectionIndex], result = typeof selection === \"string\" ? selection : selection?.key;\n\t\t\t\t\tonSubmit(result || this.currentKeyword || \"\"), this.currentKeyword = void 0;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase key?.name === \"up\":\n\t\t\t\t\tif (this.selectionIndex && this.selectionIndex > 0) this.selectionIndex--;\n\t\t\t\t\telse this.selectionIndex = -1;\n\t\t\t\t\tbreak;\n\t\t\t\tcase key?.name === \"down\":\n\t\t\t\t\tif (this.selectionIndex < this.results.length - 1) this.selectionIndex++;\n\t\t\t\t\telse if (this.selectionIndex >= this.results.length - 1) this.selectionIndex = this.results.length - 1;\n\t\t\t\t\tbreak;\n\t\t\t\tcase !key?.ctrl && !key?.meta:\n\t\t\t\t\tif (this.currentKeyword === void 0) this.currentKeyword = str;\n\t\t\t\t\telse this.currentKeyword += str || \"\";\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (this.currentKeyword) this.results = await filterFunc(this.currentKeyword);\n\t\t\tthis.render();\n\t\t};\n\t}\n\trender() {\n\t\tlet printStr = this.promptLine();\n\t\tif (!this.currentKeyword) printStr += \"\\nPlease input filter pattern\";\n\t\telse if (this.currentKeyword && this.results.length === 0) printStr += \"\\nPattern matches no results\";\n\t\telse {\n\t\t\tconst resultCountLine = this.results.length === 1 ? `Pattern matches ${this.results.length} result` : `Pattern matches ${this.results.length} results`;\n\t\t\tlet resultBody = \"\";\n\t\t\tif (this.results.length > MAX_RESULT_COUNT) {\n\t\t\t\tconst offset = this.selectionIndex > SELECTION_MAX_INDEX ? this.selectionIndex - SELECTION_MAX_INDEX : 0, displayResults = this.results.slice(offset, MAX_RESULT_COUNT + offset), remainingResultCount = this.results.length - offset - displayResults.length;\n\t\t\t\tif (resultBody = `${displayResults.map((result, index) => index + offset === this.selectionIndex ? c.green(` › ${result}`) : c.dim(` › ${result}`)).join(\"\\n\")}`, remainingResultCount > 0) resultBody += `\n${c.dim(`   ...and ${remainingResultCount} more ${remainingResultCount === 1 ? \"result\" : \"results\"}`)}`;\n\t\t\t} else resultBody = this.results.map((result, index) => index === this.selectionIndex ? c.green(` › ${result}`) : c.dim(` › ${result}`)).join(\"\\n\");\n\t\t\tprintStr += `\\n${resultCountLine}\\n${resultBody}`;\n\t\t}\n\t\tthis.eraseAndPrint(printStr), this.restoreCursor();\n\t}\n\tkeywordOffset() {\n\t\treturn `? ${this.message} › `.length + 1;\n\t}\n\tpromptLine() {\n\t\treturn `${c.cyan(\"?\")} ${c.bold(this.message)} › ${this.currentKeyword || \"\"}`;\n\t}\n\teraseAndPrint(str) {\n\t\tlet rows = 0;\n\t\tconst lines = str.split(/\\r?\\n/);\n\t\tfor (const line of lines) {\n\t\t\tconst columns = \"columns\" in this.stdout ? this.stdout.columns : 80;\n\t\t\t// We have to take care of screen width in case of long lines\n\t\t\trows += 1 + Math.floor(Math.max(stripVTControlCharacters(line).length - 1, 0) / columns);\n\t\t}\n\t\tthis.write(`${ESC}1G`), this.write(`${ESC}J`), this.write(str), this.write(`${ESC}${rows - 1}A`);\n\t}\n\tclose() {\n\t\tif (this.filterRL.close(), this.onKeyPress) this.stdin.removeListener(\"keypress\", this.onKeyPress);\n\t\tif (this.stdin.isTTY) this.stdin.setRawMode(false);\n\t}\n\trestoreCursor() {\n\t\tconst cursortPos = this.keywordOffset() + (this.currentKeyword?.length || 0);\n\t\tthis.write(`${ESC}${cursortPos}G`);\n\t}\n\twrite(data) {\n\t\tthis.stdout.write(data);\n\t}\n\tgetLastResults() {\n\t\treturn this.results.map((r) => typeof r === \"string\" ? r : r.toString());\n\t}\n}\n\nconst keys = [\n\t[[\"a\", \"return\"], \"rerun all tests\"],\n\t[\"r\", \"rerun current pattern tests\"],\n\t[\"f\", \"rerun only failed tests\"],\n\t[\"u\", \"update snapshot\"],\n\t[\"p\", \"filter by a filename\"],\n\t[\"t\", \"filter by a test name regex pattern\"],\n\t[\"w\", \"filter by a project name\"],\n\t[\"b\", \"start the browser server if not started yet\"],\n\t[\"q\", \"quit\"]\n], cancelKeys = [\n\t\"space\",\n\t\"c\",\n\t\"h\",\n\t...keys.map((key) => key[0]).flat()\n];\nfunction printShortcutsHelp() {\n\tstdout().write(`\n${c.bold(\"  Watch Usage\")}\n${keys.map((i) => c.dim(\"  press \") + c.reset([i[0]].flat().map(c.bold).join(\", \")) + c.dim(` to ${i[1]}`)).join(\"\\n\")}\n`);\n}\nfunction* traverseFilteredTestNames(parentName, filter, t) {\n\tif (isTestCase(t)) {\n\t\tif (t.name.match(filter)) {\n\t\t\tconst displayName = `${parentName} > ${t.name}`;\n\t\t\tyield {\n\t\t\t\tkey: t.name,\n\t\t\t\ttoString: () => displayName\n\t\t\t};\n\t\t}\n\t} else {\n\t\tparentName = parentName.length ? `${parentName} > ${t.name}` : t.name;\n\t\tfor (const task of t.tasks) yield* traverseFilteredTestNames(parentName, filter, task);\n\t}\n}\nfunction* getFilteredTestNames(pattern, suite) {\n\ttry {\n\t\tconst reg = new RegExp(pattern), files = /* @__PURE__ */ new Set();\n\t\tfor (const file of suite) if (!files.has(file.name)) files.add(file.name), yield* traverseFilteredTestNames(\"\", reg, file);\n\t} catch {}\n}\nfunction registerConsoleShortcuts(ctx, stdin = process.stdin, stdout) {\n\tlet latestFilename = \"\";\n\tasync function _keypressHandler(str, key) {\n\t\t// Cancel run and exit when ctrl-c or esc is pressed.\n\t\t// If cancelling takes long and key is pressed multiple times, exit forcefully.\n\t\tif (str === \"\u0003\" || str === \"\\x1B\" || key && key.ctrl && key.name === \"c\") {\n\t\t\tif (!ctx.isCancelling) ctx.logger.log(c.red(\"Cancelling test run. Press CTRL+c again to exit forcefully.\\n\")), process.exitCode = 130, await ctx.cancelCurrentRun(\"keyboard-input\");\n\t\t\treturn ctx.exit(true);\n\t\t}\n\t\t// window not support suspend\n\t\tif (!isWindows && key && key.ctrl && key.name === \"z\") {\n\t\t\tprocess.kill(process.ppid, \"SIGTSTP\"), process.kill(process.pid, \"SIGTSTP\");\n\t\t\treturn;\n\t\t}\n\t\tconst name = key?.name;\n\t\tif (ctx.runningPromise) {\n\t\t\tif (cancelKeys.includes(name)) await ctx.cancelCurrentRun(\"keyboard-input\");\n\t\t\treturn;\n\t\t}\n\t\t// quit\n\t\tif (name === \"q\") return ctx.exit(true);\n\t\t// help\n\t\tif (name === \"h\") return printShortcutsHelp();\n\t\t// update snapshot\n\t\tif (name === \"u\") return ctx.updateSnapshot();\n\t\t// rerun all tests\n\t\tif (name === \"a\" || name === \"return\") {\n\t\t\tconst files = await ctx._globTestFilepaths();\n\t\t\treturn ctx.changeNamePattern(\"\", files, \"rerun all tests\");\n\t\t}\n\t\t// rerun current pattern tests\n\t\tif (name === \"r\") return ctx.rerunFiles();\n\t\t// rerun only failed tests\n\t\tif (name === \"f\") return ctx.rerunFailed();\n\t\t// change project filter\n\t\tif (name === \"w\") return inputProjectName();\n\t\t// change testNamePattern\n\t\tif (name === \"t\") return inputNamePattern();\n\t\t// change fileNamePattern\n\t\tif (name === \"p\") return inputFilePattern();\n\t\tif (name === \"b\") return await ctx._initBrowserServers(), ctx.projects.forEach((project) => {\n\t\t\tctx.logger.log(), ctx.logger.printBrowserBanner(project);\n\t\t}), null;\n\t}\n\tasync function keypressHandler(str, key) {\n\t\tawait _keypressHandler(str, key);\n\t}\n\tasync function inputNamePattern() {\n\t\toff();\n\t\tconst filter = await new WatchFilter(\"Input test name pattern (RegExp)\", stdin, stdout).filter((str) => {\n\t\t\treturn [...getFilteredTestNames(str, ctx.state.getFiles())];\n\t\t});\n\t\tif (on(), typeof filter === \"undefined\") return;\n\t\tconst files = ctx.state.getFilepaths(), cliFiles = ctx.config.standalone && !files.length ? await ctx._globTestFilepaths() : void 0;\n\t\tawait ctx.changeNamePattern(filter?.trim() || \"\", cliFiles, \"change pattern\");\n\t}\n\tasync function inputProjectName() {\n\t\toff();\n\t\tconst { filter = \"\" } = await prompt([{\n\t\t\tname: \"filter\",\n\t\t\ttype: \"text\",\n\t\t\tmessage: \"Input a single project name\",\n\t\t\tinitial: ctx.config.project[0] || \"\"\n\t\t}]);\n\t\ton(), await ctx.changeProjectName(filter.trim());\n\t}\n\tasync function inputFilePattern() {\n\t\toff();\n\t\tconst watchFilter = new WatchFilter(\"Input filename pattern\", stdin, stdout), filter = await watchFilter.filter(async (str) => {\n\t\t\treturn (await ctx.globTestSpecifications([str])).map((specification) => relative(ctx.config.root, specification.moduleId)).filter((file, index, all) => all.indexOf(file) === index);\n\t\t});\n\t\tif (on(), typeof filter === \"undefined\") return;\n\t\tlatestFilename = filter?.trim() || \"\";\n\t\tconst lastResults = watchFilter.getLastResults();\n\t\tawait ctx.changeFilenamePattern(latestFilename, filter && lastResults.length ? lastResults.map((i) => resolve(ctx.config.root, i)) : void 0);\n\t}\n\tlet rl;\n\tfunction on() {\n\t\tif (off(), rl = readline.createInterface({\n\t\t\tinput: stdin,\n\t\t\tescapeCodeTimeout: 50\n\t\t}), readline.emitKeypressEvents(stdin, rl), stdin.isTTY) stdin.setRawMode(true);\n\t\tstdin.on(\"keypress\", keypressHandler);\n\t}\n\tfunction off() {\n\t\tif (rl?.close(), rl = void 0, stdin.removeListener(\"keypress\", keypressHandler), stdin.isTTY) stdin.setRawMode(false);\n\t}\n\treturn on(), function cleanup() {\n\t\toff();\n\t};\n}\n\n/**\n* Start Vitest programmatically\n*\n* Returns a Vitest instance if initialized successfully.\n*/\nasync function startVitest(mode, cliFilters = [], options = {}, viteOverrides, vitestOptions) {\n\tconst root = resolve(options.root || process.cwd()), ctx = await prepareVitest(mode, options, viteOverrides, vitestOptions, cliFilters);\n\tif (mode === \"test\" && ctx._coverageOptions.enabled) {\n\t\tconst provider = ctx._coverageOptions.provider || \"v8\", requiredPackages = CoverageProviderMap[provider];\n\t\tif (requiredPackages) {\n\t\t\tif (!await ctx.packageInstaller.ensureInstalled(requiredPackages, root, ctx.version)) return process.exitCode = 1, ctx;\n\t\t}\n\t}\n\tconst stdin = vitestOptions?.stdin || process.stdin, stdout = vitestOptions?.stdout || process.stdout;\n\tlet stdinCleanup;\n\tif (stdin.isTTY && ctx.config.watch) stdinCleanup = registerConsoleShortcuts(ctx, stdin, stdout);\n\tctx.onAfterSetServer(() => {\n\t\tif (ctx.config.standalone) ctx.init();\n\t\telse ctx.start(cliFilters);\n\t});\n\ttry {\n\t\tif (ctx.config.mergeReports) await ctx.mergeReports();\n\t\telse if (ctx.config.standalone) await ctx.init();\n\t\telse await ctx.start(cliFilters);\n\t} catch (e) {\n\t\treturn e instanceof FilesNotFoundError ? ctx : e instanceof GitNotFoundError ? (ctx.logger.error(e.message), ctx) : e instanceof IncludeTaskLocationDisabledError || e instanceof RangeLocationFilterProvidedError || e instanceof LocationFilterFileNotFoundError ? (ctx.logger.printError(e, { verbose: false }), ctx) : (process.exitCode = 1, ctx.logger.printError(e, {\n\t\t\tfullStack: true,\n\t\t\ttype: \"Unhandled Error\"\n\t\t}), ctx.logger.error(\"\\n\\n\"), ctx);\n\t}\n\treturn ctx.shouldKeepServer() ? ctx : (stdinCleanup?.(), await ctx.close(), ctx);\n}\nasync function prepareVitest(mode, options = {}, viteOverrides, vitestOptions, cliFilters) {\n\tif (process.env.TEST = \"true\", process.env.VITEST = \"true\", process.env.NODE_ENV ??= \"test\", options.run) options.watch = false;\n\tif (options.standalone && (cliFilters?.length || 0) > 0) options.standalone = false;\n\t// this shouldn't affect _application root_ that can be changed inside config\n\tconst root = resolve(options.root || process.cwd()), ctx = await createVitest(mode, options, viteOverrides, vitestOptions), environmentPackage = getEnvPackageName(ctx.config.environment);\n\treturn environmentPackage && !await ctx.packageInstaller.ensureInstalled(environmentPackage, root) && (process.exitCode = 1), ctx;\n}\nfunction processCollected(ctx, files, options) {\n\tlet errorsPrinted = false;\n\tif (forEachSuite(files, (suite) => {\n\t\tsuite.errors().forEach((error) => {\n\t\t\terrorsPrinted = true, ctx.logger.printError(error, { project: suite.project });\n\t\t});\n\t}), !errorsPrinted) return typeof options.json === \"undefined\" ? formatCollectedAsString(files).forEach((test) => console.log(test)) : processJsonOutput(files, options);\n}\nfunction outputFileList(files, options) {\n\tif (typeof options.json !== \"undefined\") return outputJsonFileList(files, options);\n\tformatFilesAsString(files, options).map((file) => console.log(file));\n}\nfunction outputJsonFileList(files, options) {\n\tif (typeof options.json === \"boolean\") return console.log(JSON.stringify(formatFilesAsJSON(files), null, 2));\n\tif (typeof options.json === \"string\") {\n\t\tconst jsonPath = resolve(options.root || process.cwd(), options.json);\n\t\tmkdirSync(dirname(jsonPath), { recursive: true }), writeFileSync(jsonPath, JSON.stringify(formatFilesAsJSON(files), null, 2));\n\t}\n}\nfunction formatFilesAsJSON(files) {\n\treturn files.map((file) => {\n\t\tconst result = { file: file.moduleId };\n\t\tif (file.project.name) result.projectName = file.project.name;\n\t\treturn result;\n\t});\n}\nfunction formatFilesAsString(files, options) {\n\treturn files.map((file) => {\n\t\tlet name = relative(options.root || process.cwd(), file.moduleId);\n\t\tif (file.project.name) name = `[${file.project.name}] ${name}`;\n\t\treturn name;\n\t});\n}\nfunction processJsonOutput(files, options) {\n\tif (typeof options.json === \"boolean\") return console.log(JSON.stringify(formatCollectedAsJSON(files), null, 2));\n\tif (typeof options.json === \"string\") {\n\t\tconst jsonPath = resolve(options.root || process.cwd(), options.json);\n\t\tmkdirSync(dirname(jsonPath), { recursive: true }), writeFileSync(jsonPath, JSON.stringify(formatCollectedAsJSON(files), null, 2));\n\t}\n}\nfunction forEachSuite(modules, callback) {\n\tmodules.forEach((testModule) => {\n\t\tcallback(testModule);\n\t\tfor (const suite of testModule.children.allSuites()) callback(suite);\n\t});\n}\nfunction formatCollectedAsJSON(files) {\n\tconst results = [];\n\treturn files.forEach((file) => {\n\t\tfor (const test of file.children.allTests()) {\n\t\t\tif (test.result().state === \"skipped\") continue;\n\t\t\tconst result = {\n\t\t\t\tname: test.fullName,\n\t\t\t\tfile: test.module.moduleId\n\t\t\t};\n\t\t\tif (test.project.name) result.projectName = test.project.name;\n\t\t\tif (test.location) result.location = test.location;\n\t\t\tresults.push(result);\n\t\t}\n\t}), results;\n}\nfunction formatCollectedAsString(testModules) {\n\tconst results = [];\n\treturn testModules.forEach((testModule) => {\n\t\tfor (const test of testModule.children.allTests()) {\n\t\t\tif (test.result().state === \"skipped\") continue;\n\t\t\tconst fullName = `${test.module.task.name} > ${test.fullName}`;\n\t\t\tresults.push((test.project.name ? `[${test.project.name}] ` : \"\") + fullName);\n\t\t}\n\t}), results;\n}\nconst envPackageNames = {\n\t\"jsdom\": \"jsdom\",\n\t\"happy-dom\": \"happy-dom\",\n\t\"edge-runtime\": \"@edge-runtime/vm\"\n};\nfunction getEnvPackageName(env) {\n\treturn env === \"node\" ? null : env in envPackageNames ? envPackageNames[env] : env[0] === \".\" || isAbsolute(env) ? null : `vitest-environment-${env}`;\n}\n\nvar cliApi = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  formatCollectedAsJSON: formatCollectedAsJSON,\n  formatCollectedAsString: formatCollectedAsString,\n  outputFileList: outputFileList,\n  prepareVitest: prepareVitest,\n  processCollected: processCollected,\n  startVitest: startVitest\n});\n\nexport { FilesNotFoundError as F, GitNotFoundError as G, ThreadsPoolWorker as T, Vitest as V, VitestPlugin as a, VitestPackageInstaller as b, createVitest as c, createMethodsRPC as d, escapeTestName as e, ForksPoolWorker as f, getFilePoolName as g, TypecheckPoolWorker as h, isValidApiRequest as i, VmForksPoolWorker as j, VmThreadsPoolWorker as k, experimental_getRunnerTask as l, registerConsoleShortcuts as m, createViteLogger as n, createDebugger as o, cliApi as p, resolveFsAllow as r, startVitest as s };\n", "const CoverageProviderMap = {\n\tv8: \"@vitest/coverage-v8\",\n\tistanbul: \"@vitest/coverage-istanbul\"\n};\nasync function resolveCoverageProviderModule(options, loader) {\n\tif (!options?.enabled || !options.provider) return null;\n\tconst provider = options.provider;\n\tif (provider === \"v8\" || provider === \"istanbul\") {\n\t\tlet builtInModule = CoverageProviderMap[provider];\n\t\tif (provider === \"v8\" && loader.isBrowser) builtInModule += \"/browser\";\n\t\tconst { default: coverageModule } = await loader.import(builtInModule);\n\t\tif (!coverageModule) throw new Error(`Failed to load ${CoverageProviderMap[provider]}. Default export is missing.`);\n\t\treturn coverageModule;\n\t}\n\tlet customProviderModule;\n\ttry {\n\t\tcustomProviderModule = await loader.import(options.customProviderModule);\n\t} catch (error) {\n\t\tthrow new Error(`Failed to load custom CoverageProviderModule from ${options.customProviderModule}`, { cause: error });\n\t}\n\tif (customProviderModule.default == null) throw new Error(`Custom CoverageProviderModule loaded from ${options.customProviderModule} was not the default export`);\n\treturn customProviderModule.default;\n}\n\nexport { CoverageProviderMap as C, resolveCoverageProviderModule as r };\n", "import fs, { statSync, realpathSync, existsSync, promises, readdirSync, writeFileSync } from 'node:fs';\nimport path, { win32, dirname, join } from 'node:path';\nimport { slash, shuffle, toArray, cleanUrl } from '@vitest/utils/helpers';\nimport { isAbsolute, resolve, relative, normalize } from 'pathe';\nimport pm from 'picomatch';\nimport { glob } from 'tinyglobby';\nimport c from 'tinyrainbow';\nimport { c as configDefaults, e as benchmarkConfigDefaults, a as coverageConfigDefaults } from './defaults.BOqNVLsY.js';\nimport crypto from 'node:crypto';\nimport { builtinModules, createRequire } from 'node:module';\nimport process$1 from 'node:process';\nimport fs$1 from 'node:fs/promises';\nimport { fileURLToPath as fileURLToPath$1, pathToFileURL as pathToFileURL$1, URL as URL$1 } from 'node:url';\nimport assert from 'node:assert';\nimport v8 from 'node:v8';\nimport { format, inspect } from 'node:util';\nimport { mergeConfig } from 'vite';\nimport { c as configFiles, d as defaultBrowserPort, b as defaultInspectPort, a as defaultPort } from './constants.D_Q9UYh-.js';\nimport './env.D4Lgay0q.js';\nimport nodeos__default from 'node:os';\nimport { isCI, provider } from 'std-env';\nimport { r as resolveCoverageProviderModule } from './coverage.D_JHT54q.js';\n\nconst hash = crypto.hash ?? ((algorithm, data, outputEncoding) => crypto.createHash(algorithm).update(data).digest(outputEncoding));\n\nconst JOIN_LEADING_SLASH_RE = /^\\.?\\//;\nfunction withTrailingSlash(input = \"\", respectQueryAndFragment) {\n  {\n    return input.endsWith(\"/\") ? input : input + \"/\";\n  }\n}\nfunction isNonEmptyURL(url) {\n  return url && url !== \"/\";\n}\nfunction joinURL(base, ...input) {\n  let url = base || \"\";\n  for (const segment of input.filter((url2) => isNonEmptyURL(url2))) {\n    if (url) {\n      const _segment = segment.replace(JOIN_LEADING_SLASH_RE, \"\");\n      url = withTrailingSlash(url) + _segment;\n    } else {\n      url = segment;\n    }\n  }\n  return url;\n}\n\nconst BUILTIN_MODULES = new Set(builtinModules);\nfunction normalizeSlash(path) {\n  return path.replace(/\\\\/g, \"/\");\n}\n\n/**\n * @typedef ErrnoExceptionFields\n * @property {number | undefined} [errnode]\n * @property {string | undefined} [code]\n * @property {string | undefined} [path]\n * @property {string | undefined} [syscall]\n * @property {string | undefined} [url]\n *\n * @typedef {Error & ErrnoExceptionFields} ErrnoException\n */\n\n\nconst own$1 = {}.hasOwnProperty;\n\nconst classRegExp = /^([A-Z][a-z\\d]*)+$/;\n// Sorted by a rough estimate on most frequently used entries.\nconst kTypes = new Set([\n  'string',\n  'function',\n  'number',\n  'object',\n  // Accept 'Function' and 'Object' as alternative to the lower cased version.\n  'Function',\n  'Object',\n  'boolean',\n  'bigint',\n  'symbol'\n]);\n\nconst codes = {};\n\n/**\n * Create a list string in the form like 'A and B' or 'A, B, ..., and Z'.\n * We cannot use Intl.ListFormat because it's not available in\n * --without-intl builds.\n *\n * @param {Array<string>} array\n *   An array of strings.\n * @param {string} [type]\n *   The list type to be inserted before the last element.\n * @returns {string}\n */\nfunction formatList(array, type = 'and') {\n  return array.length < 3\n    ? array.join(` ${type} `)\n    : `${array.slice(0, -1).join(', ')}, ${type} ${array[array.length - 1]}`\n}\n\n/** @type {Map<string, MessageFunction | string>} */\nconst messages = new Map();\nconst nodeInternalPrefix = '__node_internal_';\n/** @type {number} */\nlet userStackTraceLimit;\n\ncodes.ERR_INVALID_ARG_TYPE = createError(\n  'ERR_INVALID_ARG_TYPE',\n  /**\n   * @param {string} name\n   * @param {Array<string> | string} expected\n   * @param {unknown} actual\n   */\n  (name, expected, actual) => {\n    assert(typeof name === 'string', \"'name' must be a string\");\n    if (!Array.isArray(expected)) {\n      expected = [expected];\n    }\n\n    let message = 'The ';\n    if (name.endsWith(' argument')) {\n      // For cases like 'first argument'\n      message += `${name} `;\n    } else {\n      const type = name.includes('.') ? 'property' : 'argument';\n      message += `\"${name}\" ${type} `;\n    }\n\n    message += 'must be ';\n\n    /** @type {Array<string>} */\n    const types = [];\n    /** @type {Array<string>} */\n    const instances = [];\n    /** @type {Array<string>} */\n    const other = [];\n\n    for (const value of expected) {\n      assert(\n        typeof value === 'string',\n        'All expected entries have to be of type string'\n      );\n\n      if (kTypes.has(value)) {\n        types.push(value.toLowerCase());\n      } else if (classRegExp.exec(value) === null) {\n        assert(\n          value !== 'object',\n          'The value \"object\" should be written as \"Object\"'\n        );\n        other.push(value);\n      } else {\n        instances.push(value);\n      }\n    }\n\n    // Special handle `object` in case other instances are allowed to outline\n    // the differences between each other.\n    if (instances.length > 0) {\n      const pos = types.indexOf('object');\n      if (pos !== -1) {\n        types.slice(pos, 1);\n        instances.push('Object');\n      }\n    }\n\n    if (types.length > 0) {\n      message += `${types.length > 1 ? 'one of type' : 'of type'} ${formatList(\n        types,\n        'or'\n      )}`;\n      if (instances.length > 0 || other.length > 0) message += ' or ';\n    }\n\n    if (instances.length > 0) {\n      message += `an instance of ${formatList(instances, 'or')}`;\n      if (other.length > 0) message += ' or ';\n    }\n\n    if (other.length > 0) {\n      if (other.length > 1) {\n        message += `one of ${formatList(other, 'or')}`;\n      } else {\n        if (other[0].toLowerCase() !== other[0]) message += 'an ';\n        message += `${other[0]}`;\n      }\n    }\n\n    message += `. Received ${determineSpecificType(actual)}`;\n\n    return message\n  },\n  TypeError\n);\n\ncodes.ERR_INVALID_MODULE_SPECIFIER = createError(\n  'ERR_INVALID_MODULE_SPECIFIER',\n  /**\n   * @param {string} request\n   * @param {string} reason\n   * @param {string} [base]\n   */\n  (request, reason, base = undefined) => {\n    return `Invalid module \"${request}\" ${reason}${\n      base ? ` imported from ${base}` : ''\n    }`\n  },\n  TypeError\n);\n\ncodes.ERR_INVALID_PACKAGE_CONFIG = createError(\n  'ERR_INVALID_PACKAGE_CONFIG',\n  /**\n   * @param {string} path\n   * @param {string} [base]\n   * @param {string} [message]\n   */\n  (path, base, message) => {\n    return `Invalid package config ${path}${\n      base ? ` while importing ${base}` : ''\n    }${message ? `. ${message}` : ''}`\n  },\n  Error\n);\n\ncodes.ERR_INVALID_PACKAGE_TARGET = createError(\n  'ERR_INVALID_PACKAGE_TARGET',\n  /**\n   * @param {string} packagePath\n   * @param {string} key\n   * @param {unknown} target\n   * @param {boolean} [isImport=false]\n   * @param {string} [base]\n   */\n  (packagePath, key, target, isImport = false, base = undefined) => {\n    const relatedError =\n      typeof target === 'string' &&\n      !isImport &&\n      target.length > 0 &&\n      !target.startsWith('./');\n    if (key === '.') {\n      assert(isImport === false);\n      return (\n        `Invalid \"exports\" main target ${JSON.stringify(target)} defined ` +\n        `in the package config ${packagePath}package.json${\n          base ? ` imported from ${base}` : ''\n        }${relatedError ? '; targets must start with \"./\"' : ''}`\n      )\n    }\n\n    return `Invalid \"${\n      isImport ? 'imports' : 'exports'\n    }\" target ${JSON.stringify(\n      target\n    )} defined for '${key}' in the package config ${packagePath}package.json${\n      base ? ` imported from ${base}` : ''\n    }${relatedError ? '; targets must start with \"./\"' : ''}`\n  },\n  Error\n);\n\ncodes.ERR_MODULE_NOT_FOUND = createError(\n  'ERR_MODULE_NOT_FOUND',\n  /**\n   * @param {string} path\n   * @param {string} base\n   * @param {boolean} [exactUrl]\n   */\n  (path, base, exactUrl = false) => {\n    return `Cannot find ${\n      exactUrl ? 'module' : 'package'\n    } '${path}' imported from ${base}`\n  },\n  Error\n);\n\ncodes.ERR_NETWORK_IMPORT_DISALLOWED = createError(\n  'ERR_NETWORK_IMPORT_DISALLOWED',\n  \"import of '%s' by %s is not supported: %s\",\n  Error\n);\n\ncodes.ERR_PACKAGE_IMPORT_NOT_DEFINED = createError(\n  'ERR_PACKAGE_IMPORT_NOT_DEFINED',\n  /**\n   * @param {string} specifier\n   * @param {string} packagePath\n   * @param {string} base\n   */\n  (specifier, packagePath, base) => {\n    return `Package import specifier \"${specifier}\" is not defined${\n      packagePath ? ` in package ${packagePath}package.json` : ''\n    } imported from ${base}`\n  },\n  TypeError\n);\n\ncodes.ERR_PACKAGE_PATH_NOT_EXPORTED = createError(\n  'ERR_PACKAGE_PATH_NOT_EXPORTED',\n  /**\n   * @param {string} packagePath\n   * @param {string} subpath\n   * @param {string} [base]\n   */\n  (packagePath, subpath, base = undefined) => {\n    if (subpath === '.')\n      return `No \"exports\" main defined in ${packagePath}package.json${\n        base ? ` imported from ${base}` : ''\n      }`\n    return `Package subpath '${subpath}' is not defined by \"exports\" in ${packagePath}package.json${\n      base ? ` imported from ${base}` : ''\n    }`\n  },\n  Error\n);\n\ncodes.ERR_UNSUPPORTED_DIR_IMPORT = createError(\n  'ERR_UNSUPPORTED_DIR_IMPORT',\n  \"Directory import '%s' is not supported \" +\n    'resolving ES modules imported from %s',\n  Error\n);\n\ncodes.ERR_UNSUPPORTED_RESOLVE_REQUEST = createError(\n  'ERR_UNSUPPORTED_RESOLVE_REQUEST',\n  'Failed to resolve module specifier \"%s\" from \"%s\": Invalid relative URL or base scheme is not hierarchical.',\n  TypeError\n);\n\ncodes.ERR_UNKNOWN_FILE_EXTENSION = createError(\n  'ERR_UNKNOWN_FILE_EXTENSION',\n  /**\n   * @param {string} extension\n   * @param {string} path\n   */\n  (extension, path) => {\n    return `Unknown file extension \"${extension}\" for ${path}`\n  },\n  TypeError\n);\n\ncodes.ERR_INVALID_ARG_VALUE = createError(\n  'ERR_INVALID_ARG_VALUE',\n  /**\n   * @param {string} name\n   * @param {unknown} value\n   * @param {string} [reason='is invalid']\n   */\n  (name, value, reason = 'is invalid') => {\n    let inspected = inspect(value);\n\n    if (inspected.length > 128) {\n      inspected = `${inspected.slice(0, 128)}...`;\n    }\n\n    const type = name.includes('.') ? 'property' : 'argument';\n\n    return `The ${type} '${name}' ${reason}. Received ${inspected}`\n  },\n  TypeError\n  // Note: extra classes have been shaken out.\n  // , RangeError\n);\n\n/**\n * Utility function for registering the error codes. Only used here. Exported\n * *only* to allow for testing.\n * @param {string} sym\n * @param {MessageFunction | string} value\n * @param {ErrorConstructor} constructor\n * @returns {new (...parameters: Array<any>) => Error}\n */\nfunction createError(sym, value, constructor) {\n  // Special case for SystemError that formats the error message differently\n  // The SystemErrors only have SystemError as their base classes.\n  messages.set(sym, value);\n\n  return makeNodeErrorWithCode(constructor, sym)\n}\n\n/**\n * @param {ErrorConstructor} Base\n * @param {string} key\n * @returns {ErrorConstructor}\n */\nfunction makeNodeErrorWithCode(Base, key) {\n  // @ts-expect-error It’s a Node error.\n  return NodeError\n  /**\n   * @param {Array<unknown>} parameters\n   */\n  function NodeError(...parameters) {\n    const limit = Error.stackTraceLimit;\n    if (isErrorStackTraceLimitWritable()) Error.stackTraceLimit = 0;\n    const error = new Base();\n    // Reset the limit and setting the name property.\n    if (isErrorStackTraceLimitWritable()) Error.stackTraceLimit = limit;\n    const message = getMessage(key, parameters, error);\n    Object.defineProperties(error, {\n      // Note: no need to implement `kIsNodeError` symbol, would be hard,\n      // probably.\n      message: {\n        value: message,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      },\n      toString: {\n        /** @this {Error} */\n        value() {\n          return `${this.name} [${key}]: ${this.message}`\n        },\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n\n    captureLargerStackTrace(error);\n    // @ts-expect-error It’s a Node error.\n    error.code = key;\n    return error\n  }\n}\n\n/**\n * @returns {boolean}\n */\nfunction isErrorStackTraceLimitWritable() {\n  // Do no touch Error.stackTraceLimit as V8 would attempt to install\n  // it again during deserialization.\n  try {\n    if (v8.startupSnapshot.isBuildingSnapshot()) {\n      return false\n    }\n  } catch {}\n\n  const desc = Object.getOwnPropertyDescriptor(Error, 'stackTraceLimit');\n  if (desc === undefined) {\n    return Object.isExtensible(Error)\n  }\n\n  return own$1.call(desc, 'writable') && desc.writable !== undefined\n    ? desc.writable\n    : desc.set !== undefined\n}\n\n/**\n * This function removes unnecessary frames from Node.js core errors.\n * @template {(...parameters: unknown[]) => unknown} T\n * @param {T} wrappedFunction\n * @returns {T}\n */\nfunction hideStackFrames(wrappedFunction) {\n  // We rename the functions that will be hidden to cut off the stacktrace\n  // at the outermost one\n  const hidden = nodeInternalPrefix + wrappedFunction.name;\n  Object.defineProperty(wrappedFunction, 'name', {value: hidden});\n  return wrappedFunction\n}\n\nconst captureLargerStackTrace = hideStackFrames(\n  /**\n   * @param {Error} error\n   * @returns {Error}\n   */\n  // @ts-expect-error: fine\n  function (error) {\n    const stackTraceLimitIsWritable = isErrorStackTraceLimitWritable();\n    if (stackTraceLimitIsWritable) {\n      userStackTraceLimit = Error.stackTraceLimit;\n      Error.stackTraceLimit = Number.POSITIVE_INFINITY;\n    }\n\n    Error.captureStackTrace(error);\n\n    // Reset the limit\n    if (stackTraceLimitIsWritable) Error.stackTraceLimit = userStackTraceLimit;\n\n    return error\n  }\n);\n\n/**\n * @param {string} key\n * @param {Array<unknown>} parameters\n * @param {Error} self\n * @returns {string}\n */\nfunction getMessage(key, parameters, self) {\n  const message = messages.get(key);\n  assert(message !== undefined, 'expected `message` to be found');\n\n  if (typeof message === 'function') {\n    assert(\n      message.length <= parameters.length, // Default options do not count.\n      `Code: ${key}; The provided arguments length (${parameters.length}) does not ` +\n        `match the required ones (${message.length}).`\n    );\n    return Reflect.apply(message, self, parameters)\n  }\n\n  const regex = /%[dfijoOs]/g;\n  let expectedLength = 0;\n  while (regex.exec(message) !== null) expectedLength++;\n  assert(\n    expectedLength === parameters.length,\n    `Code: ${key}; The provided arguments length (${parameters.length}) does not ` +\n      `match the required ones (${expectedLength}).`\n  );\n  if (parameters.length === 0) return message\n\n  parameters.unshift(message);\n  return Reflect.apply(format, null, parameters)\n}\n\n/**\n * Determine the specific type of a value for type-mismatch errors.\n * @param {unknown} value\n * @returns {string}\n */\nfunction determineSpecificType(value) {\n  if (value === null || value === undefined) {\n    return String(value)\n  }\n\n  if (typeof value === 'function' && value.name) {\n    return `function ${value.name}`\n  }\n\n  if (typeof value === 'object') {\n    if (value.constructor && value.constructor.name) {\n      return `an instance of ${value.constructor.name}`\n    }\n\n    return `${inspect(value, {depth: -1})}`\n  }\n\n  let inspected = inspect(value, {colors: false});\n\n  if (inspected.length > 28) {\n    inspected = `${inspected.slice(0, 25)}...`;\n  }\n\n  return `type ${typeof value} (${inspected})`\n}\n\n// Manually “tree shaken” from:\n// <https://github.com/nodejs/node/blob/7c3dce0/lib/internal/modules/package_json_reader.js>\n// Last checked on: Apr 29, 2023.\n// Removed the native dependency.\n// Also: no need to cache, we do that in resolve already.\n\n\nconst hasOwnProperty$1 = {}.hasOwnProperty;\n\nconst {ERR_INVALID_PACKAGE_CONFIG: ERR_INVALID_PACKAGE_CONFIG$1} = codes;\n\n/** @type {Map<string, PackageConfig>} */\nconst cache = new Map();\n\n/**\n * @param {string} jsonPath\n * @param {{specifier: URL | string, base?: URL}} options\n * @returns {PackageConfig}\n */\nfunction read(jsonPath, {base, specifier}) {\n  const existing = cache.get(jsonPath);\n\n  if (existing) {\n    return existing\n  }\n\n  /** @type {string | undefined} */\n  let string;\n\n  try {\n    string = fs.readFileSync(path.toNamespacedPath(jsonPath), 'utf8');\n  } catch (error) {\n    const exception = /** @type {ErrnoException} */ (error);\n\n    if (exception.code !== 'ENOENT') {\n      throw exception\n    }\n  }\n\n  /** @type {PackageConfig} */\n  const result = {\n    exists: false,\n    pjsonPath: jsonPath,\n    main: undefined,\n    name: undefined,\n    type: 'none', // Ignore unknown types for forwards compatibility\n    exports: undefined,\n    imports: undefined\n  };\n\n  if (string !== undefined) {\n    /** @type {Record<string, unknown>} */\n    let parsed;\n\n    try {\n      parsed = JSON.parse(string);\n    } catch (error_) {\n      const cause = /** @type {ErrnoException} */ (error_);\n      const error = new ERR_INVALID_PACKAGE_CONFIG$1(\n        jsonPath,\n        (base ? `\"${specifier}\" from ` : '') + fileURLToPath$1(base || specifier),\n        cause.message\n      );\n      error.cause = cause;\n      throw error\n    }\n\n    result.exists = true;\n\n    if (\n      hasOwnProperty$1.call(parsed, 'name') &&\n      typeof parsed.name === 'string'\n    ) {\n      result.name = parsed.name;\n    }\n\n    if (\n      hasOwnProperty$1.call(parsed, 'main') &&\n      typeof parsed.main === 'string'\n    ) {\n      result.main = parsed.main;\n    }\n\n    if (hasOwnProperty$1.call(parsed, 'exports')) {\n      // @ts-expect-error: assume valid.\n      result.exports = parsed.exports;\n    }\n\n    if (hasOwnProperty$1.call(parsed, 'imports')) {\n      // @ts-expect-error: assume valid.\n      result.imports = parsed.imports;\n    }\n\n    // Ignore unknown types for forwards compatibility\n    if (\n      hasOwnProperty$1.call(parsed, 'type') &&\n      (parsed.type === 'commonjs' || parsed.type === 'module')\n    ) {\n      result.type = parsed.type;\n    }\n  }\n\n  cache.set(jsonPath, result);\n\n  return result\n}\n\n/**\n * @param {URL | string} resolved\n * @returns {PackageConfig}\n */\nfunction getPackageScopeConfig(resolved) {\n  // Note: in Node, this is now a native module.\n  let packageJSONUrl = new URL('package.json', resolved);\n\n  while (true) {\n    const packageJSONPath = packageJSONUrl.pathname;\n    if (packageJSONPath.endsWith('node_modules/package.json')) {\n      break\n    }\n\n    const packageConfig = read(fileURLToPath$1(packageJSONUrl), {\n      specifier: resolved\n    });\n\n    if (packageConfig.exists) {\n      return packageConfig\n    }\n\n    const lastPackageJSONUrl = packageJSONUrl;\n    packageJSONUrl = new URL('../package.json', packageJSONUrl);\n\n    // Terminates at root where ../package.json equals ../../package.json\n    // (can't just check \"/package.json\" for Windows support).\n    if (packageJSONUrl.pathname === lastPackageJSONUrl.pathname) {\n      break\n    }\n  }\n\n  const packageJSONPath = fileURLToPath$1(packageJSONUrl);\n  // ^^ Note: in Node, this is now a native module.\n\n  return {\n    pjsonPath: packageJSONPath,\n    exists: false,\n    type: 'none'\n  }\n}\n\n/**\n * Returns the package type for a given URL.\n * @param {URL} url - The URL to get the package type for.\n * @returns {PackageType}\n */\nfunction getPackageType(url) {\n  // To do @anonrig: Write a C++ function that returns only \"type\".\n  return getPackageScopeConfig(url).type\n}\n\n// Manually “tree shaken” from:\n// <https://github.com/nodejs/node/blob/7c3dce0/lib/internal/modules/esm/get_format.js>\n// Last checked on: Apr 29, 2023.\n\n\nconst {ERR_UNKNOWN_FILE_EXTENSION} = codes;\n\nconst hasOwnProperty = {}.hasOwnProperty;\n\n/** @type {Record<string, string>} */\nconst extensionFormatMap = {\n  // @ts-expect-error: hush.\n  __proto__: null,\n  '.cjs': 'commonjs',\n  '.js': 'module',\n  '.json': 'json',\n  '.mjs': 'module'\n};\n\n/**\n * @param {string | null} mime\n * @returns {string | null}\n */\nfunction mimeToFormat(mime) {\n  if (\n    mime &&\n    /\\s*(text|application)\\/javascript\\s*(;\\s*charset=utf-?8\\s*)?/i.test(mime)\n  )\n    return 'module'\n  if (mime === 'application/json') return 'json'\n  return null\n}\n\n/**\n * @callback ProtocolHandler\n * @param {URL} parsed\n * @param {{parentURL: string, source?: Buffer}} context\n * @param {boolean} ignoreErrors\n * @returns {string | null | void}\n */\n\n/**\n * @type {Record<string, ProtocolHandler>}\n */\nconst protocolHandlers = {\n  // @ts-expect-error: hush.\n  __proto__: null,\n  'data:': getDataProtocolModuleFormat,\n  'file:': getFileProtocolModuleFormat,\n  'http:': getHttpProtocolModuleFormat,\n  'https:': getHttpProtocolModuleFormat,\n  'node:'() {\n    return 'builtin'\n  }\n};\n\n/**\n * @param {URL} parsed\n */\nfunction getDataProtocolModuleFormat(parsed) {\n  const {1: mime} = /^([^/]+\\/[^;,]+)[^,]*?(;base64)?,/.exec(\n    parsed.pathname\n  ) || [null, null, null];\n  return mimeToFormat(mime)\n}\n\n/**\n * Returns the file extension from a URL.\n *\n * Should give similar result to\n * `require('node:path').extname(require('node:url').fileURLToPath(url))`\n * when used with a `file:` URL.\n *\n * @param {URL} url\n * @returns {string}\n */\nfunction extname(url) {\n  const pathname = url.pathname;\n  let index = pathname.length;\n\n  while (index--) {\n    const code = pathname.codePointAt(index);\n\n    if (code === 47 /* `/` */) {\n      return ''\n    }\n\n    if (code === 46 /* `.` */) {\n      return pathname.codePointAt(index - 1) === 47 /* `/` */\n        ? ''\n        : pathname.slice(index)\n    }\n  }\n\n  return ''\n}\n\n/**\n * @type {ProtocolHandler}\n */\nfunction getFileProtocolModuleFormat(url, _context, ignoreErrors) {\n  const value = extname(url);\n\n  if (value === '.js') {\n    const packageType = getPackageType(url);\n\n    if (packageType !== 'none') {\n      return packageType\n    }\n\n    return 'commonjs'\n  }\n\n  if (value === '') {\n    const packageType = getPackageType(url);\n\n    // Legacy behavior\n    if (packageType === 'none' || packageType === 'commonjs') {\n      return 'commonjs'\n    }\n\n    // Note: we don’t implement WASM, so we don’t need\n    // `getFormatOfExtensionlessFile` from `formats`.\n    return 'module'\n  }\n\n  const format = extensionFormatMap[value];\n  if (format) return format\n\n  // Explicit undefined return indicates load hook should rerun format check\n  if (ignoreErrors) {\n    return undefined\n  }\n\n  const filepath = fileURLToPath$1(url);\n  throw new ERR_UNKNOWN_FILE_EXTENSION(value, filepath)\n}\n\nfunction getHttpProtocolModuleFormat() {\n  // To do: HTTPS imports.\n}\n\n/**\n * @param {URL} url\n * @param {{parentURL: string}} context\n * @returns {string | null}\n */\nfunction defaultGetFormatWithoutErrors(url, context) {\n  const protocol = url.protocol;\n\n  if (!hasOwnProperty.call(protocolHandlers, protocol)) {\n    return null\n  }\n\n  return protocolHandlers[protocol](url, context, true) || null\n}\n\n// Manually “tree shaken” from:\n// <https://github.com/nodejs/node/blob/81a9a97/lib/internal/modules/esm/resolve.js>\n// Last checked on: Apr 29, 2023.\n\n\nconst RegExpPrototypeSymbolReplace = RegExp.prototype[Symbol.replace];\n\nconst {\n  ERR_INVALID_MODULE_SPECIFIER,\n  ERR_INVALID_PACKAGE_CONFIG,\n  ERR_INVALID_PACKAGE_TARGET,\n  ERR_MODULE_NOT_FOUND,\n  ERR_PACKAGE_IMPORT_NOT_DEFINED,\n  ERR_PACKAGE_PATH_NOT_EXPORTED,\n  ERR_UNSUPPORTED_DIR_IMPORT,\n  ERR_UNSUPPORTED_RESOLVE_REQUEST\n} = codes;\n\nconst own = {}.hasOwnProperty;\n\nconst invalidSegmentRegEx =\n  /(^|\\\\|\\/)((\\.|%2e)(\\.|%2e)?|(n|%6e|%4e)(o|%6f|%4f)(d|%64|%44)(e|%65|%45)(_|%5f)(m|%6d|%4d)(o|%6f|%4f)(d|%64|%44)(u|%75|%55)(l|%6c|%4c)(e|%65|%45)(s|%73|%53))?(\\\\|\\/|$)/i;\nconst deprecatedInvalidSegmentRegEx =\n  /(^|\\\\|\\/)((\\.|%2e)(\\.|%2e)?|(n|%6e|%4e)(o|%6f|%4f)(d|%64|%44)(e|%65|%45)(_|%5f)(m|%6d|%4d)(o|%6f|%4f)(d|%64|%44)(u|%75|%55)(l|%6c|%4c)(e|%65|%45)(s|%73|%53))(\\\\|\\/|$)/i;\nconst invalidPackageNameRegEx = /^\\.|%|\\\\/;\nconst patternRegEx = /\\*/g;\nconst encodedSeparatorRegEx = /%2f|%5c/i;\n/** @type {Set<string>} */\nconst emittedPackageWarnings = new Set();\n\nconst doubleSlashRegEx = /[/\\\\]{2}/;\n\n/**\n *\n * @param {string} target\n * @param {string} request\n * @param {string} match\n * @param {URL} packageJsonUrl\n * @param {boolean} internal\n * @param {URL} base\n * @param {boolean} isTarget\n */\nfunction emitInvalidSegmentDeprecation(\n  target,\n  request,\n  match,\n  packageJsonUrl,\n  internal,\n  base,\n  isTarget\n) {\n  // @ts-expect-error: apparently it does exist, TS.\n  if (process$1.noDeprecation) {\n    return\n  }\n\n  const pjsonPath = fileURLToPath$1(packageJsonUrl);\n  const double = doubleSlashRegEx.exec(isTarget ? target : request) !== null;\n  process$1.emitWarning(\n    `Use of deprecated ${\n      double ? 'double slash' : 'leading or trailing slash matching'\n    } resolving \"${target}\" for module ` +\n      `request \"${request}\" ${\n        request === match ? '' : `matched to \"${match}\" `\n      }in the \"${\n        internal ? 'imports' : 'exports'\n      }\" field module resolution of the package at ${pjsonPath}${\n        base ? ` imported from ${fileURLToPath$1(base)}` : ''\n      }.`,\n    'DeprecationWarning',\n    'DEP0166'\n  );\n}\n\n/**\n * @param {URL} url\n * @param {URL} packageJsonUrl\n * @param {URL} base\n * @param {string} [main]\n * @returns {void}\n */\nfunction emitLegacyIndexDeprecation(url, packageJsonUrl, base, main) {\n  // @ts-expect-error: apparently it does exist, TS.\n  if (process$1.noDeprecation) {\n    return\n  }\n\n  const format = defaultGetFormatWithoutErrors(url, {parentURL: base.href});\n  if (format !== 'module') return\n  const urlPath = fileURLToPath$1(url.href);\n  const packagePath = fileURLToPath$1(new URL$1('.', packageJsonUrl));\n  const basePath = fileURLToPath$1(base);\n  if (!main) {\n    process$1.emitWarning(\n      `No \"main\" or \"exports\" field defined in the package.json for ${packagePath} resolving the main entry point \"${urlPath.slice(\n        packagePath.length\n      )}\", imported from ${basePath}.\\nDefault \"index\" lookups for the main are deprecated for ES modules.`,\n      'DeprecationWarning',\n      'DEP0151'\n    );\n  } else if (path.resolve(packagePath, main) !== urlPath) {\n    process$1.emitWarning(\n      `Package ${packagePath} has a \"main\" field set to \"${main}\", ` +\n        `excluding the full filename and extension to the resolved file at \"${urlPath.slice(\n          packagePath.length\n        )}\", imported from ${basePath}.\\n Automatic extension resolution of the \"main\" field is ` +\n        'deprecated for ES modules.',\n      'DeprecationWarning',\n      'DEP0151'\n    );\n  }\n}\n\n/**\n * @param {string} path\n * @returns {Stats | undefined}\n */\nfunction tryStatSync(path) {\n  // Note: from Node 15 onwards we can use `throwIfNoEntry: false` instead.\n  try {\n    return statSync(path)\n  } catch {\n    // Note: in Node code this returns `new Stats`,\n    // but in Node 22 that’s marked as a deprecated internal API.\n    // Which, well, we kinda are, but still to prevent that warning,\n    // just yield `undefined`.\n  }\n}\n\n/**\n * Legacy CommonJS main resolution:\n * 1. let M = pkg_url + (json main field)\n * 2. TRY(M, M.js, M.json, M.node)\n * 3. TRY(M/index.js, M/index.json, M/index.node)\n * 4. TRY(pkg_url/index.js, pkg_url/index.json, pkg_url/index.node)\n * 5. NOT_FOUND\n *\n * @param {URL} url\n * @returns {boolean}\n */\nfunction fileExists(url) {\n  const stats = statSync(url, {throwIfNoEntry: false});\n  const isFile = stats ? stats.isFile() : undefined;\n  return isFile === null || isFile === undefined ? false : isFile\n}\n\n/**\n * @param {URL} packageJsonUrl\n * @param {PackageConfig} packageConfig\n * @param {URL} base\n * @returns {URL}\n */\nfunction legacyMainResolve(packageJsonUrl, packageConfig, base) {\n  /** @type {URL | undefined} */\n  let guess;\n  if (packageConfig.main !== undefined) {\n    guess = new URL$1(packageConfig.main, packageJsonUrl);\n    // Note: fs check redundances will be handled by Descriptor cache here.\n    if (fileExists(guess)) return guess\n\n    const tries = [\n      `./${packageConfig.main}.js`,\n      `./${packageConfig.main}.json`,\n      `./${packageConfig.main}.node`,\n      `./${packageConfig.main}/index.js`,\n      `./${packageConfig.main}/index.json`,\n      `./${packageConfig.main}/index.node`\n    ];\n    let i = -1;\n\n    while (++i < tries.length) {\n      guess = new URL$1(tries[i], packageJsonUrl);\n      if (fileExists(guess)) break\n      guess = undefined;\n    }\n\n    if (guess) {\n      emitLegacyIndexDeprecation(\n        guess,\n        packageJsonUrl,\n        base,\n        packageConfig.main\n      );\n      return guess\n    }\n    // Fallthrough.\n  }\n\n  const tries = ['./index.js', './index.json', './index.node'];\n  let i = -1;\n\n  while (++i < tries.length) {\n    guess = new URL$1(tries[i], packageJsonUrl);\n    if (fileExists(guess)) break\n    guess = undefined;\n  }\n\n  if (guess) {\n    emitLegacyIndexDeprecation(guess, packageJsonUrl, base, packageConfig.main);\n    return guess\n  }\n\n  // Not found.\n  throw new ERR_MODULE_NOT_FOUND(\n    fileURLToPath$1(new URL$1('.', packageJsonUrl)),\n    fileURLToPath$1(base)\n  )\n}\n\n/**\n * @param {URL} resolved\n * @param {URL} base\n * @param {boolean} [preserveSymlinks]\n * @returns {URL}\n */\nfunction finalizeResolution(resolved, base, preserveSymlinks) {\n  if (encodedSeparatorRegEx.exec(resolved.pathname) !== null) {\n    throw new ERR_INVALID_MODULE_SPECIFIER(\n      resolved.pathname,\n      'must not include encoded \"/\" or \"\\\\\" characters',\n      fileURLToPath$1(base)\n    )\n  }\n\n  /** @type {string} */\n  let filePath;\n\n  try {\n    filePath = fileURLToPath$1(resolved);\n  } catch (error) {\n    const cause = /** @type {ErrnoException} */ (error);\n    Object.defineProperty(cause, 'input', {value: String(resolved)});\n    Object.defineProperty(cause, 'module', {value: String(base)});\n    throw cause\n  }\n\n  const stats = tryStatSync(\n    filePath.endsWith('/') ? filePath.slice(-1) : filePath\n  );\n\n  if (stats && stats.isDirectory()) {\n    const error = new ERR_UNSUPPORTED_DIR_IMPORT(filePath, fileURLToPath$1(base));\n    // @ts-expect-error Add this for `import.meta.resolve`.\n    error.url = String(resolved);\n    throw error\n  }\n\n  if (!stats || !stats.isFile()) {\n    const error = new ERR_MODULE_NOT_FOUND(\n      filePath || resolved.pathname,\n      base && fileURLToPath$1(base),\n      true\n    );\n    // @ts-expect-error Add this for `import.meta.resolve`.\n    error.url = String(resolved);\n    throw error\n  }\n\n  {\n    const real = realpathSync(filePath);\n    const {search, hash} = resolved;\n    resolved = pathToFileURL$1(real + (filePath.endsWith(path.sep) ? '/' : ''));\n    resolved.search = search;\n    resolved.hash = hash;\n  }\n\n  return resolved\n}\n\n/**\n * @param {string} specifier\n * @param {URL | undefined} packageJsonUrl\n * @param {URL} base\n * @returns {Error}\n */\nfunction importNotDefined(specifier, packageJsonUrl, base) {\n  return new ERR_PACKAGE_IMPORT_NOT_DEFINED(\n    specifier,\n    packageJsonUrl && fileURLToPath$1(new URL$1('.', packageJsonUrl)),\n    fileURLToPath$1(base)\n  )\n}\n\n/**\n * @param {string} subpath\n * @param {URL} packageJsonUrl\n * @param {URL} base\n * @returns {Error}\n */\nfunction exportsNotFound(subpath, packageJsonUrl, base) {\n  return new ERR_PACKAGE_PATH_NOT_EXPORTED(\n    fileURLToPath$1(new URL$1('.', packageJsonUrl)),\n    subpath,\n    base && fileURLToPath$1(base)\n  )\n}\n\n/**\n * @param {string} request\n * @param {string} match\n * @param {URL} packageJsonUrl\n * @param {boolean} internal\n * @param {URL} [base]\n * @returns {never}\n */\nfunction throwInvalidSubpath(request, match, packageJsonUrl, internal, base) {\n  const reason = `request is not a valid match in pattern \"${match}\" for the \"${\n    internal ? 'imports' : 'exports'\n  }\" resolution of ${fileURLToPath$1(packageJsonUrl)}`;\n  throw new ERR_INVALID_MODULE_SPECIFIER(\n    request,\n    reason,\n    base && fileURLToPath$1(base)\n  )\n}\n\n/**\n * @param {string} subpath\n * @param {unknown} target\n * @param {URL} packageJsonUrl\n * @param {boolean} internal\n * @param {URL} [base]\n * @returns {Error}\n */\nfunction invalidPackageTarget(subpath, target, packageJsonUrl, internal, base) {\n  target =\n    typeof target === 'object' && target !== null\n      ? JSON.stringify(target, null, '')\n      : `${target}`;\n\n  return new ERR_INVALID_PACKAGE_TARGET(\n    fileURLToPath$1(new URL$1('.', packageJsonUrl)),\n    subpath,\n    target,\n    internal,\n    base && fileURLToPath$1(base)\n  )\n}\n\n/**\n * @param {string} target\n * @param {string} subpath\n * @param {string} match\n * @param {URL} packageJsonUrl\n * @param {URL} base\n * @param {boolean} pattern\n * @param {boolean} internal\n * @param {boolean} isPathMap\n * @param {Set<string> | undefined} conditions\n * @returns {URL}\n */\nfunction resolvePackageTargetString(\n  target,\n  subpath,\n  match,\n  packageJsonUrl,\n  base,\n  pattern,\n  internal,\n  isPathMap,\n  conditions\n) {\n  if (subpath !== '' && !pattern && target[target.length - 1] !== '/')\n    throw invalidPackageTarget(match, target, packageJsonUrl, internal, base)\n\n  if (!target.startsWith('./')) {\n    if (internal && !target.startsWith('../') && !target.startsWith('/')) {\n      let isURL = false;\n\n      try {\n        new URL$1(target);\n        isURL = true;\n      } catch {\n        // Continue regardless of error.\n      }\n\n      if (!isURL) {\n        const exportTarget = pattern\n          ? RegExpPrototypeSymbolReplace.call(\n              patternRegEx,\n              target,\n              () => subpath\n            )\n          : target + subpath;\n\n        return packageResolve(exportTarget, packageJsonUrl, conditions)\n      }\n    }\n\n    throw invalidPackageTarget(match, target, packageJsonUrl, internal, base)\n  }\n\n  if (invalidSegmentRegEx.exec(target.slice(2)) !== null) {\n    if (deprecatedInvalidSegmentRegEx.exec(target.slice(2)) === null) {\n      if (!isPathMap) {\n        const request = pattern\n          ? match.replace('*', () => subpath)\n          : match + subpath;\n        const resolvedTarget = pattern\n          ? RegExpPrototypeSymbolReplace.call(\n              patternRegEx,\n              target,\n              () => subpath\n            )\n          : target;\n        emitInvalidSegmentDeprecation(\n          resolvedTarget,\n          request,\n          match,\n          packageJsonUrl,\n          internal,\n          base,\n          true\n        );\n      }\n    } else {\n      throw invalidPackageTarget(match, target, packageJsonUrl, internal, base)\n    }\n  }\n\n  const resolved = new URL$1(target, packageJsonUrl);\n  const resolvedPath = resolved.pathname;\n  const packagePath = new URL$1('.', packageJsonUrl).pathname;\n\n  if (!resolvedPath.startsWith(packagePath))\n    throw invalidPackageTarget(match, target, packageJsonUrl, internal, base)\n\n  if (subpath === '') return resolved\n\n  if (invalidSegmentRegEx.exec(subpath) !== null) {\n    const request = pattern\n      ? match.replace('*', () => subpath)\n      : match + subpath;\n    if (deprecatedInvalidSegmentRegEx.exec(subpath) === null) {\n      if (!isPathMap) {\n        const resolvedTarget = pattern\n          ? RegExpPrototypeSymbolReplace.call(\n              patternRegEx,\n              target,\n              () => subpath\n            )\n          : target;\n        emitInvalidSegmentDeprecation(\n          resolvedTarget,\n          request,\n          match,\n          packageJsonUrl,\n          internal,\n          base,\n          false\n        );\n      }\n    } else {\n      throwInvalidSubpath(request, match, packageJsonUrl, internal, base);\n    }\n  }\n\n  if (pattern) {\n    return new URL$1(\n      RegExpPrototypeSymbolReplace.call(\n        patternRegEx,\n        resolved.href,\n        () => subpath\n      )\n    )\n  }\n\n  return new URL$1(subpath, resolved)\n}\n\n/**\n * @param {string} key\n * @returns {boolean}\n */\nfunction isArrayIndex(key) {\n  const keyNumber = Number(key);\n  if (`${keyNumber}` !== key) return false\n  return keyNumber >= 0 && keyNumber < 0xff_ff_ff_ff\n}\n\n/**\n * @param {URL} packageJsonUrl\n * @param {unknown} target\n * @param {string} subpath\n * @param {string} packageSubpath\n * @param {URL} base\n * @param {boolean} pattern\n * @param {boolean} internal\n * @param {boolean} isPathMap\n * @param {Set<string> | undefined} conditions\n * @returns {URL | null}\n */\nfunction resolvePackageTarget(\n  packageJsonUrl,\n  target,\n  subpath,\n  packageSubpath,\n  base,\n  pattern,\n  internal,\n  isPathMap,\n  conditions\n) {\n  if (typeof target === 'string') {\n    return resolvePackageTargetString(\n      target,\n      subpath,\n      packageSubpath,\n      packageJsonUrl,\n      base,\n      pattern,\n      internal,\n      isPathMap,\n      conditions\n    )\n  }\n\n  if (Array.isArray(target)) {\n    /** @type {Array<unknown>} */\n    const targetList = target;\n    if (targetList.length === 0) return null\n\n    /** @type {ErrnoException | null | undefined} */\n    let lastException;\n    let i = -1;\n\n    while (++i < targetList.length) {\n      const targetItem = targetList[i];\n      /** @type {URL | null} */\n      let resolveResult;\n      try {\n        resolveResult = resolvePackageTarget(\n          packageJsonUrl,\n          targetItem,\n          subpath,\n          packageSubpath,\n          base,\n          pattern,\n          internal,\n          isPathMap,\n          conditions\n        );\n      } catch (error) {\n        const exception = /** @type {ErrnoException} */ (error);\n        lastException = exception;\n        if (exception.code === 'ERR_INVALID_PACKAGE_TARGET') continue\n        throw error\n      }\n\n      if (resolveResult === undefined) continue\n\n      if (resolveResult === null) {\n        lastException = null;\n        continue\n      }\n\n      return resolveResult\n    }\n\n    if (lastException === undefined || lastException === null) {\n      return null\n    }\n\n    throw lastException\n  }\n\n  if (typeof target === 'object' && target !== null) {\n    const keys = Object.getOwnPropertyNames(target);\n    let i = -1;\n\n    while (++i < keys.length) {\n      const key = keys[i];\n      if (isArrayIndex(key)) {\n        throw new ERR_INVALID_PACKAGE_CONFIG(\n          fileURLToPath$1(packageJsonUrl),\n          base,\n          '\"exports\" cannot contain numeric property keys.'\n        )\n      }\n    }\n\n    i = -1;\n\n    while (++i < keys.length) {\n      const key = keys[i];\n      if (key === 'default' || (conditions && conditions.has(key))) {\n        // @ts-expect-error: indexable.\n        const conditionalTarget = /** @type {unknown} */ (target[key]);\n        const resolveResult = resolvePackageTarget(\n          packageJsonUrl,\n          conditionalTarget,\n          subpath,\n          packageSubpath,\n          base,\n          pattern,\n          internal,\n          isPathMap,\n          conditions\n        );\n        if (resolveResult === undefined) continue\n        return resolveResult\n      }\n    }\n\n    return null\n  }\n\n  if (target === null) {\n    return null\n  }\n\n  throw invalidPackageTarget(\n    packageSubpath,\n    target,\n    packageJsonUrl,\n    internal,\n    base\n  )\n}\n\n/**\n * @param {unknown} exports\n * @param {URL} packageJsonUrl\n * @param {URL} base\n * @returns {boolean}\n */\nfunction isConditionalExportsMainSugar(exports, packageJsonUrl, base) {\n  if (typeof exports === 'string' || Array.isArray(exports)) return true\n  if (typeof exports !== 'object' || exports === null) return false\n\n  const keys = Object.getOwnPropertyNames(exports);\n  let isConditionalSugar = false;\n  let i = 0;\n  let keyIndex = -1;\n  while (++keyIndex < keys.length) {\n    const key = keys[keyIndex];\n    const currentIsConditionalSugar = key === '' || key[0] !== '.';\n    if (i++ === 0) {\n      isConditionalSugar = currentIsConditionalSugar;\n    } else if (isConditionalSugar !== currentIsConditionalSugar) {\n      throw new ERR_INVALID_PACKAGE_CONFIG(\n        fileURLToPath$1(packageJsonUrl),\n        base,\n        '\"exports\" cannot contain some keys starting with \\'.\\' and some not.' +\n          ' The exports object must either be an object of package subpath keys' +\n          ' or an object of main entry condition name keys only.'\n      )\n    }\n  }\n\n  return isConditionalSugar\n}\n\n/**\n * @param {string} match\n * @param {URL} pjsonUrl\n * @param {URL} base\n */\nfunction emitTrailingSlashPatternDeprecation(match, pjsonUrl, base) {\n  // @ts-expect-error: apparently it does exist, TS.\n  if (process$1.noDeprecation) {\n    return\n  }\n\n  const pjsonPath = fileURLToPath$1(pjsonUrl);\n  if (emittedPackageWarnings.has(pjsonPath + '|' + match)) return\n  emittedPackageWarnings.add(pjsonPath + '|' + match);\n  process$1.emitWarning(\n    `Use of deprecated trailing slash pattern mapping \"${match}\" in the ` +\n      `\"exports\" field module resolution of the package at ${pjsonPath}${\n        base ? ` imported from ${fileURLToPath$1(base)}` : ''\n      }. Mapping specifiers ending in \"/\" is no longer supported.`,\n    'DeprecationWarning',\n    'DEP0155'\n  );\n}\n\n/**\n * @param {URL} packageJsonUrl\n * @param {string} packageSubpath\n * @param {Record<string, unknown>} packageConfig\n * @param {URL} base\n * @param {Set<string> | undefined} conditions\n * @returns {URL}\n */\nfunction packageExportsResolve(\n  packageJsonUrl,\n  packageSubpath,\n  packageConfig,\n  base,\n  conditions\n) {\n  let exports = packageConfig.exports;\n\n  if (isConditionalExportsMainSugar(exports, packageJsonUrl, base)) {\n    exports = {'.': exports};\n  }\n\n  if (\n    own.call(exports, packageSubpath) &&\n    !packageSubpath.includes('*') &&\n    !packageSubpath.endsWith('/')\n  ) {\n    // @ts-expect-error: indexable.\n    const target = exports[packageSubpath];\n    const resolveResult = resolvePackageTarget(\n      packageJsonUrl,\n      target,\n      '',\n      packageSubpath,\n      base,\n      false,\n      false,\n      false,\n      conditions\n    );\n    if (resolveResult === null || resolveResult === undefined) {\n      throw exportsNotFound(packageSubpath, packageJsonUrl, base)\n    }\n\n    return resolveResult\n  }\n\n  let bestMatch = '';\n  let bestMatchSubpath = '';\n  const keys = Object.getOwnPropertyNames(exports);\n  let i = -1;\n\n  while (++i < keys.length) {\n    const key = keys[i];\n    const patternIndex = key.indexOf('*');\n\n    if (\n      patternIndex !== -1 &&\n      packageSubpath.startsWith(key.slice(0, patternIndex))\n    ) {\n      // When this reaches EOL, this can throw at the top of the whole function:\n      //\n      // if (StringPrototypeEndsWith(packageSubpath, '/'))\n      //   throwInvalidSubpath(packageSubpath)\n      //\n      // To match \"imports\" and the spec.\n      if (packageSubpath.endsWith('/')) {\n        emitTrailingSlashPatternDeprecation(\n          packageSubpath,\n          packageJsonUrl,\n          base\n        );\n      }\n\n      const patternTrailer = key.slice(patternIndex + 1);\n\n      if (\n        packageSubpath.length >= key.length &&\n        packageSubpath.endsWith(patternTrailer) &&\n        patternKeyCompare(bestMatch, key) === 1 &&\n        key.lastIndexOf('*') === patternIndex\n      ) {\n        bestMatch = key;\n        bestMatchSubpath = packageSubpath.slice(\n          patternIndex,\n          packageSubpath.length - patternTrailer.length\n        );\n      }\n    }\n  }\n\n  if (bestMatch) {\n    // @ts-expect-error: indexable.\n    const target = /** @type {unknown} */ (exports[bestMatch]);\n    const resolveResult = resolvePackageTarget(\n      packageJsonUrl,\n      target,\n      bestMatchSubpath,\n      bestMatch,\n      base,\n      true,\n      false,\n      packageSubpath.endsWith('/'),\n      conditions\n    );\n\n    if (resolveResult === null || resolveResult === undefined) {\n      throw exportsNotFound(packageSubpath, packageJsonUrl, base)\n    }\n\n    return resolveResult\n  }\n\n  throw exportsNotFound(packageSubpath, packageJsonUrl, base)\n}\n\n/**\n * @param {string} a\n * @param {string} b\n */\nfunction patternKeyCompare(a, b) {\n  const aPatternIndex = a.indexOf('*');\n  const bPatternIndex = b.indexOf('*');\n  const baseLengthA = aPatternIndex === -1 ? a.length : aPatternIndex + 1;\n  const baseLengthB = bPatternIndex === -1 ? b.length : bPatternIndex + 1;\n  if (baseLengthA > baseLengthB) return -1\n  if (baseLengthB > baseLengthA) return 1\n  if (aPatternIndex === -1) return 1\n  if (bPatternIndex === -1) return -1\n  if (a.length > b.length) return -1\n  if (b.length > a.length) return 1\n  return 0\n}\n\n/**\n * @param {string} name\n * @param {URL} base\n * @param {Set<string>} [conditions]\n * @returns {URL}\n */\nfunction packageImportsResolve(name, base, conditions) {\n  if (name === '#' || name.startsWith('#/') || name.endsWith('/')) {\n    const reason = 'is not a valid internal imports specifier name';\n    throw new ERR_INVALID_MODULE_SPECIFIER(name, reason, fileURLToPath$1(base))\n  }\n\n  /** @type {URL | undefined} */\n  let packageJsonUrl;\n\n  const packageConfig = getPackageScopeConfig(base);\n\n  if (packageConfig.exists) {\n    packageJsonUrl = pathToFileURL$1(packageConfig.pjsonPath);\n    const imports = packageConfig.imports;\n    if (imports) {\n      if (own.call(imports, name) && !name.includes('*')) {\n        const resolveResult = resolvePackageTarget(\n          packageJsonUrl,\n          imports[name],\n          '',\n          name,\n          base,\n          false,\n          true,\n          false,\n          conditions\n        );\n        if (resolveResult !== null && resolveResult !== undefined) {\n          return resolveResult\n        }\n      } else {\n        let bestMatch = '';\n        let bestMatchSubpath = '';\n        const keys = Object.getOwnPropertyNames(imports);\n        let i = -1;\n\n        while (++i < keys.length) {\n          const key = keys[i];\n          const patternIndex = key.indexOf('*');\n\n          if (patternIndex !== -1 && name.startsWith(key.slice(0, -1))) {\n            const patternTrailer = key.slice(patternIndex + 1);\n            if (\n              name.length >= key.length &&\n              name.endsWith(patternTrailer) &&\n              patternKeyCompare(bestMatch, key) === 1 &&\n              key.lastIndexOf('*') === patternIndex\n            ) {\n              bestMatch = key;\n              bestMatchSubpath = name.slice(\n                patternIndex,\n                name.length - patternTrailer.length\n              );\n            }\n          }\n        }\n\n        if (bestMatch) {\n          const target = imports[bestMatch];\n          const resolveResult = resolvePackageTarget(\n            packageJsonUrl,\n            target,\n            bestMatchSubpath,\n            bestMatch,\n            base,\n            true,\n            true,\n            false,\n            conditions\n          );\n\n          if (resolveResult !== null && resolveResult !== undefined) {\n            return resolveResult\n          }\n        }\n      }\n    }\n  }\n\n  throw importNotDefined(name, packageJsonUrl, base)\n}\n\n/**\n * @param {string} specifier\n * @param {URL} base\n */\nfunction parsePackageName(specifier, base) {\n  let separatorIndex = specifier.indexOf('/');\n  let validPackageName = true;\n  let isScoped = false;\n  if (specifier[0] === '@') {\n    isScoped = true;\n    if (separatorIndex === -1 || specifier.length === 0) {\n      validPackageName = false;\n    } else {\n      separatorIndex = specifier.indexOf('/', separatorIndex + 1);\n    }\n  }\n\n  const packageName =\n    separatorIndex === -1 ? specifier : specifier.slice(0, separatorIndex);\n\n  // Package name cannot have leading . and cannot have percent-encoding or\n  // \\\\ separators.\n  if (invalidPackageNameRegEx.exec(packageName) !== null) {\n    validPackageName = false;\n  }\n\n  if (!validPackageName) {\n    throw new ERR_INVALID_MODULE_SPECIFIER(\n      specifier,\n      'is not a valid package name',\n      fileURLToPath$1(base)\n    )\n  }\n\n  const packageSubpath =\n    '.' + (separatorIndex === -1 ? '' : specifier.slice(separatorIndex));\n\n  return {packageName, packageSubpath, isScoped}\n}\n\n/**\n * @param {string} specifier\n * @param {URL} base\n * @param {Set<string> | undefined} conditions\n * @returns {URL}\n */\nfunction packageResolve(specifier, base, conditions) {\n  if (builtinModules.includes(specifier)) {\n    return new URL$1('node:' + specifier)\n  }\n\n  const {packageName, packageSubpath, isScoped} = parsePackageName(\n    specifier,\n    base\n  );\n\n  // ResolveSelf\n  const packageConfig = getPackageScopeConfig(base);\n\n  // Can’t test.\n  /* c8 ignore next 16 */\n  if (packageConfig.exists) {\n    const packageJsonUrl = pathToFileURL$1(packageConfig.pjsonPath);\n    if (\n      packageConfig.name === packageName &&\n      packageConfig.exports !== undefined &&\n      packageConfig.exports !== null\n    ) {\n      return packageExportsResolve(\n        packageJsonUrl,\n        packageSubpath,\n        packageConfig,\n        base,\n        conditions\n      )\n    }\n  }\n\n  let packageJsonUrl = new URL$1(\n    './node_modules/' + packageName + '/package.json',\n    base\n  );\n  let packageJsonPath = fileURLToPath$1(packageJsonUrl);\n  /** @type {string} */\n  let lastPath;\n  do {\n    const stat = tryStatSync(packageJsonPath.slice(0, -13));\n    if (!stat || !stat.isDirectory()) {\n      lastPath = packageJsonPath;\n      packageJsonUrl = new URL$1(\n        (isScoped ? '../../../../node_modules/' : '../../../node_modules/') +\n          packageName +\n          '/package.json',\n        packageJsonUrl\n      );\n      packageJsonPath = fileURLToPath$1(packageJsonUrl);\n      continue\n    }\n\n    // Package match.\n    const packageConfig = read(packageJsonPath, {base, specifier});\n    if (packageConfig.exports !== undefined && packageConfig.exports !== null) {\n      return packageExportsResolve(\n        packageJsonUrl,\n        packageSubpath,\n        packageConfig,\n        base,\n        conditions\n      )\n    }\n\n    if (packageSubpath === '.') {\n      return legacyMainResolve(packageJsonUrl, packageConfig, base)\n    }\n\n    return new URL$1(packageSubpath, packageJsonUrl)\n    // Cross-platform root check.\n  } while (packageJsonPath.length !== lastPath.length)\n\n  throw new ERR_MODULE_NOT_FOUND(packageName, fileURLToPath$1(base), false)\n}\n\n/**\n * @param {string} specifier\n * @returns {boolean}\n */\nfunction isRelativeSpecifier(specifier) {\n  if (specifier[0] === '.') {\n    if (specifier.length === 1 || specifier[1] === '/') return true\n    if (\n      specifier[1] === '.' &&\n      (specifier.length === 2 || specifier[2] === '/')\n    ) {\n      return true\n    }\n  }\n\n  return false\n}\n\n/**\n * @param {string} specifier\n * @returns {boolean}\n */\nfunction shouldBeTreatedAsRelativeOrAbsolutePath(specifier) {\n  if (specifier === '') return false\n  if (specifier[0] === '/') return true\n  return isRelativeSpecifier(specifier)\n}\n\n/**\n * The “Resolver Algorithm Specification” as detailed in the Node docs (which is\n * sync and slightly lower-level than `resolve`).\n *\n * @param {string} specifier\n *   `/example.js`, `./example.js`, `../example.js`, `some-package`, `fs`, etc.\n * @param {URL} base\n *   Full URL (to a file) that `specifier` is resolved relative from.\n * @param {Set<string>} [conditions]\n *   Conditions.\n * @param {boolean} [preserveSymlinks]\n *   Keep symlinks instead of resolving them.\n * @returns {URL}\n *   A URL object to the found thing.\n */\nfunction moduleResolve(specifier, base, conditions, preserveSymlinks) {\n  // Note: The Node code supports `base` as a string (in this internal API) too,\n  // we don’t.\n  const protocol = base.protocol;\n  const isData = protocol === 'data:';\n  const isRemote = isData || protocol === 'http:' || protocol === 'https:';\n  // Order swapped from spec for minor perf gain.\n  // Ok since relative URLs cannot parse as URLs.\n  /** @type {URL | undefined} */\n  let resolved;\n\n  if (shouldBeTreatedAsRelativeOrAbsolutePath(specifier)) {\n    try {\n      resolved = new URL$1(specifier, base);\n    } catch (error_) {\n      const error = new ERR_UNSUPPORTED_RESOLVE_REQUEST(specifier, base);\n      error.cause = error_;\n      throw error\n    }\n  } else if (protocol === 'file:' && specifier[0] === '#') {\n    resolved = packageImportsResolve(specifier, base, conditions);\n  } else {\n    try {\n      resolved = new URL$1(specifier);\n    } catch (error_) {\n      // Note: actual code uses `canBeRequiredWithoutScheme`.\n      if (isRemote && !builtinModules.includes(specifier)) {\n        const error = new ERR_UNSUPPORTED_RESOLVE_REQUEST(specifier, base);\n        error.cause = error_;\n        throw error\n      }\n\n      resolved = packageResolve(specifier, base, conditions);\n    }\n  }\n\n  assert(resolved !== undefined, 'expected to be defined');\n\n  if (resolved.protocol !== 'file:') {\n    return resolved\n  }\n\n  return finalizeResolution(resolved, base)\n}\n\nfunction fileURLToPath(id) {\n  if (typeof id === \"string\" && !id.startsWith(\"file://\")) {\n    return normalizeSlash(id);\n  }\n  return normalizeSlash(fileURLToPath$1(id));\n}\nfunction pathToFileURL(id) {\n  return pathToFileURL$1(fileURLToPath(id)).toString();\n}\nfunction normalizeid(id) {\n  if (typeof id !== \"string\") {\n    id = id.toString();\n  }\n  if (/(?:node|data|http|https|file):/.test(id)) {\n    return id;\n  }\n  if (BUILTIN_MODULES.has(id)) {\n    return \"node:\" + id;\n  }\n  return \"file://\" + encodeURI(normalizeSlash(id));\n}\n\nconst DEFAULT_CONDITIONS_SET = /* @__PURE__ */ new Set([\"node\", \"import\"]);\nconst DEFAULT_EXTENSIONS = [\".mjs\", \".cjs\", \".js\", \".json\"];\nconst NOT_FOUND_ERRORS = /* @__PURE__ */ new Set([\n  \"ERR_MODULE_NOT_FOUND\",\n  \"ERR_UNSUPPORTED_DIR_IMPORT\",\n  \"MODULE_NOT_FOUND\",\n  \"ERR_PACKAGE_PATH_NOT_EXPORTED\"\n]);\nfunction _tryModuleResolve(id, url, conditions) {\n  try {\n    return moduleResolve(id, url, conditions);\n  } catch (error) {\n    if (!NOT_FOUND_ERRORS.has(error?.code)) {\n      throw error;\n    }\n  }\n}\nfunction _resolve$1(id, options = {}) {\n  if (typeof id !== \"string\") {\n    if (id instanceof URL) {\n      id = fileURLToPath(id);\n    } else {\n      throw new TypeError(\"input must be a `string` or `URL`\");\n    }\n  }\n  if (/(?:node|data|http|https):/.test(id)) {\n    return id;\n  }\n  if (BUILTIN_MODULES.has(id)) {\n    return \"node:\" + id;\n  }\n  if (id.startsWith(\"file://\")) {\n    id = fileURLToPath(id);\n  }\n  if (isAbsolute(id)) {\n    try {\n      const stat = statSync(id);\n      if (stat.isFile()) {\n        return pathToFileURL(id);\n      }\n    } catch (error) {\n      if (error?.code !== \"ENOENT\") {\n        throw error;\n      }\n    }\n  }\n  const conditionsSet = options.conditions ? new Set(options.conditions) : DEFAULT_CONDITIONS_SET;\n  const _urls = (Array.isArray(options.url) ? options.url : [options.url]).filter(Boolean).map((url) => new URL(normalizeid(url.toString())));\n  if (_urls.length === 0) {\n    _urls.push(new URL(pathToFileURL(process.cwd())));\n  }\n  const urls = [..._urls];\n  for (const url of _urls) {\n    if (url.protocol === \"file:\") {\n      urls.push(\n        new URL(\"./\", url),\n        // If url is directory\n        new URL(joinURL(url.pathname, \"_index.js\"), url),\n        // TODO: Remove in next major version?\n        new URL(\"node_modules\", url)\n      );\n    }\n  }\n  let resolved;\n  for (const url of urls) {\n    resolved = _tryModuleResolve(id, url, conditionsSet);\n    if (resolved) {\n      break;\n    }\n    for (const prefix of [\"\", \"/index\"]) {\n      for (const extension of options.extensions || DEFAULT_EXTENSIONS) {\n        resolved = _tryModuleResolve(\n          joinURL(id, prefix) + extension,\n          url,\n          conditionsSet\n        );\n        if (resolved) {\n          break;\n        }\n      }\n      if (resolved) {\n        break;\n      }\n    }\n    if (resolved) {\n      break;\n    }\n  }\n  if (!resolved) {\n    const error = new Error(\n      `Cannot find module ${id} imported from ${urls.join(\", \")}`\n    );\n    error.code = \"ERR_MODULE_NOT_FOUND\";\n    throw error;\n  }\n  return pathToFileURL(resolved);\n}\nfunction resolveSync(id, options) {\n  return _resolve$1(id, options);\n}\nfunction resolvePathSync(id, options) {\n  return fileURLToPath(resolveSync(id, options));\n}\n\nconst GET_IS_ASYNC = Symbol.for(\"quansync.getIsAsync\");\nclass QuansyncError extends Error {\n  constructor(message = \"Unexpected promise in sync context\") {\n    super(message);\n    this.name = \"QuansyncError\";\n  }\n}\nfunction isThenable(value) {\n  return value && typeof value === \"object\" && typeof value.then === \"function\";\n}\nfunction isQuansyncGenerator(value) {\n  return value && typeof value === \"object\" && typeof value[Symbol.iterator] === \"function\" && \"__quansync\" in value;\n}\nfunction fromObject(options) {\n  const generator = function* (...args) {\n    const isAsync = yield GET_IS_ASYNC;\n    if (isAsync)\n      return yield options.async.apply(this, args);\n    return options.sync.apply(this, args);\n  };\n  function fn(...args) {\n    const iter = generator.apply(this, args);\n    iter.then = (...thenArgs) => options.async.apply(this, args).then(...thenArgs);\n    iter.__quansync = true;\n    return iter;\n  }\n  fn.sync = options.sync;\n  fn.async = options.async;\n  return fn;\n}\nfunction fromPromise(promise) {\n  return fromObject({\n    async: () => Promise.resolve(promise),\n    sync: () => {\n      if (isThenable(promise))\n        throw new QuansyncError();\n      return promise;\n    }\n  });\n}\nfunction unwrapYield(value, isAsync) {\n  if (value === GET_IS_ASYNC)\n    return isAsync;\n  if (isQuansyncGenerator(value))\n    return isAsync ? iterateAsync(value) : iterateSync(value);\n  if (!isAsync && isThenable(value))\n    throw new QuansyncError();\n  return value;\n}\nconst DEFAULT_ON_YIELD = (value) => value;\nfunction iterateSync(generator, onYield = DEFAULT_ON_YIELD) {\n  let current = generator.next();\n  while (!current.done) {\n    try {\n      current = generator.next(unwrapYield(onYield(current.value, false)));\n    } catch (err) {\n      current = generator.throw(err);\n    }\n  }\n  return unwrapYield(current.value);\n}\nasync function iterateAsync(generator, onYield = DEFAULT_ON_YIELD) {\n  let current = generator.next();\n  while (!current.done) {\n    try {\n      current = generator.next(await unwrapYield(onYield(current.value, true), true));\n    } catch (err) {\n      current = generator.throw(err);\n    }\n  }\n  return current.value;\n}\nfunction fromGeneratorFn(generatorFn, options) {\n  return fromObject({\n    name: generatorFn.name,\n    async(...args) {\n      return iterateAsync(generatorFn.apply(this, args), options?.onYield);\n    },\n    sync(...args) {\n      return iterateSync(generatorFn.apply(this, args), options?.onYield);\n    }\n  });\n}\nfunction quansync$1(input, options) {\n  if (isThenable(input))\n    return fromPromise(input);\n  if (typeof input === \"function\")\n    return fromGeneratorFn(input, options);\n  else\n    return fromObject(input);\n}\nquansync$1({\n  async: () => Promise.resolve(true),\n  sync: () => false\n});\n\nconst quansync = quansync$1;\n\nconst toPath = urlOrPath => urlOrPath instanceof URL ? fileURLToPath$1(urlOrPath) : urlOrPath;\n\nasync function findUp$1(name, {\n\tcwd = process$1.cwd(),\n\ttype = 'file',\n\tstopAt,\n} = {}) {\n\tlet directory = path.resolve(toPath(cwd) ?? '');\n\tconst {root} = path.parse(directory);\n\tstopAt = path.resolve(directory, toPath(stopAt ?? root));\n\tconst isAbsoluteName = path.isAbsolute(name);\n\n\twhile (directory) {\n\t\tconst filePath = isAbsoluteName ? name : path.join(directory, name);\n\t\ttry {\n\t\t\tconst stats = await fs$1.stat(filePath); // eslint-disable-line no-await-in-loop\n\t\t\tif ((type === 'file' && stats.isFile()) || (type === 'directory' && stats.isDirectory())) {\n\t\t\t\treturn filePath;\n\t\t\t}\n\t\t} catch {}\n\n\t\tif (directory === stopAt || directory === root) {\n\t\t\tbreak;\n\t\t}\n\n\t\tdirectory = path.dirname(directory);\n\t}\n}\n\nfunction findUpSync(name, {\n\tcwd = process$1.cwd(),\n\ttype = 'file',\n\tstopAt,\n} = {}) {\n\tlet directory = path.resolve(toPath(cwd) ?? '');\n\tconst {root} = path.parse(directory);\n\tstopAt = path.resolve(directory, toPath(stopAt) ?? root);\n\tconst isAbsoluteName = path.isAbsolute(name);\n\n\twhile (directory) {\n\t\tconst filePath = isAbsoluteName ? name : path.join(directory, name);\n\n\t\ttry {\n\t\t\tconst stats = fs.statSync(filePath, {throwIfNoEntry: false});\n\t\t\tif ((type === 'file' && stats?.isFile()) || (type === 'directory' && stats?.isDirectory())) {\n\t\t\t\treturn filePath;\n\t\t\t}\n\t\t} catch {}\n\n\t\tif (directory === stopAt || directory === root) {\n\t\t\tbreak;\n\t\t}\n\n\t\tdirectory = path.dirname(directory);\n\t}\n}\n\nfunction _resolve(path, options = {}) {\n  if (options.platform === \"auto\" || !options.platform)\n    options.platform = process$1.platform === \"win32\" ? \"win32\" : \"posix\";\n  if (process$1.versions.pnp) {\n    const paths = options.paths || [];\n    if (paths.length === 0)\n      paths.push(process$1.cwd());\n    const targetRequire = createRequire(import.meta.url);\n    try {\n      return targetRequire.resolve(path, { paths });\n    } catch {\n    }\n  }\n  const modulePath = resolvePathSync(path, {\n    url: options.paths\n  });\n  if (options.platform === \"win32\")\n    return win32.normalize(modulePath);\n  return modulePath;\n}\nfunction resolveModule(name, options = {}) {\n  try {\n    return _resolve(name, options);\n  } catch {\n    return void 0;\n  }\n}\nfunction isPackageExists(name, options = {}) {\n  return !!resolvePackage(name, options);\n}\nfunction getPackageJsonPath(name, options = {}) {\n  const entry = resolvePackage(name, options);\n  if (!entry)\n    return;\n  return searchPackageJSON(entry);\n}\nconst readFile = quansync({\n  async: (id) => fs.promises.readFile(id, \"utf8\"),\n  sync: (id) => fs.readFileSync(id, \"utf8\")\n});\nconst getPackageInfo = quansync(function* (name, options = {}) {\n  const packageJsonPath = getPackageJsonPath(name, options);\n  if (!packageJsonPath)\n    return;\n  const packageJson = JSON.parse(yield readFile(packageJsonPath));\n  return {\n    name,\n    version: packageJson.version,\n    rootPath: dirname(packageJsonPath),\n    packageJsonPath,\n    packageJson\n  };\n});\ngetPackageInfo.sync;\nfunction resolvePackage(name, options = {}) {\n  try {\n    return _resolve(`${name}/package.json`, options);\n  } catch {\n  }\n  try {\n    return _resolve(name, options);\n  } catch (e) {\n    if (e.code !== \"MODULE_NOT_FOUND\" && e.code !== \"ERR_MODULE_NOT_FOUND\")\n      console.error(e);\n    return false;\n  }\n}\nfunction searchPackageJSON(dir) {\n  let packageJsonPath;\n  while (true) {\n    if (!dir)\n      return;\n    const newDir = dirname(dir);\n    if (newDir === dir)\n      return;\n    dir = newDir;\n    packageJsonPath = join(dir, \"package.json\");\n    if (fs.existsSync(packageJsonPath))\n      break;\n  }\n  return packageJsonPath;\n}\nconst findUp = quansync({\n  sync: findUpSync,\n  async: findUp$1\n});\nconst loadPackageJSON = quansync(function* (cwd = process$1.cwd()) {\n  const path = yield findUp(\"package.json\", { cwd });\n  if (!path || !fs.existsSync(path))\n    return null;\n  return JSON.parse(yield readFile(path));\n});\nloadPackageJSON.sync;\nconst isPackageListed = quansync(function* (name, cwd) {\n  const pkg = (yield loadPackageJSON(cwd)) || {};\n  return name in (pkg.dependencies || {}) || name in (pkg.devDependencies || {});\n});\nisPackageListed.sync;\n\nfunction getWorkersCountByPercentage(percent) {\n\tconst maxWorkersCount = nodeos__default.availableParallelism?.() ?? nodeos__default.cpus().length, workersCountByPercentage = Math.round(Number.parseInt(percent) / 100 * maxWorkersCount);\n\treturn Math.max(1, Math.min(maxWorkersCount, workersCountByPercentage));\n}\n\nclass BaseSequencer {\n\tctx;\n\tconstructor(ctx) {\n\t\tthis.ctx = ctx;\n\t}\n\t// async so it can be extended by other sequelizers\n\tasync shard(files) {\n\t\tconst { config } = this.ctx, { index, count } = config.shard, [shardStart, shardEnd] = this.calculateShardRange(files.length, index, count);\n\t\treturn [...files].map((spec) => {\n\t\t\tconst specPath = resolve(slash(config.root), slash(spec.moduleId))?.slice(config.root.length);\n\t\t\treturn {\n\t\t\t\tspec,\n\t\t\t\thash: hash(\"sha1\", specPath, \"hex\")\n\t\t\t};\n\t\t}).sort((a, b) => a.hash < b.hash ? -1 : a.hash > b.hash ? 1 : 0).slice(shardStart, shardEnd).map(({ spec }) => spec);\n\t}\n\t// async so it can be extended by other sequelizers\n\tasync sort(files) {\n\t\tconst cache = this.ctx.cache;\n\t\treturn [...files].sort((a, b) => {\n\t\t\tconst keyA = `${a.project.name}:${relative(this.ctx.config.root, a.moduleId)}`, keyB = `${b.project.name}:${relative(this.ctx.config.root, b.moduleId)}`, aState = cache.getFileTestResults(keyA), bState = cache.getFileTestResults(keyB);\n\t\t\tif (!aState || !bState) {\n\t\t\t\tconst statsA = cache.getFileStats(keyA), statsB = cache.getFileStats(keyB);\n\t\t\t\t// run larger files first\n\t\t\t\treturn !statsA || !statsB ? !statsA && statsB ? -1 : !statsB && statsA ? 1 : 0 : statsB.size - statsA.size;\n\t\t\t}\n\t\t\t// run longer first\n\t\t\treturn aState.failed && !bState.failed ? -1 : !aState.failed && bState.failed ? 1 : bState.duration - aState.duration;\n\t\t});\n\t}\n\t// Calculate distributed shard range [start, end] distributed equally\n\tcalculateShardRange(filesCount, index, count) {\n\t\tconst baseShardSize = Math.floor(filesCount / count), remainderTestFilesCount = filesCount % count;\n\t\tif (remainderTestFilesCount >= index) {\n\t\t\tconst shardSize = baseShardSize + 1, shardStart = shardSize * (index - 1), shardEnd = shardSize * index;\n\t\t\treturn [shardStart, shardEnd];\n\t\t}\n\t\tconst shardStart = remainderTestFilesCount * (baseShardSize + 1) + (index - remainderTestFilesCount - 1) * baseShardSize, shardEnd = shardStart + baseShardSize;\n\t\treturn [shardStart, shardEnd];\n\t}\n}\n\nclass RandomSequencer extends BaseSequencer {\n\tasync sort(files) {\n\t\tconst { sequence } = this.ctx.config;\n\t\treturn shuffle(files, sequence.seed);\n\t}\n}\n\nfunction resolvePath(path, root) {\n\treturn normalize(/* @__PURE__ */ resolveModule(path, { paths: [root] }) ?? resolve(root, path));\n}\nfunction parseInspector(inspect) {\n\tif (typeof inspect === \"boolean\" || inspect === void 0) return {};\n\tif (typeof inspect === \"number\") return { port: inspect };\n\tif (inspect.match(/https?:\\//)) throw new Error(`Inspector host cannot be a URL. Use \"host:port\" instead of \"${inspect}\"`);\n\tconst [host, port] = inspect.split(\":\");\n\treturn port ? {\n\t\thost,\n\t\tport: Number(port) || defaultInspectPort\n\t} : { host };\n}\nfunction resolveApiServerConfig(options, defaultPort) {\n\tlet api;\n\tif (options.ui && !options.api) api = { port: defaultPort };\n\telse if (options.api === true) api = { port: defaultPort };\n\telse if (typeof options.api === \"number\") api = { port: options.api };\n\tif (typeof options.api === \"object\") if (api) {\n\t\tif (options.api.port) api.port = options.api.port;\n\t\tif (options.api.strictPort) api.strictPort = options.api.strictPort;\n\t\tif (options.api.host) api.host = options.api.host;\n\t} else api = { ...options.api };\n\tif (api) {\n\t\tif (!api.port && !api.middlewareMode) api.port = defaultPort;\n\t} else api = { middlewareMode: true };\n\treturn api;\n}\nfunction resolveInlineWorkerOption(value) {\n\treturn typeof value === \"string\" && value.trim().endsWith(\"%\") ? getWorkersCountByPercentage(value) : Number(value);\n}\nfunction resolveConfig$1(vitest, options, viteConfig) {\n\tconst mode = vitest.mode, logger = vitest.logger;\n\tif (options.dom) {\n\t\tif (viteConfig.test?.environment != null && viteConfig.test.environment !== \"happy-dom\") logger.console.warn(c.yellow(`${c.inverse(c.yellow(\" Vitest \"))} Your config.test.environment (\"${viteConfig.test.environment}\") conflicts with --dom flag (\"happy-dom\"), ignoring \"${viteConfig.test.environment}\"`));\n\t\toptions.environment = \"happy-dom\";\n\t}\n\tconst resolved = {\n\t\t...configDefaults,\n\t\t...options,\n\t\troot: viteConfig.root,\n\t\tmode\n\t};\n\tif (options.pool && typeof options.pool !== \"string\") resolved.pool = options.pool.name, resolved.poolRunner = options.pool;\n\tif (resolved.pool ??= \"forks\", resolved.project = toArray(resolved.project), resolved.provide ??= {}, resolved.name = typeof options.name === \"string\" ? options.name : options.name?.label || \"\", resolved.color = typeof options.name !== \"string\" ? options.name?.color : void 0, resolved.environment === \"browser\") throw new Error(`Looks like you set \"test.environment\" to \"browser\". To enable Browser Mode, use \"test.browser.enabled\" instead.`);\n\tconst inspector = resolved.inspect || resolved.inspectBrk;\n\tif (resolved.inspector = {\n\t\t...resolved.inspector,\n\t\t...parseInspector(inspector),\n\t\tenabled: !!inspector,\n\t\twaitForDebugger: options.inspector?.waitForDebugger ?? !!resolved.inspectBrk\n\t}, viteConfig.base !== \"/\") resolved.base = viteConfig.base;\n\tif (resolved.clearScreen = resolved.clearScreen ?? viteConfig.clearScreen ?? true, options.shard) {\n\t\tif (resolved.watch) throw new Error(\"You cannot use --shard option with enabled watch\");\n\t\tconst [indexString, countString] = options.shard.split(\"/\"), index = Math.abs(Number.parseInt(indexString, 10)), count = Math.abs(Number.parseInt(countString, 10));\n\t\tif (Number.isNaN(count) || count <= 0) throw new Error(\"--shard <count> must be a positive number\");\n\t\tif (Number.isNaN(index) || index <= 0 || index > count) throw new Error(\"--shard <index> must be a positive number less then <count>\");\n\t\tresolved.shard = {\n\t\t\tindex,\n\t\t\tcount\n\t\t};\n\t}\n\tif (resolved.standalone && !resolved.watch) throw new Error(`Vitest standalone mode requires --watch`);\n\tif (resolved.mergeReports && resolved.watch) throw new Error(`Cannot merge reports with --watch enabled`);\n\tif (resolved.maxWorkers) resolved.maxWorkers = resolveInlineWorkerOption(resolved.maxWorkers);\n\tif (resolved.fileParallelism ??= mode !== \"benchmark\", !resolved.fileParallelism)\n // ignore user config, parallelism cannot be implemented without limiting workers\n\tresolved.maxWorkers = 1;\n\tif (resolved.maxConcurrency === 0) logger.console.warn(c.yellow(`The option \"maxConcurrency\" cannot be set to 0. Using default value ${configDefaults.maxConcurrency} instead.`)), resolved.maxConcurrency = configDefaults.maxConcurrency;\n\tif (resolved.inspect || resolved.inspectBrk) {\n\t\tif (resolved.fileParallelism) {\n\t\t\tconst inspectOption = `--inspect${resolved.inspectBrk ? \"-brk\" : \"\"}`;\n\t\t\tthrow new Error(`You cannot use ${inspectOption} without \"--no-file-parallelism\"`);\n\t\t}\n\t}\n\t// apply browser CLI options only if the config already has the browser config and not disabled manually\n\tif (vitest._cliOptions.browser && resolved.browser && (resolved.browser.enabled !== false || vitest._cliOptions.browser.enabled)) resolved.browser = mergeConfig(resolved.browser, vitest._cliOptions.browser);\n\tresolved.browser ??= {};\n\tconst browser = resolved.browser;\n\tif (browser.enabled) {\n\t\tconst instances = browser.instances;\n\t\tif (!browser.instances) browser.instances = [];\n\t\t// use `chromium` by default when the preview provider is specified\n\t\t// for a smoother experience. if chromium is not available, it will\n\t\t// open the default browser anyway\n\t\tif (!browser.instances.length && browser.provider?.name === \"preview\") browser.instances = [{ browser: \"chromium\" }];\n\t\tif (browser.name && instances?.length) {\n\t\t\t// if `instances` were defined, but now they are empty,\n\t\t\t// let's throw an error because the filter is invalid\n\t\t\tif (browser.instances = browser.instances.filter((instance) => instance.browser === browser.name), !browser.instances.length) throw new Error([`\"browser.instances\" was set in the config, but the array is empty. Define at least one browser config.`, ` The \"browser.name\" was set to \"${browser.name}\" which filtered all configs (${instances.map((c) => c.browser).join(\", \")}). Did you mean to use another name?`].join(\"\"));\n\t\t}\n\t}\n\tconst containsChromium = hasBrowserChromium(vitest, resolved), hasOnlyChromium = hasOnlyBrowserChromium(vitest, resolved);\n\t// Browser-mode \"Chromium\" only features:\n\tif (browser.enabled && (!containsChromium || !hasOnlyChromium)) {\n\t\tconst browserConfig = `\n{\n  browser: {\n    provider: ${browser.provider?.name || \"preview\"}(),\n    instances: [\n      ${(browser.instances || []).map((i) => `{ browser: '${i.browser}' }`).join(\",\\n      \")}\n    ],\n  },\n}\n    `.trim(), preferredProvider = !browser.provider?.name || browser.provider.name === \"preview\" ? \"playwright\" : browser.provider.name, correctExample = `\n{\n  browser: {\n    provider: ${preferredProvider}(),\n    instances: [\n      { browser: '${preferredProvider === \"playwright\" ? \"chromium\" : \"chrome\"}' }\n    ],\n  },\n}\n    `.trim();\n\t\t// requires all projects to be chromium\n\t\tif (!hasOnlyChromium && resolved.coverage.enabled && resolved.coverage.provider === \"v8\") {\n\t\t\tconst coverageExample = `\n{\n  coverage: {\n    provider: 'istanbul',\n  },\n}\n      `.trim();\n\t\t\tthrow new Error(`@vitest/coverage-v8 does not work with\\n${browserConfig}\\n\\nUse either:\\n${correctExample}\\n\\n...or change your coverage provider to:\\n${coverageExample}\\n`);\n\t\t}\n\t\t// ignores non-chromium browsers when there is at least one chromium project\n\t\tif (!containsChromium && (resolved.inspect || resolved.inspectBrk)) {\n\t\t\tconst inspectOption = `--inspect${resolved.inspectBrk ? \"-brk\" : \"\"}`;\n\t\t\tthrow new Error(`${inspectOption} does not work with\\n${browserConfig}\\n\\nUse either:\\n${correctExample}\\n\\n...or disable ${inspectOption}\\n`);\n\t\t}\n\t}\n\tif (resolved.coverage.reporter = resolveCoverageReporters(resolved.coverage.reporter), resolved.coverage.enabled && resolved.coverage.reportsDirectory) {\n\t\tconst reportsDirectory = resolve(resolved.root, resolved.coverage.reportsDirectory);\n\t\tif (reportsDirectory === resolved.root || reportsDirectory === process.cwd()) throw new Error(`You cannot set \"coverage.reportsDirectory\" as ${reportsDirectory}. Vitest needs to be able to remove this directory before test run`);\n\t}\n\tif (resolved.coverage.enabled && resolved.coverage.provider === \"custom\" && resolved.coverage.customProviderModule) resolved.coverage.customProviderModule = resolvePath(resolved.coverage.customProviderModule, resolved.root);\n\tif (resolved.expect ??= {}, resolved.deps ??= {}, resolved.deps.moduleDirectories ??= [], resolved.deps.optimizer ??= {}, resolved.deps.optimizer.ssr ??= {}, resolved.deps.optimizer.ssr.enabled ??= false, resolved.deps.optimizer.client ??= {}, resolved.deps.optimizer.client.enabled ??= false, resolved.deps.web ??= {}, resolved.deps.web.transformAssets ??= true, resolved.deps.web.transformCss ??= true, resolved.deps.web.transformGlobPattern ??= [], resolved.setupFiles = toArray(resolved.setupFiles || []).map((file) => resolvePath(file, resolved.root)), resolved.globalSetup = toArray(resolved.globalSetup || []).map((file) => resolvePath(file, resolved.root)), resolved.coverage.exclude = [\n\t\t...resolved.coverage.exclude,\n\t\t...resolved.setupFiles.map((file) => `${resolved.coverage.allowExternal ? \"**/\" : \"\"}${relative(resolved.root, file)}`),\n\t\t...resolved.include,\n\t\tresolved.config && slash(resolved.config),\n\t\t...configFiles,\n\t\t\"**/virtual:*\",\n\t\t\"**/__x00__*\",\n\t\t\"**/node_modules/**\"\n\t].filter((pattern) => typeof pattern === \"string\"), resolved.forceRerunTriggers = [...resolved.forceRerunTriggers, ...resolved.setupFiles], resolved.cliExclude) resolved.exclude.push(...resolved.cliExclude);\n\tif (resolved.runner) resolved.runner = resolvePath(resolved.runner, resolved.root);\n\tif (resolved.attachmentsDir = resolve(resolved.root, resolved.attachmentsDir ?? \".vitest-attachments\"), resolved.snapshotEnvironment) resolved.snapshotEnvironment = resolvePath(resolved.snapshotEnvironment, resolved.root);\n\tif (resolved.testNamePattern = resolved.testNamePattern ? resolved.testNamePattern instanceof RegExp ? resolved.testNamePattern : new RegExp(resolved.testNamePattern) : void 0, resolved.snapshotFormat && \"plugins\" in resolved.snapshotFormat) {\n\t\t// TODO: support it via separate config (like DiffOptions) or via `Function.toString()`\n\t\tif (resolved.snapshotFormat.plugins = [], typeof resolved.snapshotFormat.compareKeys === \"function\") throw new TypeError(`\"snapshotFormat.compareKeys\" function is not supported.`);\n\t}\n\tconst UPDATE_SNAPSHOT = resolved.update || process.env.UPDATE_SNAPSHOT;\n\tif (resolved.snapshotOptions = {\n\t\texpand: resolved.expandSnapshotDiff ?? false,\n\t\tsnapshotFormat: resolved.snapshotFormat || {},\n\t\tupdateSnapshot: isCI && !UPDATE_SNAPSHOT ? \"none\" : UPDATE_SNAPSHOT ? \"all\" : \"new\",\n\t\tresolveSnapshotPath: options.resolveSnapshotPath,\n\t\tsnapshotEnvironment: null\n\t}, resolved.snapshotSerializers ??= [], resolved.snapshotSerializers = resolved.snapshotSerializers.map((file) => resolvePath(file, resolved.root)), resolved.forceRerunTriggers.push(...resolved.snapshotSerializers), options.resolveSnapshotPath) delete resolved.resolveSnapshotPath;\n\tif (resolved.execArgv ??= [], resolved.pool ??= \"threads\", resolved.pool === \"vmForks\" || resolved.pool === \"vmThreads\" || resolved.pool === \"typescript\") resolved.isolate = false;\n\tif (process.env.VITEST_MAX_WORKERS) resolved.maxWorkers = Number.parseInt(process.env.VITEST_MAX_WORKERS);\n\tif (mode === \"benchmark\") {\n\t\tresolved.benchmark = {\n\t\t\t...benchmarkConfigDefaults,\n\t\t\t...resolved.benchmark\n\t\t}, resolved.coverage.enabled = false, resolved.typecheck.enabled = false, resolved.include = resolved.benchmark.include, resolved.exclude = resolved.benchmark.exclude, resolved.includeSource = resolved.benchmark.includeSource;\n\t\tconst reporters = Array.from(new Set([...toArray(resolved.benchmark.reporters), ...toArray(options.reporter)])).filter(Boolean);\n\t\tif (reporters.length) resolved.benchmark.reporters = reporters;\n\t\telse resolved.benchmark.reporters = [\"default\"];\n\t\tif (options.outputFile) resolved.benchmark.outputFile = options.outputFile;\n\t\t// --compare from cli\n\t\tif (options.compare) resolved.benchmark.compare = options.compare;\n\t\tif (options.outputJson) resolved.benchmark.outputJson = options.outputJson;\n\t}\n\tif (typeof resolved.diff === \"string\") resolved.diff = resolvePath(resolved.diff, resolved.root), resolved.forceRerunTriggers.push(resolved.diff);\n\tif (resolved.api = {\n\t\t...resolveApiServerConfig(options, defaultPort),\n\t\ttoken: crypto.randomUUID()\n\t}, options.related) resolved.related = toArray(options.related).map((file) => resolve(resolved.root, file));\n\t/*\n\t* Reporters can be defined in many different ways:\n\t* { reporter: 'json' }\n\t* { reporter: { onFinish() { method() } } }\n\t* { reporter: ['json', { onFinish() { method() } }] }\n\t* { reporter: [[ 'json' ]] }\n\t* { reporter: [[ 'json' ], 'html'] }\n\t* { reporter: [[ 'json', { outputFile: 'test.json' } ], 'html'] }\n\t*/\n\tif (options.reporters) if (!Array.isArray(options.reporters))\n // Reporter name, e.g. { reporters: 'json' }\n\tif (typeof options.reporters === \"string\") resolved.reporters = [[options.reporters, {}]];\n\telse resolved.reporters = [options.reporters];\n\telse {\n\t\tresolved.reporters = [];\n\t\tfor (const reporter of options.reporters) if (Array.isArray(reporter))\n // Reporter with options, e.g. { reporters: [ [ 'json', { outputFile: 'test.json' } ] ] }\n\t\tresolved.reporters.push([reporter[0], reporter[1] || {}]);\n\t\telse if (typeof reporter === \"string\")\n // Reporter name in array, e.g. { reporters: [\"html\", \"json\"]}\n\t\tresolved.reporters.push([reporter, {}]);\n\t\telse\n // Inline reporter, e.g. { reporter: [{ onFinish() { method() } }] }\n\t\tresolved.reporters.push(reporter);\n\t}\n\tif (mode !== \"benchmark\") {\n\t\t// @ts-expect-error \"reporter\" is from CLI, should be absolute to the running directory\n\t\t// it is passed down as \"vitest --reporter ../reporter.js\"\n\t\tconst reportersFromCLI = resolved.reporter, cliReporters = toArray(reportersFromCLI || []).map((reporter) => {\n\t\t\treturn /^\\.\\.?\\//.test(reporter) ? resolve(process.cwd(), reporter) : reporter;\n\t\t});\n\t\tif (cliReporters.length) {\n\t\t\t// When CLI reporters are specified, preserve options from config file\n\t\t\tconst configReportersMap = /* @__PURE__ */ new Map();\n\t\t\t// Build a map of reporter names to their options from the config\n\t\t\tfor (const reporter of resolved.reporters) if (Array.isArray(reporter)) {\n\t\t\t\tconst [reporterName, reporterOptions] = reporter;\n\t\t\t\tif (typeof reporterName === \"string\") configReportersMap.set(reporterName, reporterOptions);\n\t\t\t}\n\t\t\tresolved.reporters = Array.from(new Set(toArray(cliReporters))).filter(Boolean).map((reporter) => [reporter, configReportersMap.get(reporter) || {}]);\n\t\t}\n\t}\n\tif (!resolved.reporters.length) {\n\t\t// also enable github-actions reporter as a default\n\t\tif (resolved.reporters.push([\"default\", {}]), process.env.GITHUB_ACTIONS === \"true\") resolved.reporters.push([\"github-actions\", {}]);\n\t}\n\tif (resolved.changed) resolved.passWithNoTests ??= true;\n\tif (resolved.css ??= {}, typeof resolved.css === \"object\") resolved.css.modules ??= {}, resolved.css.modules.classNameStrategy ??= \"stable\";\n\tif (resolved.cache !== false) {\n\t\tif (resolved.cache && typeof resolved.cache.dir === \"string\") vitest.logger.deprecate(`\"cache.dir\" is deprecated, use Vite's \"cacheDir\" instead if you want to change the cache director. Note caches will be written to \"cacheDir\\/vitest\"`);\n\t\tresolved.cache = { dir: viteConfig.cacheDir };\n\t}\n\tif (resolved.sequence ??= {}, resolved.sequence.shuffle && typeof resolved.sequence.shuffle === \"object\") {\n\t\tconst { files, tests } = resolved.sequence.shuffle;\n\t\tresolved.sequence.sequencer ??= files ? RandomSequencer : BaseSequencer, resolved.sequence.shuffle = tests;\n\t}\n\tif (!resolved.sequence?.sequencer)\n // CLI flag has higher priority\n\tresolved.sequence.sequencer = resolved.sequence.shuffle ? RandomSequencer : BaseSequencer;\n\tif (resolved.sequence.groupOrder ??= 0, resolved.sequence.hooks ??= \"stack\", resolved.sequence.sequencer === RandomSequencer) resolved.sequence.seed ??= Date.now();\n\tif (resolved.typecheck = {\n\t\t...configDefaults.typecheck,\n\t\t...resolved.typecheck\n\t}, resolved.typecheck ??= {}, resolved.typecheck.enabled ??= false, resolved.typecheck.enabled) logger.console.warn(c.yellow(\"Testing types with tsc and vue-tsc is an experimental feature.\\nBreaking changes might not follow SemVer, please pin Vitest's version when using it.\"));\n\tif (resolved.browser.enabled ??= false, resolved.browser.headless ??= isCI, resolved.browser.isolate ??= true, resolved.browser.fileParallelism ??= options.fileParallelism ?? mode !== \"benchmark\", resolved.browser.ui ??= resolved.browser.headless === true ? false : !isCI, resolved.browser.commands ??= {}, resolved.browser.screenshotDirectory) resolved.browser.screenshotDirectory = resolve(resolved.root, resolved.browser.screenshotDirectory);\n\tif (resolved.inspector.enabled) resolved.browser.trackUnhandledErrors ??= false;\n\tif (resolved.browser.viewport ??= {}, resolved.browser.viewport.width ??= 414, resolved.browser.viewport.height ??= 896, resolved.browser.locators ??= {}, resolved.browser.locators.testIdAttribute ??= \"data-testid\", typeof resolved.browser.provider === \"string\") {\n\t\tconst source = `@vitest/browser-${resolved.browser.provider}`;\n\t\tthrow new TypeError(`The \\`browser.provider\\` configuration was changed to accept a factory instead of a string. Add an import of \"${resolved.browser.provider}\" from \"${source}\" instead. See: https://vitest.dev/guide/browser/config#provider`);\n\t}\n\tconst isPreview = resolved.browser.provider?.name === \"preview\";\n\tif (!isPreview && resolved.browser.enabled && provider === \"stackblitz\") throw new Error(`stackblitz environment does not support the ${resolved.browser.provider?.name} provider. Please, use \"@vitest/browser-preview\" instead.`);\n\tif (isPreview && resolved.browser.screenshotFailures === true) console.warn(c.yellow([\n\t\t`Browser provider \"preview\" doesn't support screenshots, `,\n\t\t`so \"browser.screenshotFailures\" option is forcefully disabled. `,\n\t\t`Set \"browser.screenshotFailures\" to false or remove it from the config to suppress this warning.`\n\t].join(\"\"))), resolved.browser.screenshotFailures = false;\n\telse resolved.browser.screenshotFailures ??= !isPreview && !resolved.browser.ui;\n\tif (resolved.browser.provider && resolved.browser.provider.options == null) resolved.browser.provider.options = {};\n\t// enable includeTaskLocation by default in UI mode\n\tif (resolved.browser.api = resolveApiServerConfig(resolved.browser, defaultBrowserPort) || { port: defaultBrowserPort }, resolved.browser.enabled) {\n\t\tif (resolved.browser.ui) resolved.includeTaskLocation ??= true;\n\t} else if (resolved.ui) resolved.includeTaskLocation ??= true;\n\tif (typeof resolved.browser.trace === \"string\" || !resolved.browser.trace) resolved.browser.trace = { mode: resolved.browser.trace || \"off\" };\n\tif (resolved.browser.trace.tracesDir != null) resolved.browser.trace.tracesDir = resolvePath(resolved.browser.trace.tracesDir, resolved.root);\n\tif (toArray(resolved.reporters).some((reporter) => {\n\t\treturn Array.isArray(reporter) ? reporter[0] === \"html\" : false;\n\t})) resolved.includeTaskLocation ??= true;\n\tif (resolved.server ??= {}, resolved.server.deps ??= {}, resolved.server.debug?.dump || process.env.VITEST_DEBUG_DUMP) {\n\t\tconst userFolder = resolved.server.debug?.dump || process.env.VITEST_DEBUG_DUMP;\n\t\tresolved.dumpDir = resolve(resolved.root, typeof userFolder === \"string\" && userFolder !== \"true\" ? userFolder : \".vitest-dump\", resolved.name || \"root\");\n\t}\n\treturn resolved.testTimeout ??= resolved.browser.enabled ? 3e4 : 5e3, resolved.hookTimeout ??= resolved.browser.enabled ? 3e4 : 1e4, resolved;\n}\nfunction isBrowserEnabled(config) {\n\treturn Boolean(config.browser?.enabled);\n}\nfunction resolveCoverageReporters(configReporters) {\n\t// E.g. { reporter: \"html\" }\n\tif (!Array.isArray(configReporters)) return [[configReporters, {}]];\n\tconst resolvedReporters = [];\n\tfor (const reporter of configReporters) if (Array.isArray(reporter))\n // E.g. { reporter: [ [\"html\", { skipEmpty: true }], [\"lcov\"], [\"json\", { file: \"map.json\" }] ]}\n\tresolvedReporters.push([reporter[0], reporter[1] || {}]);\n\telse\n // E.g. { reporter: [\"html\", \"json\"]}\n\tresolvedReporters.push([reporter, {}]);\n\treturn resolvedReporters;\n}\nfunction isChromiumName(provider, name) {\n\treturn provider === \"playwright\" ? name === \"chromium\" : name === \"chrome\" || name === \"edge\";\n}\nfunction hasBrowserChromium(vitest, config) {\n\tconst browser = config.browser;\n\treturn !browser || !browser.provider || browser.provider.name === \"preview\" || !browser.enabled ? false : browser.name ? isChromiumName(browser.provider.name, browser.name) : browser.instances ? browser.instances.some((instance) => {\n\t\tconst name = instance.name || (config.name ? `${config.name} (${instance.browser})` : instance.browser);\n\t\treturn vitest.matchesProjectFilter(name) ? isChromiumName(browser.provider.name, instance.browser) : false;\n\t}) : false;\n}\nfunction hasOnlyBrowserChromium(vitest, config) {\n\tconst browser = config.browser;\n\treturn !browser || !browser.provider || browser.provider.name === \"preview\" || !browser.enabled ? false : browser.name ? isChromiumName(browser.provider.name, browser.name) : browser.instances ? browser.instances.every((instance) => {\n\t\tconst name = instance.name || (config.name ? `${config.name} (${instance.browser})` : instance.browser);\n\t\treturn vitest.matchesProjectFilter(name) ? isChromiumName(browser.provider.name, instance.browser) : true;\n\t}) : false;\n}\n\nconst THRESHOLD_KEYS = [\n\t\"lines\",\n\t\"functions\",\n\t\"statements\",\n\t\"branches\"\n], GLOBAL_THRESHOLDS_KEY = \"global\", DEFAULT_PROJECT = Symbol.for(\"default-project\");\nlet uniqueId = 0;\nasync function getCoverageProvider(options, loader) {\n\tconst coverageModule = await resolveCoverageProviderModule(options, loader);\n\treturn coverageModule ? coverageModule.getProvider() : null;\n}\nclass BaseCoverageProvider {\n\tctx;\n\tname;\n\tversion;\n\toptions;\n\tglobCache = /* @__PURE__ */ new Map();\n\tcoverageFiles = /* @__PURE__ */ new Map();\n\tpendingPromises = [];\n\tcoverageFilesDirectory;\n\troots = [];\n\t_initialize(ctx) {\n\t\tif (this.ctx = ctx, ctx.version !== this.version) ctx.logger.warn(c.yellow(`Loaded ${c.inverse(c.yellow(` vitest@${ctx.version} `))} and ${c.inverse(c.yellow(` @vitest/coverage-${this.name}@${this.version} `))}.\nRunning mixed versions is not supported and may lead into bugs\nUpdate your dependencies and make sure the versions match.`));\n\t\tconst config = ctx._coverageOptions;\n\t\tthis.options = {\n\t\t\t...coverageConfigDefaults,\n\t\t\t...config,\n\t\t\tprovider: this.name,\n\t\t\treportsDirectory: resolve(ctx.config.root, config.reportsDirectory || coverageConfigDefaults.reportsDirectory),\n\t\t\treporter: resolveCoverageReporters(config.reporter || coverageConfigDefaults.reporter),\n\t\t\tthresholds: config.thresholds && {\n\t\t\t\t...config.thresholds,\n\t\t\t\tlines: config.thresholds[\"100\"] ? 100 : config.thresholds.lines,\n\t\t\t\tbranches: config.thresholds[\"100\"] ? 100 : config.thresholds.branches,\n\t\t\t\tfunctions: config.thresholds[\"100\"] ? 100 : config.thresholds.functions,\n\t\t\t\tstatements: config.thresholds[\"100\"] ? 100 : config.thresholds.statements\n\t\t\t}\n\t\t};\n\t\tconst shard = this.ctx.config.shard, tempDirectory = `.tmp${shard ? `-${shard.index}-${shard.count}` : \"\"}`;\n\t\t// If --project filter is set pick only roots of resolved projects\n\t\tthis.coverageFilesDirectory = resolve(this.options.reportsDirectory, tempDirectory), this.roots = ctx.config.project?.length ? [...new Set(ctx.projects.map((project) => project.config.root))] : [ctx.config.root];\n\t}\n\t/**\n\t* Check if file matches `coverage.include` but not `coverage.exclude`\n\t*/\n\tisIncluded(_filename, root) {\n\t\tconst roots = root ? [root] : this.roots, filename = slash(_filename), cacheHit = this.globCache.get(filename);\n\t\tif (cacheHit !== void 0) return cacheHit;\n\t\t// File outside project root with default allowExternal\n\t\tif (this.options.allowExternal === false && roots.every((root) => !filename.startsWith(root))) return this.globCache.set(filename, false), false;\n\t\t// By default `coverage.include` matches all files, except \"coverage.exclude\"\n\t\tconst glob = this.options.include || \"**\";\n\t\tlet included = roots.some((root) => {\n\t\t\tconst options = {\n\t\t\t\tcontains: true,\n\t\t\t\tdot: true,\n\t\t\t\tcwd: root,\n\t\t\t\tignore: this.options.exclude\n\t\t\t};\n\t\t\treturn pm.isMatch(filename, glob, options);\n\t\t});\n\t\treturn included &&= existsSync(cleanUrl(filename)), this.globCache.set(filename, included), included;\n\t}\n\tasync getUntestedFilesByRoot(testedFiles, include, root) {\n\t\tlet includedFiles = await glob(include, {\n\t\t\tcwd: root,\n\t\t\tignore: [...this.options.exclude, ...testedFiles.map((file) => slash(file))],\n\t\t\tabsolute: true,\n\t\t\tdot: true,\n\t\t\tonlyFiles: true\n\t\t});\n\t\tif (includedFiles = includedFiles.filter((file) => this.isIncluded(file, root)), this.ctx.config.changed) includedFiles = (this.ctx.config.related || []).filter((file) => includedFiles.includes(file));\n\t\treturn includedFiles.map((file) => slash(path.resolve(root, file)));\n\t}\n\tasync getUntestedFiles(testedFiles) {\n\t\tif (this.options.include == null) return [];\n\t\tconst rootMapper = this.getUntestedFilesByRoot.bind(this, testedFiles, this.options.include);\n\t\treturn (await Promise.all(this.roots.map(rootMapper))).flatMap((files) => files);\n\t}\n\tcreateCoverageMap() {\n\t\tthrow new Error(\"BaseReporter's createCoverageMap was not overwritten\");\n\t}\n\tasync generateReports(_, __) {\n\t\tthrow new Error(\"BaseReporter's generateReports was not overwritten\");\n\t}\n\tasync parseConfigModule(_) {\n\t\tthrow new Error(\"BaseReporter's parseConfigModule was not overwritten\");\n\t}\n\tresolveOptions() {\n\t\treturn this.options;\n\t}\n\tasync clean(clean = true) {\n\t\tif (clean && existsSync(this.options.reportsDirectory)) await promises.rm(this.options.reportsDirectory, {\n\t\t\trecursive: true,\n\t\t\tforce: true,\n\t\t\tmaxRetries: 10\n\t\t});\n\t\tif (existsSync(this.coverageFilesDirectory)) await promises.rm(this.coverageFilesDirectory, {\n\t\t\trecursive: true,\n\t\t\tforce: true,\n\t\t\tmaxRetries: 10\n\t\t});\n\t\tawait promises.mkdir(this.coverageFilesDirectory, { recursive: true }), this.coverageFiles = /* @__PURE__ */ new Map(), this.pendingPromises = [];\n\t}\n\tonAfterSuiteRun({ coverage, environment, projectName, testFiles }) {\n\t\tif (!coverage) return;\n\t\tlet entry = this.coverageFiles.get(projectName || DEFAULT_PROJECT);\n\t\tif (!entry) entry = {}, this.coverageFiles.set(projectName || DEFAULT_PROJECT, entry);\n\t\tconst testFilenames = testFiles.join(), filename = resolve(this.coverageFilesDirectory, `coverage-${uniqueId++}.json`);\n\t\t// If there's a result from previous run, overwrite it\n\t\tentry[environment] ??= {}, entry[environment][testFilenames] = filename;\n\t\tconst promise = promises.writeFile(filename, JSON.stringify(coverage), \"utf-8\");\n\t\tthis.pendingPromises.push(promise);\n\t}\n\tasync readCoverageFiles({ onFileRead, onFinished, onDebug }) {\n\t\tlet index = 0;\n\t\tconst total = this.pendingPromises.length;\n\t\tawait Promise.all(this.pendingPromises), this.pendingPromises = [];\n\t\tfor (const [projectName, coveragePerProject] of this.coverageFiles.entries()) for (const [environment, coverageByTestfiles] of Object.entries(coveragePerProject)) {\n\t\t\tconst filenames = Object.values(coverageByTestfiles), project = this.ctx.getProjectByName(projectName);\n\t\t\tfor (const chunk of this.toSlices(filenames, this.options.processingConcurrency)) {\n\t\t\t\tif (onDebug.enabled) index += chunk.length, onDebug(`Reading coverage results ${index}/${total}`);\n\t\t\t\tawait Promise.all(chunk.map(async (filename) => {\n\t\t\t\t\tconst contents = await promises.readFile(filename, \"utf-8\"), coverage = JSON.parse(contents);\n\t\t\t\t\tonFileRead(coverage);\n\t\t\t\t}));\n\t\t\t}\n\t\t\tawait onFinished(project, environment);\n\t\t}\n\t}\n\tasync cleanAfterRun() {\n\t\t// Remove empty reports directory, e.g. when only text-reporter is used\n\t\tif (this.coverageFiles = /* @__PURE__ */ new Map(), await promises.rm(this.coverageFilesDirectory, { recursive: true }), readdirSync(this.options.reportsDirectory).length === 0) await promises.rm(this.options.reportsDirectory, { recursive: true });\n\t}\n\tasync onTestFailure() {\n\t\tif (!this.options.reportOnFailure) await this.cleanAfterRun();\n\t}\n\tasync reportCoverage(coverageMap, { allTestsRun }) {\n\t\tif (await this.generateReports(coverageMap || this.createCoverageMap(), allTestsRun), !(!this.options.cleanOnRerun && this.ctx.config.watch)) await this.cleanAfterRun();\n\t}\n\tasync reportThresholds(coverageMap, allTestsRun) {\n\t\tconst resolvedThresholds = this.resolveThresholds(coverageMap);\n\t\tif (this.checkThresholds(resolvedThresholds), this.options.thresholds?.autoUpdate && allTestsRun) {\n\t\t\tif (!this.ctx.vite.config.configFile) throw new Error(\"Missing configurationFile. The \\\"coverage.thresholds.autoUpdate\\\" can only be enabled when configuration file is used.\");\n\t\t\tconst configFilePath = this.ctx.vite.config.configFile, configModule = await this.parseConfigModule(configFilePath);\n\t\t\tawait this.updateThresholds({\n\t\t\t\tthresholds: resolvedThresholds,\n\t\t\t\tconfigurationFile: configModule,\n\t\t\t\tonUpdate: () => writeFileSync(configFilePath, configModule.generate().code, \"utf-8\")\n\t\t\t});\n\t\t}\n\t}\n\t/**\n\t* Constructs collected coverage and users' threshold options into separate sets\n\t* where each threshold set holds their own coverage maps. Threshold set is either\n\t* for specific files defined by glob pattern or global for all other files.\n\t*/\n\tresolveThresholds(coverageMap) {\n\t\tconst resolvedThresholds = [], files = coverageMap.files(), globalCoverageMap = this.createCoverageMap();\n\t\tfor (const key of Object.keys(this.options.thresholds)) {\n\t\t\tif (key === \"perFile\" || key === \"autoUpdate\" || key === \"100\" || THRESHOLD_KEYS.includes(key)) continue;\n\t\t\tconst glob = key, globThresholds = resolveGlobThresholds(this.options.thresholds[glob]), globCoverageMap = this.createCoverageMap(), matcher = pm(glob), matchingFiles = files.filter((file) => matcher(relative(this.ctx.config.root, file)));\n\t\t\tfor (const file of matchingFiles) {\n\t\t\t\tconst fileCoverage = coverageMap.fileCoverageFor(file);\n\t\t\t\tglobCoverageMap.addFileCoverage(fileCoverage);\n\t\t\t}\n\t\t\tresolvedThresholds.push({\n\t\t\t\tname: glob,\n\t\t\t\tcoverageMap: globCoverageMap,\n\t\t\t\tthresholds: globThresholds\n\t\t\t});\n\t\t}\n\t\t// Global threshold is for all files, even if they are included by glob patterns\n\t\tfor (const file of files) {\n\t\t\tconst fileCoverage = coverageMap.fileCoverageFor(file);\n\t\t\tglobalCoverageMap.addFileCoverage(fileCoverage);\n\t\t}\n\t\treturn resolvedThresholds.unshift({\n\t\t\tname: GLOBAL_THRESHOLDS_KEY,\n\t\t\tcoverageMap: globalCoverageMap,\n\t\t\tthresholds: {\n\t\t\t\tbranches: this.options.thresholds?.branches,\n\t\t\t\tfunctions: this.options.thresholds?.functions,\n\t\t\t\tlines: this.options.thresholds?.lines,\n\t\t\t\tstatements: this.options.thresholds?.statements\n\t\t\t}\n\t\t}), resolvedThresholds;\n\t}\n\t/**\n\t* Check collected coverage against configured thresholds. Sets exit code to 1 when thresholds not reached.\n\t*/\n\tcheckThresholds(allThresholds) {\n\t\tfor (const { coverageMap, thresholds, name } of allThresholds) {\n\t\t\tif (thresholds.branches === void 0 && thresholds.functions === void 0 && thresholds.lines === void 0 && thresholds.statements === void 0) continue;\n\t\t\t// Construct list of coverage summaries where thresholds are compared against\n\t\t\tconst summaries = this.options.thresholds?.perFile ? coverageMap.files().map((file) => ({\n\t\t\t\tfile,\n\t\t\t\tsummary: coverageMap.fileCoverageFor(file).toSummary()\n\t\t\t})) : [{\n\t\t\t\tfile: null,\n\t\t\t\tsummary: coverageMap.getCoverageSummary()\n\t\t\t}];\n\t\t\t// Check thresholds of each summary\n\t\t\tfor (const { summary, file } of summaries) for (const thresholdKey of THRESHOLD_KEYS) {\n\t\t\t\tconst threshold = thresholds[thresholdKey];\n\t\t\t\tif (threshold === void 0) continue;\n\t\t\t\t/**\n\t\t\t\t* Positive thresholds are treated as minimum coverage percentages (X means: X% of lines must be covered),\n\t\t\t\t* while negative thresholds are treated as maximum uncovered counts (-X means: X lines may be uncovered).\n\t\t\t\t*/\n\t\t\t\tif (threshold >= 0) {\n\t\t\t\t\tconst coverage = summary.data[thresholdKey].pct;\n\t\t\t\t\tif (coverage < threshold) {\n\t\t\t\t\t\tprocess.exitCode = 1;\n\t\t\t\t\t\t/**\n\t\t\t\t\t\t* Generate error message based on perFile flag:\n\t\t\t\t\t\t* - ERROR: Coverage for statements (33.33%) does not meet threshold (85%) for src/math.ts\n\t\t\t\t\t\t* - ERROR: Coverage for statements (50%) does not meet global threshold (85%)\n\t\t\t\t\t\t*/\n\t\t\t\t\t\tlet errorMessage = `ERROR: Coverage for ${thresholdKey} (${coverage}%) does not meet ${name === GLOBAL_THRESHOLDS_KEY ? name : `\"${name}\"`} threshold (${threshold}%)`;\n\t\t\t\t\t\tif (this.options.thresholds?.perFile && file) errorMessage += ` for ${relative(\"./\", file).replace(/\\\\/g, \"/\")}`;\n\t\t\t\t\t\tthis.ctx.logger.error(errorMessage);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconst uncovered = summary.data[thresholdKey].total - summary.data[thresholdKey].covered, absoluteThreshold = threshold * -1;\n\t\t\t\t\tif (uncovered > absoluteThreshold) {\n\t\t\t\t\t\tprocess.exitCode = 1;\n\t\t\t\t\t\t/**\n\t\t\t\t\t\t* Generate error message based on perFile flag:\n\t\t\t\t\t\t* - ERROR: Uncovered statements (33) exceed threshold (30) for src/math.ts\n\t\t\t\t\t\t* - ERROR: Uncovered statements (33) exceed global threshold (30)\n\t\t\t\t\t\t*/\n\t\t\t\t\t\tlet errorMessage = `ERROR: Uncovered ${thresholdKey} (${uncovered}) exceed ${name === GLOBAL_THRESHOLDS_KEY ? name : `\"${name}\"`} threshold (${absoluteThreshold})`;\n\t\t\t\t\t\tif (this.options.thresholds?.perFile && file) errorMessage += ` for ${relative(\"./\", file).replace(/\\\\/g, \"/\")}`;\n\t\t\t\t\t\tthis.ctx.logger.error(errorMessage);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t/**\n\t* Check if current coverage is above configured thresholds and bump the thresholds if needed\n\t*/\n\tasync updateThresholds({ thresholds: allThresholds, onUpdate, configurationFile }) {\n\t\tlet updatedThresholds = false;\n\t\tconst config = resolveConfig(configurationFile);\n\t\tassertConfigurationModule(config);\n\t\tfor (const { coverageMap, thresholds, name } of allThresholds) {\n\t\t\tconst summaries = this.options.thresholds?.perFile ? coverageMap.files().map((file) => coverageMap.fileCoverageFor(file).toSummary()) : [coverageMap.getCoverageSummary()], thresholdsToUpdate = [];\n\t\t\tfor (const key of THRESHOLD_KEYS) {\n\t\t\t\tconst threshold = thresholds[key] ?? 100;\n\t\t\t\t/**\n\t\t\t\t* Positive thresholds are treated as minimum coverage percentages (X means: X% of lines must be covered),\n\t\t\t\t* while negative thresholds are treated as maximum uncovered counts (-X means: X lines may be uncovered).\n\t\t\t\t*/\n\t\t\t\tif (threshold >= 0) {\n\t\t\t\t\tconst actual = Math.min(...summaries.map((summary) => summary[key].pct));\n\t\t\t\t\tif (actual > threshold) thresholdsToUpdate.push([key, actual]);\n\t\t\t\t} else {\n\t\t\t\t\tconst absoluteThreshold = threshold * -1, actual = Math.max(...summaries.map((summary) => summary[key].total - summary[key].covered));\n\t\t\t\t\tif (actual < absoluteThreshold) {\n\t\t\t\t\t\t// If everything was covered, set new threshold to 100% (since a threshold of 0 would be considered as 0%)\n\t\t\t\t\t\tconst updatedThreshold = actual === 0 ? 100 : actual * -1;\n\t\t\t\t\t\tthresholdsToUpdate.push([key, updatedThreshold]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (thresholdsToUpdate.length === 0) continue;\n\t\t\tupdatedThresholds = true;\n\t\t\tconst thresholdFormatter = typeof this.options.thresholds?.autoUpdate === \"function\" ? this.options.thresholds?.autoUpdate : (value) => value;\n\t\t\tfor (const [threshold, newValue] of thresholdsToUpdate) {\n\t\t\t\tconst formattedValue = thresholdFormatter(newValue);\n\t\t\t\tif (name === GLOBAL_THRESHOLDS_KEY) config.test.coverage.thresholds[threshold] = formattedValue;\n\t\t\t\telse {\n\t\t\t\t\tconst glob = config.test.coverage.thresholds[name];\n\t\t\t\t\tglob[threshold] = formattedValue;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (updatedThresholds) this.ctx.logger.log(\"Updating thresholds to configuration file. You may want to push with updated coverage thresholds.\"), onUpdate();\n\t}\n\tasync mergeReports(coverageMaps) {\n\t\tconst coverageMap = this.createCoverageMap();\n\t\tfor (const coverage of coverageMaps) coverageMap.merge(coverage);\n\t\tawait this.generateReports(coverageMap, true);\n\t}\n\thasTerminalReporter(reporters) {\n\t\treturn reporters.some(([reporter]) => reporter === \"text\" || reporter === \"text-summary\" || reporter === \"text-lcov\" || reporter === \"teamcity\");\n\t}\n\ttoSlices(array, size) {\n\t\treturn array.reduce((chunks, item) => {\n\t\t\tconst index = Math.max(0, chunks.length - 1), lastChunk = chunks[index] || [];\n\t\t\tif (chunks[index] = lastChunk, lastChunk.length >= size) chunks.push([item]);\n\t\t\telse lastChunk.push(item);\n\t\t\treturn chunks;\n\t\t}, []);\n\t}\n\tcreateUncoveredFileTransformer(ctx) {\n\t\tconst servers = [...ctx.projects.map((project) => ({\n\t\t\troot: project.config.root,\n\t\t\tisBrowserEnabled: project.isBrowserEnabled(),\n\t\t\tvite: project.vite\n\t\t})), (\n\t\t// Check core last as it will match all files anyway\n\t\t{\n\t\t\troot: ctx.config.root,\n\t\t\tvite: ctx.vite,\n\t\t\tisBrowserEnabled: ctx.getRootProject().isBrowserEnabled()\n\t\t})];\n\t\treturn async function transformFile(filename) {\n\t\t\tlet lastError;\n\t\t\tfor (const { root, vite, isBrowserEnabled } of servers) {\n\t\t\t\t// On Windows root doesn't start with \"/\" while filenames do\n\t\t\t\tif (!filename.startsWith(root) && !filename.startsWith(`/${root}`)) continue;\n\t\t\t\tif (isBrowserEnabled) {\n\t\t\t\t\tconst result = await vite.environments.client.transformRequest(filename).catch(() => null);\n\t\t\t\t\tif (result) return result;\n\t\t\t\t}\n\t\t\t\ttry {\n\t\t\t\t\treturn await vite.environments.ssr.transformRequest(filename);\n\t\t\t\t} catch (error) {\n\t\t\t\t\tlastError = error;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// All vite-node servers failed to transform the file\n\t\t\tthrow lastError;\n\t\t};\n\t}\n}\n/**\n* Narrow down `unknown` glob thresholds to resolved ones\n*/\nfunction resolveGlobThresholds(thresholds) {\n\treturn !thresholds || typeof thresholds !== \"object\" ? {} : 100 in thresholds && thresholds[100] === true ? {\n\t\tlines: 100,\n\t\tbranches: 100,\n\t\tfunctions: 100,\n\t\tstatements: 100\n\t} : {\n\t\tlines: \"lines\" in thresholds && typeof thresholds.lines === \"number\" ? thresholds.lines : void 0,\n\t\tbranches: \"branches\" in thresholds && typeof thresholds.branches === \"number\" ? thresholds.branches : void 0,\n\t\tfunctions: \"functions\" in thresholds && typeof thresholds.functions === \"number\" ? thresholds.functions : void 0,\n\t\tstatements: \"statements\" in thresholds && typeof thresholds.statements === \"number\" ? thresholds.statements : void 0\n\t};\n}\nfunction assertConfigurationModule(config) {\n\ttry {\n\t\t// @ts-expect-error -- Intentional unsafe null pointer check as wrapped in try-catch\n\t\tif (typeof config.test.coverage.thresholds !== \"object\") throw new TypeError(\"Expected config.test.coverage.thresholds to be an object\");\n\t} catch (error) {\n\t\tconst message = error instanceof Error ? error.message : String(error);\n\t\tthrow new Error(`Unable to parse thresholds from configuration file: ${message}`);\n\t}\n}\nfunction resolveConfig(configModule) {\n\tconst mod = configModule.exports.default;\n\ttry {\n\t\t// Check for \"export default { test: {...} }\"\n\t\tif (mod.$type === \"object\") return mod;\n\t\t// \"export default defineConfig(...)\"\n\t\tlet config = resolveDefineConfig(mod);\n\t\tif (config) return config;\n\t\t// \"export default mergeConfig(..., defineConfig(...))\"\n\t\tif (mod.$type === \"function-call\" && mod.$callee === \"mergeConfig\") {\n\t\t\tif (config = resolveMergeConfig(mod), config) return config;\n\t\t}\n\t} catch (error) {\n\t\t// Reduce magicast's verbose errors to readable ones\n\t\tthrow new Error(error instanceof Error ? error.message : String(error));\n\t}\n\tthrow new Error(\"Failed to update coverage thresholds. Configuration file is too complex.\");\n}\nfunction resolveDefineConfig(mod) {\n\tif (mod.$type === \"function-call\" && mod.$callee === \"defineConfig\") {\n\t\t// \"export default defineConfig({ test: {...} })\"\n\t\tif (mod.$args[0].$type === \"object\") return mod.$args[0];\n\t\tif (mod.$args[0].$type === \"arrow-function-expression\") {\n\t\t\tif (mod.$args[0].$body.$type === \"object\")\n // \"export default defineConfig(() => ({ test: {...} }))\"\n\t\t\treturn mod.$args[0].$body;\n\t\t\t// \"export default defineConfig(() => mergeConfig({...}, ...))\"\n\t\t\tconst config = resolveMergeConfig(mod.$args[0].$body);\n\t\t\tif (config) return config;\n\t\t}\n\t}\n}\nfunction resolveMergeConfig(mod) {\n\tif (mod.$type === \"function-call\" && mod.$callee === \"mergeConfig\") for (const arg of mod.$args) {\n\t\tconst config = resolveDefineConfig(arg);\n\t\tif (config) return config;\n\t}\n}\n\nexport { BaseCoverageProvider as B, RandomSequencer as R, resolveApiServerConfig as a, BaseSequencer as b, isBrowserEnabled as c, resolveModule as d, getCoverageProvider as g, hash as h, isPackageExists as i, resolveConfig$1 as r };\n", "import nodeos__default from 'node:os';\nimport './env.D4Lgay0q.js';\nimport { isCI } from 'std-env';\n\nconst defaultInclude = [\"**/*.{test,spec}.?(c|m)[jt]s?(x)\"];\nconst defaultExclude = [\"**/node_modules/**\", \"**/.git/**\"];\nconst benchmarkConfigDefaults = {\n\tinclude: [\"**/*.{bench,benchmark}.?(c|m)[jt]s?(x)\"],\n\texclude: defaultExclude,\n\tincludeSource: [],\n\treporters: [\"default\"],\n\tincludeSamples: false\n};\n// These are the generic defaults for coverage. Providers may also set some provider specific defaults.\nconst coverageConfigDefaults = {\n\tprovider: \"v8\",\n\tenabled: false,\n\tclean: true,\n\tcleanOnRerun: true,\n\treportsDirectory: \"./coverage\",\n\texclude: [],\n\treportOnFailure: false,\n\treporter: [\n\t\t[\"text\", {}],\n\t\t[\"html\", {}],\n\t\t[\"clover\", {}],\n\t\t[\"json\", {}]\n\t],\n\tallowExternal: false,\n\texcludeAfterRemap: false,\n\tprocessingConcurrency: Math.min(20, nodeos__default.availableParallelism?.() ?? nodeos__default.cpus().length)\n};\nconst fakeTimersDefaults = {\n\tloopLimit: 1e4,\n\tshouldClearNativeTimers: true\n};\nconst configDefaults = Object.freeze({\n\tallowOnly: !isCI,\n\tisolate: true,\n\twatch: !isCI && process.stdin.isTTY,\n\tglobals: false,\n\tenvironment: \"node\",\n\tclearMocks: false,\n\trestoreMocks: false,\n\tmockReset: false,\n\tunstubGlobals: false,\n\tunstubEnvs: false,\n\tinclude: defaultInclude,\n\texclude: defaultExclude,\n\tteardownTimeout: 1e4,\n\tforceRerunTriggers: [\"**/package.json/**\", \"**/{vitest,vite}.config.*/**\"],\n\tupdate: false,\n\treporters: [],\n\tsilent: false,\n\thideSkippedTests: false,\n\tapi: false,\n\tui: false,\n\tuiBase: \"/__vitest__/\",\n\topen: !isCI,\n\tcss: { include: [] },\n\tcoverage: coverageConfigDefaults,\n\tfakeTimers: fakeTimersDefaults,\n\tmaxConcurrency: 5,\n\tdangerouslyIgnoreUnhandledErrors: false,\n\ttypecheck: {\n\t\tchecker: \"tsc\",\n\t\tinclude: [\"**/*.{test,spec}-d.?(c|m)[jt]s?(x)\"],\n\t\texclude: defaultExclude\n\t},\n\tslowTestThreshold: 300,\n\tdisableConsoleIntercept: false\n});\n\nexport { coverageConfigDefaults as a, defaultInclude as b, configDefaults as c, defaultExclude as d, benchmarkConfigDefaults as e };\n", "import { join, dirname, basename, resolve, isAbsolute } from 'pathe';\n\nclass SnapshotManager {\n\tsummary;\n\textension = \".snap\";\n\tconstructor(options) {\n\t\tthis.options = options;\n\t\tthis.clear();\n\t}\n\tclear() {\n\t\tthis.summary = emptySummary(this.options);\n\t}\n\tadd(result) {\n\t\taddSnapshotResult(this.summary, result);\n\t}\n\tresolvePath(testPath, context) {\n\t\tconst resolver = this.options.resolveSnapshotPath || (() => {\n\t\t\treturn join(join(dirname(testPath), \"__snapshots__\"), `${basename(testPath)}${this.extension}`);\n\t\t});\n\t\tconst path = resolver(testPath, this.extension, context);\n\t\treturn path;\n\t}\n\tresolveRawPath(testPath, rawPath) {\n\t\treturn isAbsolute(rawPath) ? rawPath : resolve(dirname(testPath), rawPath);\n\t}\n}\nfunction emptySummary(options) {\n\tconst summary = {\n\t\tadded: 0,\n\t\tfailure: false,\n\t\tfilesAdded: 0,\n\t\tfilesRemoved: 0,\n\t\tfilesRemovedList: [],\n\t\tfilesUnmatched: 0,\n\t\tfilesUpdated: 0,\n\t\tmatched: 0,\n\t\ttotal: 0,\n\t\tunchecked: 0,\n\t\tuncheckedKeysByFile: [],\n\t\tunmatched: 0,\n\t\tupdated: 0,\n\t\tdidUpdate: options.updateSnapshot === \"all\"\n\t};\n\treturn summary;\n}\nfunction addSnapshotResult(summary, result) {\n\tif (result.added) {\n\t\tsummary.filesAdded++;\n\t}\n\tif (result.fileDeleted) {\n\t\tsummary.filesRemoved++;\n\t}\n\tif (result.unmatched) {\n\t\tsummary.filesUnmatched++;\n\t}\n\tif (result.updated) {\n\t\tsummary.filesUpdated++;\n\t}\n\tsummary.added += result.added;\n\tsummary.matched += result.matched;\n\tsummary.unchecked += result.unchecked;\n\tif (result.uncheckedKeys && result.uncheckedKeys.length > 0) {\n\t\tsummary.uncheckedKeysByFile.push({\n\t\t\tfilePath: result.filepath,\n\t\t\tkeys: result.uncheckedKeys\n\t\t});\n\t}\n\tsummary.unmatched += result.unmatched;\n\tsummary.updated += result.updated;\n\tsummary.total += result.added + result.matched + result.unmatched + result.updated;\n}\n\nexport { SnapshotManager, addSnapshotResult, emptySummary };\n", "import { toArray } from '@vitest/utils/helpers';\nimport { EventEmitter } from 'events';\nimport { normalize } from 'pathe';\nimport c from 'tinyrainbow';\nimport { a as defaultPort, d as defaultBrowserPort } from './constants.D_Q9UYh-.js';\nimport { R as ReportersMap } from './index.CcRZ6fUh.js';\n\nfunction toArr(any) {\n\treturn any == null ? [] : Array.isArray(any) ? any : [any];\n}\n\nfunction toVal(out, key, val, opts) {\n\tvar x, old=out[key], nxt=(\n\t\t!!~opts.string.indexOf(key) ? (val == null || val === true ? '' : String(val))\n\t\t: typeof val === 'boolean' ? val\n\t\t: !!~opts.boolean.indexOf(key) ? (val === 'false' ? false : val === 'true' || (out._.push((x = +val,x * 0 === 0) ? x : val),!!val))\n\t\t: (x = +val,x * 0 === 0) ? x : val\n\t);\n\tout[key] = old == null ? nxt : (Array.isArray(old) ? old.concat(nxt) : [old, nxt]);\n}\n\nfunction mri2 (args, opts) {\n\targs = args || [];\n\topts = opts || {};\n\n\tvar k, arr, arg, name, val, out={ _:[] };\n\tvar i=0, j=0, idx=0, len=args.length;\n\n\tconst alibi = opts.alias !== void 0;\n\tconst strict = opts.unknown !== void 0;\n\tconst defaults = opts.default !== void 0;\n\n\topts.alias = opts.alias || {};\n\topts.string = toArr(opts.string);\n\topts.boolean = toArr(opts.boolean);\n\n\tif (alibi) {\n\t\tfor (k in opts.alias) {\n\t\t\tarr = opts.alias[k] = toArr(opts.alias[k]);\n\t\t\tfor (i=0; i < arr.length; i++) {\n\t\t\t\t(opts.alias[arr[i]] = arr.concat(k)).splice(i, 1);\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (i=opts.boolean.length; i-- > 0;) {\n\t\tarr = opts.alias[opts.boolean[i]] || [];\n\t\tfor (j=arr.length; j-- > 0;) opts.boolean.push(arr[j]);\n\t}\n\n\tfor (i=opts.string.length; i-- > 0;) {\n\t\tarr = opts.alias[opts.string[i]] || [];\n\t\tfor (j=arr.length; j-- > 0;) opts.string.push(arr[j]);\n\t}\n\n\tif (defaults) {\n\t\tfor (k in opts.default) {\n\t\t\tname = typeof opts.default[k];\n\t\t\tarr = opts.alias[k] = opts.alias[k] || [];\n\t\t\tif (opts[name] !== void 0) {\n\t\t\t\topts[name].push(k);\n\t\t\t\tfor (i=0; i < arr.length; i++) {\n\t\t\t\t\topts[name].push(arr[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tconst keys = strict ? Object.keys(opts.alias) : [];\n\n\tfor (i=0; i < len; i++) {\n\t\targ = args[i];\n\n\t\tif (arg === '--') {\n\t\t\tout._ = out._.concat(args.slice(++i));\n\t\t\tbreak;\n\t\t}\n\n\t\tfor (j=0; j < arg.length; j++) {\n\t\t\tif (arg.charCodeAt(j) !== 45) break; // \"-\"\n\t\t}\n\n\t\tif (j === 0) {\n\t\t\tout._.push(arg);\n\t\t} else if (arg.substring(j, j + 3) === 'no-') {\n\t\t\tname = arg.substring(j + 3);\n\t\t\tif (strict && !~keys.indexOf(name)) {\n\t\t\t\treturn opts.unknown(arg);\n\t\t\t}\n\t\t\tout[name] = false;\n\t\t} else {\n\t\t\tfor (idx=j+1; idx < arg.length; idx++) {\n\t\t\t\tif (arg.charCodeAt(idx) === 61) break; // \"=\"\n\t\t\t}\n\n\t\t\tname = arg.substring(j, idx);\n\t\t\tval = arg.substring(++idx) || (i+1 === len || (''+args[i+1]).charCodeAt(0) === 45 || args[++i]);\n\t\t\tarr = (j === 2 ? [name] : name);\n\n\t\t\tfor (idx=0; idx < arr.length; idx++) {\n\t\t\t\tname = arr[idx];\n\t\t\t\tif (strict && !~keys.indexOf(name)) return opts.unknown('-'.repeat(j) + name);\n\t\t\t\ttoVal(out, name, (idx + 1 < arr.length) || val, opts);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (defaults) {\n\t\tfor (k in opts.default) {\n\t\t\tif (out[k] === void 0) {\n\t\t\t\tout[k] = opts.default[k];\n\t\t\t}\n\t\t}\n\t}\n\n\tif (alibi) {\n\t\tfor (k in out) {\n\t\t\tarr = opts.alias[k] || [];\n\t\t\twhile (arr.length > 0) {\n\t\t\t\tout[arr.shift()] = out[k];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn out;\n}\n\nconst removeBrackets = (v) => v.replace(/[<[].+/, \"\").trim();\nconst findAllBrackets = (v) => {\n  const ANGLED_BRACKET_RE_GLOBAL = /<([^>]+)>/g;\n  const SQUARE_BRACKET_RE_GLOBAL = /\\[([^\\]]+)\\]/g;\n  const res = [];\n  const parse = (match) => {\n    let variadic = false;\n    let value = match[1];\n    if (value.startsWith(\"...\")) {\n      value = value.slice(3);\n      variadic = true;\n    }\n    return {\n      required: match[0].startsWith(\"<\"),\n      value,\n      variadic\n    };\n  };\n  let angledMatch;\n  while (angledMatch = ANGLED_BRACKET_RE_GLOBAL.exec(v)) {\n    res.push(parse(angledMatch));\n  }\n  let squareMatch;\n  while (squareMatch = SQUARE_BRACKET_RE_GLOBAL.exec(v)) {\n    res.push(parse(squareMatch));\n  }\n  return res;\n};\nconst getMriOptions = (options) => {\n  const result = {alias: {}, boolean: []};\n  for (const [index, option] of options.entries()) {\n    if (option.names.length > 1) {\n      result.alias[option.names[0]] = option.names.slice(1);\n    }\n    if (option.isBoolean) {\n      if (option.negated) {\n        const hasStringTypeOption = options.some((o, i) => {\n          return i !== index && o.names.some((name) => option.names.includes(name)) && typeof o.required === \"boolean\";\n        });\n        if (!hasStringTypeOption) {\n          result.boolean.push(option.names[0]);\n        }\n      } else {\n        result.boolean.push(option.names[0]);\n      }\n    }\n  }\n  return result;\n};\nconst findLongest = (arr) => {\n  return arr.sort((a, b) => {\n    return a.length > b.length ? -1 : 1;\n  })[0];\n};\nconst padRight = (str, length) => {\n  return str.length >= length ? str : `${str}${\" \".repeat(length - str.length)}`;\n};\nconst camelcase = (input) => {\n  return input.replace(/([a-z])-([a-z])/g, (_, p1, p2) => {\n    return p1 + p2.toUpperCase();\n  });\n};\nconst setDotProp = (obj, keys, val, transforms) => {\n  let i = 0;\n  let length = keys.length;\n  let t = obj;\n  let x;\n  let convertKey = (i) => {\n    let key = keys[i];\n    i--;\n    while(i >= 0) {\n      key = keys[i] + '.' + key;\n      i--;\n    }\n    return key\n  };\n  for (; i < length; ++i) {\n    x = t[keys[i]];\n    const transform = transforms[convertKey(i)] || ((v) => v);\n    t = t[keys[i]] = transform(i === length - 1 ? val : x != null ? x : !!~keys[i + 1].indexOf(\".\") || !(+keys[i + 1] > -1) ? {} : []);\n  }\n};\nconst getFileName = (input) => {\n  const m = /([^\\\\\\/]+)$/.exec(input);\n  return m ? m[1] : \"\";\n};\nconst camelcaseOptionName = (name) => {\n  return name.split(\".\").map((v, i) => {\n    return i === 0 ? camelcase(v) : v;\n  }).join(\".\");\n};\nclass CACError extends Error {\n  constructor(message) {\n    super(message);\n    this.name = this.constructor.name;\n    if (typeof Error.captureStackTrace === \"function\") {\n      Error.captureStackTrace(this, this.constructor);\n    } else {\n      this.stack = new Error(message).stack;\n    }\n  }\n}\n\nclass Option {\n  constructor(rawName, description, config) {\n    this.rawName = rawName;\n    this.description = description;\n    this.config = Object.assign({}, config);\n    rawName = rawName.replace(/\\.\\*/g, \"\");\n    this.negated = false;\n    this.names = removeBrackets(rawName).split(\",\").map((v) => {\n      let name = v.trim().replace(/^-{1,2}/, \"\");\n      if (name.startsWith(\"no-\")) {\n        this.negated = true;\n        name = name.replace(/^no-/, \"\");\n      }\n      return camelcaseOptionName(name);\n    }).sort((a, b) => a.length > b.length ? 1 : -1);\n    this.name = this.names[this.names.length - 1];\n    if (this.negated && this.config.default == null) {\n      this.config.default = true;\n    }\n    if (rawName.includes(\"<\")) {\n      this.required = true;\n    } else if (rawName.includes(\"[\")) {\n      this.required = false;\n    } else {\n      this.isBoolean = true;\n    }\n  }\n}\n\nconst processArgs = process.argv;\nconst platformInfo = `${process.platform}-${process.arch} node-${process.version}`;\n\nclass Command {\n  constructor(rawName, description, config = {}, cli) {\n    this.rawName = rawName;\n    this.description = description;\n    this.config = config;\n    this.cli = cli;\n    this.options = [];\n    this.aliasNames = [];\n    this.name = removeBrackets(rawName);\n    this.args = findAllBrackets(rawName);\n    this.examples = [];\n  }\n  usage(text) {\n    this.usageText = text;\n    return this;\n  }\n  allowUnknownOptions() {\n    this.config.allowUnknownOptions = true;\n    return this;\n  }\n  ignoreOptionDefaultValue() {\n    this.config.ignoreOptionDefaultValue = true;\n    return this;\n  }\n  version(version, customFlags = \"-v, --version\") {\n    this.versionNumber = version;\n    this.option(customFlags, \"Display version number\");\n    return this;\n  }\n  example(example) {\n    this.examples.push(example);\n    return this;\n  }\n  option(rawName, description, config) {\n    const option = new Option(rawName, description, config);\n    this.options.push(option);\n    return this;\n  }\n  alias(name) {\n    this.aliasNames.push(name);\n    return this;\n  }\n  action(callback) {\n    this.commandAction = callback;\n    return this;\n  }\n  isMatched(name) {\n    return this.name === name || this.aliasNames.includes(name);\n  }\n  get isDefaultCommand() {\n    return this.name === \"\" || this.aliasNames.includes(\"!\");\n  }\n  get isGlobalCommand() {\n    return this instanceof GlobalCommand;\n  }\n  hasOption(name) {\n    name = name.split(\".\")[0];\n    return this.options.find((option) => {\n      return option.names.includes(name);\n    });\n  }\n  outputHelp() {\n    const {name, commands} = this.cli;\n    const {\n      versionNumber,\n      options: globalOptions,\n      helpCallback\n    } = this.cli.globalCommand;\n    let sections = [\n      {\n        body: `${name}${versionNumber ? `/${versionNumber}` : \"\"}`\n      }\n    ];\n    sections.push({\n      title: \"Usage\",\n      body: `  $ ${name} ${this.usageText || this.rawName}`\n    });\n    const showCommands = (this.isGlobalCommand || this.isDefaultCommand) && commands.length > 0;\n    if (showCommands) {\n      const longestCommandName = findLongest(commands.map((command) => command.rawName));\n      sections.push({\n        title: \"Commands\",\n        body: commands.map((command) => {\n          return `  ${padRight(command.rawName, longestCommandName.length)}  ${command.description}`;\n        }).join(\"\\n\")\n      });\n      sections.push({\n        title: `For more info, run any command with the \\`--help\\` flag`,\n        body: commands.map((command) => `  $ ${name}${command.name === \"\" ? \"\" : ` ${command.name}`} --help`).join(\"\\n\")\n      });\n    }\n    let options = this.isGlobalCommand ? globalOptions : [...this.options, ...globalOptions || []];\n    if (!this.isGlobalCommand && !this.isDefaultCommand) {\n      options = options.filter((option) => option.name !== \"version\");\n    }\n    if (options.length > 0) {\n      const longestOptionName = findLongest(options.map((option) => option.rawName));\n      sections.push({\n        title: \"Options\",\n        body: options.map((option) => {\n          return `  ${padRight(option.rawName, longestOptionName.length)}  ${option.description} ${option.config.default === void 0 ? \"\" : `(default: ${option.config.default})`}`;\n        }).join(\"\\n\")\n      });\n    }\n    if (this.examples.length > 0) {\n      sections.push({\n        title: \"Examples\",\n        body: this.examples.map((example) => {\n          if (typeof example === \"function\") {\n            return example(name);\n          }\n          return example;\n        }).join(\"\\n\")\n      });\n    }\n    if (helpCallback) {\n      sections = helpCallback(sections) || sections;\n    }\n    console.log(sections.map((section) => {\n      return section.title ? `${section.title}:\n${section.body}` : section.body;\n    }).join(\"\\n\\n\"));\n  }\n  outputVersion() {\n    const {name} = this.cli;\n    const {versionNumber} = this.cli.globalCommand;\n    if (versionNumber) {\n      console.log(`${name}/${versionNumber} ${platformInfo}`);\n    }\n  }\n  checkRequiredArgs() {\n    const minimalArgsCount = this.args.filter((arg) => arg.required).length;\n    if (this.cli.args.length < minimalArgsCount) {\n      throw new CACError(`missing required args for command \\`${this.rawName}\\``);\n    }\n  }\n  checkUnknownOptions() {\n    const {options, globalCommand} = this.cli;\n    if (!this.config.allowUnknownOptions) {\n      for (const name of Object.keys(options)) {\n        if (name !== \"--\" && !this.hasOption(name) && !globalCommand.hasOption(name)) {\n          throw new CACError(`Unknown option \\`${name.length > 1 ? `--${name}` : `-${name}`}\\``);\n        }\n      }\n    }\n  }\n  checkOptionValue() {\n    const {options: parsedOptions, globalCommand} = this.cli;\n    const options = [...globalCommand.options, ...this.options];\n    for (const option of options) {\n      // skip dot names because only top level options are required\n      if (option.name.includes('.')) {\n        continue;\n      }\n      const value = parsedOptions[option.name];\n      if (option.required) {\n        const hasNegated = options.some((o) => o.negated && o.names.includes(option.name));\n        if (value === true || value === false && !hasNegated) {\n          throw new CACError(`option \\`${option.rawName}\\` value is missing`);\n        }\n      }\n    }\n  }\n}\nclass GlobalCommand extends Command {\n  constructor(cli) {\n    super(\"@@global@@\", \"\", {}, cli);\n  }\n}\n\nvar __assign = Object.assign;\nclass CAC extends EventEmitter {\n  constructor(name = \"\") {\n    super();\n    this.name = name;\n    this.commands = [];\n    this.rawArgs = [];\n    this.args = [];\n    this.options = {};\n    this.globalCommand = new GlobalCommand(this);\n    this.globalCommand.usage(\"<command> [options]\");\n  }\n  usage(text) {\n    this.globalCommand.usage(text);\n    return this;\n  }\n  command(rawName, description, config) {\n    const command = new Command(rawName, description || \"\", config, this);\n    command.globalCommand = this.globalCommand;\n    this.commands.push(command);\n    return command;\n  }\n  option(rawName, description, config) {\n    this.globalCommand.option(rawName, description, config);\n    return this;\n  }\n  help(callback) {\n    this.globalCommand.option(\"-h, --help\", \"Display this message\");\n    this.globalCommand.helpCallback = callback;\n    this.showHelpOnExit = true;\n    return this;\n  }\n  version(version, customFlags = \"-v, --version\") {\n    this.globalCommand.version(version, customFlags);\n    this.showVersionOnExit = true;\n    return this;\n  }\n  example(example) {\n    this.globalCommand.example(example);\n    return this;\n  }\n  outputHelp() {\n    if (this.matchedCommand) {\n      this.matchedCommand.outputHelp();\n    } else {\n      this.globalCommand.outputHelp();\n    }\n  }\n  outputVersion() {\n    this.globalCommand.outputVersion();\n  }\n  setParsedInfo({args, options}, matchedCommand, matchedCommandName) {\n    this.args = args;\n    this.options = options;\n    if (matchedCommand) {\n      this.matchedCommand = matchedCommand;\n    }\n    if (matchedCommandName) {\n      this.matchedCommandName = matchedCommandName;\n    }\n    return this;\n  }\n  unsetMatchedCommand() {\n    this.matchedCommand = void 0;\n    this.matchedCommandName = void 0;\n  }\n  parse(argv = processArgs, {\n    run = true\n  } = {}) {\n    this.rawArgs = argv;\n    if (!this.name) {\n      this.name = argv[1] ? getFileName(argv[1]) : \"cli\";\n    }\n    let shouldParse = true;\n    for (const command of this.commands) {\n      const parsed = this.mri(argv.slice(2), command);\n      const commandName = parsed.args[0];\n      if (command.isMatched(commandName)) {\n        shouldParse = false;\n        const parsedInfo = __assign(__assign({}, parsed), {\n          args: parsed.args.slice(1)\n        });\n        this.setParsedInfo(parsedInfo, command, commandName);\n        this.emit(`command:${commandName}`, command);\n      }\n    }\n    if (shouldParse) {\n      for (const command of this.commands) {\n        if (command.name === \"\") {\n          shouldParse = false;\n          const parsed = this.mri(argv.slice(2), command);\n          this.setParsedInfo(parsed, command);\n          this.emit(`command:!`, command);\n        }\n      }\n    }\n    if (shouldParse) {\n      const parsed = this.mri(argv.slice(2));\n      this.setParsedInfo(parsed);\n    }\n    if (this.options.help && this.showHelpOnExit) {\n      this.outputHelp();\n      run = false;\n      this.unsetMatchedCommand();\n    }\n    if (this.options.version && this.showVersionOnExit && this.matchedCommandName == null) {\n      this.outputVersion();\n      run = false;\n      this.unsetMatchedCommand();\n    }\n    const parsedArgv = {args: this.args, options: this.options};\n    if (run) {\n      this.runMatchedCommand();\n    }\n    if (!this.matchedCommand && this.args[0]) {\n      this.emit(\"command:*\");\n    }\n    return parsedArgv;\n  }\n  mri(argv, command) {\n    const cliOptions = [\n      ...this.globalCommand.options,\n      ...command ? command.options : []\n    ];\n    const mriOptions = getMriOptions(cliOptions);\n    let argsAfterDoubleDashes = [];\n    const doubleDashesIndex = argv.indexOf(\"--\");\n    if (doubleDashesIndex > -1) {\n      argsAfterDoubleDashes = argv.slice(doubleDashesIndex + 1);\n      argv = argv.slice(0, doubleDashesIndex);\n    }\n    let parsed = mri2(argv, mriOptions);\n    parsed = Object.keys(parsed).reduce((res, name) => {\n      return __assign(__assign({}, res), {\n        [camelcaseOptionName(name)]: parsed[name]\n      });\n    }, {_: []});\n    const args = parsed._;\n    const options = {\n      \"--\": argsAfterDoubleDashes\n    };\n    const ignoreDefault = command && command.config.ignoreOptionDefaultValue ? command.config.ignoreOptionDefaultValue : this.globalCommand.config.ignoreOptionDefaultValue;\n    let transforms = Object.create(null);\n    for (const cliOption of cliOptions) {\n      if (!ignoreDefault && cliOption.config.default !== void 0) {\n        for (const name of cliOption.names) {\n          options[name] = cliOption.config.default;\n        }\n      }\n      if (cliOption.config.type != null) {\n        if (transforms[cliOption.name] === void 0) {\n          transforms[cliOption.name] = cliOption.config.type;\n        }\n      }\n    }\n    for (const key of Object.keys(parsed)) {\n      if (key !== \"_\") {\n        const keys = key.split(\".\");\n        setDotProp(options, keys, parsed[key], transforms);\n        // setByType(options, transforms);\n      }\n    }\n    return {\n      args,\n      options\n    };\n  }\n  runMatchedCommand() {\n    const {args, options, matchedCommand: command} = this;\n    if (!command || !command.commandAction)\n      return;\n    command.checkUnknownOptions();\n    command.checkOptionValue();\n    command.checkRequiredArgs();\n    const actionArgs = [];\n    command.args.forEach((arg, index) => {\n      if (arg.variadic) {\n        actionArgs.push(args.slice(index));\n      } else {\n        actionArgs.push(args[index]);\n      }\n    });\n    actionArgs.push(options);\n    return command.commandAction.apply(this, actionArgs);\n  }\n}\n\nconst cac = (name = \"\") => new CAC(name);\n\nvar version = \"4.0.5\";\n\nconst apiConfig = (port) => ({\n\tport: {\n\t\tdescription: `Specify server port. Note if the port is already being used, Vite will automatically try the next available port so this may not be the actual port the server ends up listening on. If true will be set to \\`${port}\\``,\n\t\targument: \"[port]\"\n\t},\n\thost: {\n\t\tdescription: \"Specify which IP addresses the server should listen on. Set this to `0.0.0.0` or `true` to listen on all addresses, including LAN and public addresses\",\n\t\targument: \"[host]\"\n\t},\n\tstrictPort: { description: \"Set to true to exit if port is already in use, instead of automatically trying the next available port\" },\n\tmiddlewareMode: null\n});\nfunction watermarkTransform(value) {\n\treturn typeof value === \"string\" ? value.split(\",\").map(Number) : value;\n}\nfunction transformNestedBoolean(value) {\n\treturn typeof value === \"boolean\" ? { enabled: value } : value;\n}\nconst cliOptionsConfig = {\n\troot: {\n\t\tdescription: \"Root path\",\n\t\tshorthand: \"r\",\n\t\targument: \"<path>\",\n\t\tnormalize: true\n\t},\n\tconfig: {\n\t\tshorthand: \"c\",\n\t\tdescription: \"Path to config file\",\n\t\targument: \"<path>\",\n\t\tnormalize: true\n\t},\n\tupdate: {\n\t\tshorthand: \"u\",\n\t\tdescription: \"Update snapshot\"\n\t},\n\twatch: {\n\t\tshorthand: \"w\",\n\t\tdescription: \"Enable watch mode\"\n\t},\n\ttestNamePattern: {\n\t\tdescription: \"Run tests with full names matching the specified regexp pattern\",\n\t\targument: \"<pattern>\",\n\t\tshorthand: \"t\"\n\t},\n\tdir: {\n\t\tdescription: \"Base directory to scan for the test files\",\n\t\targument: \"<path>\",\n\t\tnormalize: true\n\t},\n\tui: { description: \"Enable UI\" },\n\topen: { description: \"Open UI automatically (default: `!process.env.CI`)\" },\n\tapi: {\n\t\targument: \"[port]\",\n\t\tdescription: `Specify server port. Note if the port is already being used, Vite will automatically try the next available port so this may not be the actual port the server ends up listening on. If true will be set to ${defaultPort}`,\n\t\tsubcommands: apiConfig(defaultPort)\n\t},\n\tsilent: {\n\t\tdescription: \"Silent console output from tests. Use `'passed-only'` to see logs from failing tests only.\",\n\t\targument: \"[value]\",\n\t\ttransform(value) {\n\t\t\tif (value === \"true\" || value === \"yes\" || value === true) return true;\n\t\t\tif (value === \"false\" || value === \"no\" || value === false) return false;\n\t\t\tif (value === \"passed-only\") return value;\n\t\t\tthrow new TypeError(`Unexpected value \"--silent=${value}\". Use \"--silent=true ${value}\" instead.`);\n\t\t}\n\t},\n\thideSkippedTests: { description: \"Hide logs for skipped tests\" },\n\treporters: {\n\t\talias: \"reporter\",\n\t\tdescription: `Specify reporters (${Object.keys(ReportersMap).join(\", \")})`,\n\t\targument: \"<name>\",\n\t\tsubcommands: null,\n\t\tarray: true\n\t},\n\toutputFile: {\n\t\targument: \"<filename/-s>\",\n\t\tdescription: \"Write test results to a file when supporter reporter is also specified, use cac's dot notation for individual outputs of multiple reporters (example: `--outputFile.tap=./tap.txt`)\",\n\t\tsubcommands: null\n\t},\n\tcoverage: {\n\t\tdescription: \"Enable coverage report\",\n\t\targument: \"\",\n\t\ttransform: transformNestedBoolean,\n\t\tsubcommands: {\n\t\t\tprovider: {\n\t\t\t\tdescription: \"Select the tool for coverage collection, available values are: \\\"v8\\\", \\\"istanbul\\\" and \\\"custom\\\"\",\n\t\t\t\targument: \"<name>\"\n\t\t\t},\n\t\t\tenabled: { description: \"Enables coverage collection. Can be overridden using the `--coverage` CLI option (default: `false`)\" },\n\t\t\tinclude: {\n\t\t\t\tdescription: \"Files included in coverage as glob patterns. May be specified more than once when using multiple patterns. By default only files covered by tests are included.\",\n\t\t\t\targument: \"<pattern>\",\n\t\t\t\tarray: true\n\t\t\t},\n\t\t\texclude: {\n\t\t\t\tdescription: \"Files to be excluded in coverage. May be specified more than once when using multiple extensions.\",\n\t\t\t\targument: \"<pattern>\",\n\t\t\t\tarray: true\n\t\t\t},\n\t\t\tclean: { description: \"Clean coverage results before running tests (default: true)\" },\n\t\t\tcleanOnRerun: { description: \"Clean coverage report on watch rerun (default: true)\" },\n\t\t\treportsDirectory: {\n\t\t\t\tdescription: \"Directory to write coverage report to (default: ./coverage)\",\n\t\t\t\targument: \"<path>\",\n\t\t\t\tnormalize: true\n\t\t\t},\n\t\t\treporter: {\n\t\t\t\tdescription: \"Coverage reporters to use. Visit [`coverage.reporter`](https://vitest.dev/config/#coverage-reporter) for more information (default: `[\\\"text\\\", \\\"html\\\", \\\"clover\\\", \\\"json\\\"]`)\",\n\t\t\t\targument: \"<name>\",\n\t\t\t\tsubcommands: null,\n\t\t\t\tarray: true\n\t\t\t},\n\t\t\treportOnFailure: { description: \"Generate coverage report even when tests fail (default: `false`)\" },\n\t\t\tallowExternal: { description: \"Collect coverage of files outside the project root (default: `false`)\" },\n\t\t\tskipFull: { description: \"Do not show files with 100% statement, branch, and function coverage (default: `false`)\" },\n\t\t\tthresholds: {\n\t\t\t\tdescription: null,\n\t\t\t\targument: \"\",\n\t\t\t\tsubcommands: {\n\t\t\t\t\tperFile: { description: \"Check thresholds per file. See `--coverage.thresholds.lines`, `--coverage.thresholds.functions`, `--coverage.thresholds.branches` and `--coverage.thresholds.statements` for the actual thresholds (default: `false`)\" },\n\t\t\t\t\tautoUpdate: {\n\t\t\t\t\t\tdescription: \"Update threshold values: \\\"lines\\\", \\\"functions\\\", \\\"branches\\\" and \\\"statements\\\" to configuration file when current coverage is above the configured thresholds (default: `false`)\",\n\t\t\t\t\t\targument: \"<boolean|function>\",\n\t\t\t\t\t\tsubcommands: null,\n\t\t\t\t\t\ttransform(value) {\n\t\t\t\t\t\t\treturn value === \"true\" || value === \"yes\" || value === true ? true : value === \"false\" || value === \"no\" || value === false ? false : value;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tlines: {\n\t\t\t\t\t\tdescription: \"Threshold for lines. Visit [istanbuljs](https://github.com/istanbuljs/nyc#coverage-thresholds) for more information. This option is not available for custom providers\",\n\t\t\t\t\t\targument: \"<number>\"\n\t\t\t\t\t},\n\t\t\t\t\tfunctions: {\n\t\t\t\t\t\tdescription: \"Threshold for functions. Visit [istanbuljs](https://github.com/istanbuljs/nyc#coverage-thresholds) for more information. This option is not available for custom providers\",\n\t\t\t\t\t\targument: \"<number>\"\n\t\t\t\t\t},\n\t\t\t\t\tbranches: {\n\t\t\t\t\t\tdescription: \"Threshold for branches. Visit [istanbuljs](https://github.com/istanbuljs/nyc#coverage-thresholds) for more information. This option is not available for custom providers\",\n\t\t\t\t\t\targument: \"<number>\"\n\t\t\t\t\t},\n\t\t\t\t\tstatements: {\n\t\t\t\t\t\tdescription: \"Threshold for statements. Visit [istanbuljs](https://github.com/istanbuljs/nyc#coverage-thresholds) for more information. This option is not available for custom providers\",\n\t\t\t\t\t\targument: \"<number>\"\n\t\t\t\t\t},\n\t\t\t\t\t100: { description: \"Shortcut to set all coverage thresholds to 100 (default: `false`)\" }\n\t\t\t\t}\n\t\t\t},\n\t\t\tignoreClassMethods: {\n\t\t\t\tdescription: \"Array of class method names to ignore for coverage. Visit [istanbuljs](https://github.com/istanbuljs/nyc#ignoring-methods) for more information. This option is only available for the istanbul providers (default: `[]`)\",\n\t\t\t\targument: \"<name>\",\n\t\t\t\tarray: true\n\t\t\t},\n\t\t\tprocessingConcurrency: {\n\t\t\t\tdescription: \"Concurrency limit used when processing the coverage results. (default min between 20 and the number of CPUs)\",\n\t\t\t\targument: \"<number>\"\n\t\t\t},\n\t\t\tcustomProviderModule: {\n\t\t\t\tdescription: \"Specifies the module name or path for the custom coverage provider module. Visit [Custom Coverage Provider](https://vitest.dev/guide/coverage#custom-coverage-provider) for more information. This option is only available for custom providers\",\n\t\t\t\targument: \"<path>\",\n\t\t\t\tnormalize: true\n\t\t\t},\n\t\t\twatermarks: {\n\t\t\t\tdescription: null,\n\t\t\t\targument: \"\",\n\t\t\t\tsubcommands: {\n\t\t\t\t\tstatements: {\n\t\t\t\t\t\tdescription: \"High and low watermarks for statements in the format of `<high>,<low>`\",\n\t\t\t\t\t\targument: \"<watermarks>\",\n\t\t\t\t\t\ttransform: watermarkTransform\n\t\t\t\t\t},\n\t\t\t\t\tlines: {\n\t\t\t\t\t\tdescription: \"High and low watermarks for lines in the format of `<high>,<low>`\",\n\t\t\t\t\t\targument: \"<watermarks>\",\n\t\t\t\t\t\ttransform: watermarkTransform\n\t\t\t\t\t},\n\t\t\t\t\tbranches: {\n\t\t\t\t\t\tdescription: \"High and low watermarks for branches in the format of `<high>,<low>`\",\n\t\t\t\t\t\targument: \"<watermarks>\",\n\t\t\t\t\t\ttransform: watermarkTransform\n\t\t\t\t\t},\n\t\t\t\t\tfunctions: {\n\t\t\t\t\t\tdescription: \"High and low watermarks for functions in the format of `<high>,<low>`\",\n\t\t\t\t\t\targument: \"<watermarks>\",\n\t\t\t\t\t\ttransform: watermarkTransform\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tmode: {\n\t\tdescription: \"Override Vite mode (default: `test` or `benchmark`)\",\n\t\targument: \"<name>\"\n\t},\n\tisolate: { description: \"Run every test file in isolation. To disable isolation, use `--no-isolate` (default: `true`)\" },\n\tglobals: { description: \"Inject apis globally\" },\n\tdom: { description: \"Mock browser API with happy-dom\" },\n\tbrowser: {\n\t\tdescription: \"Run tests in the browser. Equivalent to `--browser.enabled` (default: `false`)\",\n\t\targument: \"<name>\",\n\t\ttransform(browser) {\n\t\t\treturn typeof browser === \"boolean\" ? { enabled: browser } : browser === \"true\" || browser === \"false\" ? { enabled: browser === \"true\" } : browser === \"yes\" || browser === \"no\" ? { enabled: browser === \"yes\" } : typeof browser === \"string\" ? { name: browser } : browser;\n\t\t},\n\t\tsubcommands: {\n\t\t\tenabled: { description: \"Run tests in the browser. Equivalent to `--browser.enabled` (default: `false`)\" },\n\t\t\tname: {\n\t\t\t\tdescription: \"Run all tests in a specific browser. Some browsers are only available for specific providers (see `--browser.provider`). Visit [`browser.name`](https://vitest.dev/guide/browser/config/#browser-name) for more information\",\n\t\t\t\targument: \"<name>\"\n\t\t\t},\n\t\t\theadless: { description: \"Run the browser in headless mode (i.e. without opening the GUI (Graphical User Interface)). If you are running Vitest in CI, it will be enabled by default (default: `process.env.CI`)\" },\n\t\t\tapi: {\n\t\t\t\tdescription: \"Specify options for the browser API server. Does not affect the --api option\",\n\t\t\t\targument: \"[port]\",\n\t\t\t\tsubcommands: apiConfig(defaultBrowserPort)\n\t\t\t},\n\t\t\tprovider: {\n\t\t\t\tdescription: \"Provider used to run browser tests. Some browsers are only available for specific providers. Can be \\\"webdriverio\\\", \\\"playwright\\\", \\\"preview\\\", or the path to a custom provider. Visit [`browser.provider`](https://vitest.dev/guide/browser/config.html#browser-provider) for more information (default: `\\\"preview\\\"`)\",\n\t\t\t\targument: \"<name>\",\n\t\t\t\tsubcommands: null,\n\t\t\t\ttransform(value) {\n\t\t\t\t\tconst supported = [\n\t\t\t\t\t\t\"playwright\",\n\t\t\t\t\t\t\"webdriverio\",\n\t\t\t\t\t\t\"preview\"\n\t\t\t\t\t];\n\t\t\t\t\tif (typeof value !== \"string\" || !supported.includes(value)) throw new Error(`Unsupported browser provider: ${value}. Supported providers are: ${supported.join(\", \")}`);\n\t\t\t\t\treturn {\n\t\t\t\t\t\tname: value,\n\t\t\t\t\t\t_cli: true\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t},\n\t\t\tisolate: { description: \"Run every browser test file in isolation. To disable isolation, use `--browser.isolate=false` (default: `true`)\" },\n\t\t\tui: { description: \"Show Vitest UI when running tests (default: `!process.env.CI`)\" },\n\t\t\tfileParallelism: { description: \"Should browser test files run in parallel. Use `--browser.fileParallelism=false` to disable (default: `true`)\" },\n\t\t\tconnectTimeout: {\n\t\t\t\tdescription: \"If connection to the browser takes longer, the test suite will fail (default: `60_000`)\",\n\t\t\t\targument: \"<timeout>\"\n\t\t\t},\n\t\t\ttrackUnhandledErrors: { description: \"Control if Vitest catches uncaught exceptions so they can be reported (default: `true`)\" },\n\t\t\ttrace: {\n\t\t\t\tdescription: \"Enable trace view mode. Supported: \\\"on\\\", \\\"off\\\", \\\"on-first-retry\\\", \\\"on-all-retries\\\", \\\"retain-on-failure\\\".\",\n\t\t\t\targument: \"<mode>\",\n\t\t\t\tsubcommands: null,\n\t\t\t\ttransform(value) {\n\t\t\t\t\treturn { mode: value };\n\t\t\t\t}\n\t\t\t},\n\t\t\torchestratorScripts: null,\n\t\t\tcommands: null,\n\t\t\tviewport: null,\n\t\t\tscreenshotDirectory: null,\n\t\t\tscreenshotFailures: null,\n\t\t\tlocators: null,\n\t\t\ttesterHtmlPath: null,\n\t\t\tinstances: null,\n\t\t\texpect: null\n\t\t}\n\t},\n\tpool: {\n\t\tdescription: \"Specify pool, if not running in the browser (default: `forks`)\",\n\t\targument: \"<pool>\",\n\t\tsubcommands: null\n\t},\n\texecArgv: {\n\t\tdescription: \"Pass additional arguments to `node` process when spawning `worker_threads` or `child_process`.\",\n\t\targument: \"<option>\"\n\t},\n\tvmMemoryLimit: {\n\t\tdescription: \"Memory limit for VM pools. If you see memory leaks, try to tinker this value.\",\n\t\targument: \"<limit>\"\n\t},\n\tfileParallelism: { description: \"Should all test files run in parallel. Use `--no-file-parallelism` to disable (default: `true`)\" },\n\tmaxWorkers: {\n\t\tdescription: \"Maximum number or percentage of workers to run tests in\",\n\t\targument: \"<workers>\"\n\t},\n\tenvironment: {\n\t\tdescription: \"Specify runner environment, if not running in the browser (default: `node`)\",\n\t\targument: \"<name>\",\n\t\tsubcommands: null\n\t},\n\tpassWithNoTests: { description: \"Pass when no tests are found\" },\n\tlogHeapUsage: { description: \"Show the size of heap for each test when running in node\" },\n\tallowOnly: { description: \"Allow tests and suites that are marked as only (default: `!process.env.CI`)\" },\n\tdangerouslyIgnoreUnhandledErrors: { description: \"Ignore any unhandled errors that occur\" },\n\tshard: {\n\t\tdescription: \"Test suite shard to execute in a format of `<index>/<count>`\",\n\t\targument: \"<shards>\"\n\t},\n\tchanged: {\n\t\tdescription: \"Run tests that are affected by the changed files (default: `false`)\",\n\t\targument: \"[since]\"\n\t},\n\tsequence: {\n\t\tdescription: \"Options for how tests should be sorted\",\n\t\targument: \"<options>\",\n\t\tsubcommands: {\n\t\t\tshuffle: {\n\t\t\t\tdescription: \"Run files and tests in a random order. Enabling this option will impact Vitest's cache and have a performance impact. May be useful to find tests that accidentally depend on another run previously (default: `false`)\",\n\t\t\t\targument: \"\",\n\t\t\t\tsubcommands: {\n\t\t\t\t\tfiles: { description: \"Run files in a random order. Long running tests will not start earlier if you enable this option. (default: `false`)\" },\n\t\t\t\t\ttests: { description: \"Run tests in a random order (default: `false`)\" }\n\t\t\t\t}\n\t\t\t},\n\t\t\tconcurrent: { description: \"Make tests run in parallel (default: `false`)\" },\n\t\t\tseed: {\n\t\t\t\tdescription: \"Set the randomization seed. This option will have no effect if `--sequence.shuffle` is falsy. Visit [\\\"Random Seed\\\" page](https://en.wikipedia.org/wiki/Random_seed) for more information\",\n\t\t\t\targument: \"<seed>\"\n\t\t\t},\n\t\t\thooks: {\n\t\t\t\tdescription: \"Changes the order in which hooks are executed. Accepted values are: \\\"stack\\\", \\\"list\\\" and \\\"parallel\\\". Visit [`sequence.hooks`](https://vitest.dev/config/#sequence-hooks) for more information (default: `\\\"parallel\\\"`)\",\n\t\t\t\targument: \"<order>\"\n\t\t\t},\n\t\t\tsetupFiles: {\n\t\t\t\tdescription: \"Changes the order in which setup files are executed. Accepted values are: \\\"list\\\" and \\\"parallel\\\". If set to \\\"list\\\", will run setup files in the order they are defined. If set to \\\"parallel\\\", will run setup files in parallel (default: `\\\"parallel\\\"`)\",\n\t\t\t\targument: \"<order>\"\n\t\t\t},\n\t\t\tgroupOrder: null\n\t\t}\n\t},\n\tinspect: {\n\t\tdescription: \"Enable Node.js inspector (default: `127.0.0.1:9229`)\",\n\t\targument: \"[[host:]port]\",\n\t\ttransform(portOrEnabled) {\n\t\t\treturn portOrEnabled === 0 || portOrEnabled === \"true\" || portOrEnabled === \"yes\" ? true : portOrEnabled === \"false\" || portOrEnabled === \"no\" ? false : portOrEnabled;\n\t\t}\n\t},\n\tinspectBrk: {\n\t\tdescription: \"Enable Node.js inspector and break before the test starts\",\n\t\targument: \"[[host:]port]\",\n\t\ttransform(portOrEnabled) {\n\t\t\treturn portOrEnabled === 0 || portOrEnabled === \"true\" || portOrEnabled === \"yes\" ? true : portOrEnabled === \"false\" || portOrEnabled === \"no\" ? false : portOrEnabled;\n\t\t}\n\t},\n\tinspector: null,\n\ttestTimeout: {\n\t\tdescription: \"Default timeout of a test in milliseconds (default: `5000`). Use `0` to disable timeout completely.\",\n\t\targument: \"<timeout>\"\n\t},\n\thookTimeout: {\n\t\tdescription: \"Default hook timeout in milliseconds (default: `10000`). Use `0` to disable timeout completely.\",\n\t\targument: \"<timeout>\"\n\t},\n\tbail: {\n\t\tdescription: \"Stop test execution when given number of tests have failed (default: `0`)\",\n\t\targument: \"<number>\"\n\t},\n\tretry: {\n\t\tdescription: \"Retry the test specific number of times if it fails (default: `0`)\",\n\t\targument: \"<times>\"\n\t},\n\tdiff: {\n\t\tdescription: \"DiffOptions object or a path to a module which exports DiffOptions object\",\n\t\targument: \"<path>\",\n\t\tsubcommands: {\n\t\t\taAnnotation: {\n\t\t\t\tdescription: \"Annotation for expected lines (default: `Expected`)\",\n\t\t\t\targument: \"<annotation>\"\n\t\t\t},\n\t\t\taIndicator: {\n\t\t\t\tdescription: \"Indicator for expected lines (default: `-`)\",\n\t\t\t\targument: \"<indicator>\"\n\t\t\t},\n\t\t\tbAnnotation: {\n\t\t\t\tdescription: \"Annotation for received lines (default: `Received`)\",\n\t\t\t\targument: \"<annotation>\"\n\t\t\t},\n\t\t\tbIndicator: {\n\t\t\t\tdescription: \"Indicator for received lines (default: `+`)\",\n\t\t\t\targument: \"<indicator>\"\n\t\t\t},\n\t\t\tcommonIndicator: {\n\t\t\t\tdescription: \"Indicator for common lines (default: ` `)\",\n\t\t\t\targument: \"<indicator>\"\n\t\t\t},\n\t\t\tcontextLines: {\n\t\t\t\tdescription: \"Number of lines of context to show around each change (default: `5`)\",\n\t\t\t\targument: \"<lines>\"\n\t\t\t},\n\t\t\temptyFirstOrLastLinePlaceholder: {\n\t\t\t\tdescription: \"Placeholder for an empty first or last line (default: `\\\"\\\"`)\",\n\t\t\t\targument: \"<placeholder>\"\n\t\t\t},\n\t\t\texpand: { description: \"Expand all common lines (default: `true`)\" },\n\t\t\tincludeChangeCounts: { description: \"Include comparison counts in diff output (default: `false`)\" },\n\t\t\tomitAnnotationLines: { description: \"Omit annotation lines from the output (default: `false`)\" },\n\t\t\tprintBasicPrototype: { description: \"Print basic prototype Object and Array (default: `true`)\" },\n\t\t\tmaxDepth: {\n\t\t\t\tdescription: \"Limit the depth to recurse when printing nested objects (default: `20`)\",\n\t\t\t\targument: \"<maxDepth>\"\n\t\t\t},\n\t\t\ttruncateThreshold: {\n\t\t\t\tdescription: \"Number of lines to show before and after each change (default: `0`)\",\n\t\t\t\targument: \"<threshold>\"\n\t\t\t},\n\t\t\ttruncateAnnotation: {\n\t\t\t\tdescription: \"Annotation for truncated lines (default: `... Diff result is truncated`)\",\n\t\t\t\targument: \"<annotation>\"\n\t\t\t}\n\t\t}\n\t},\n\texclude: {\n\t\tdescription: \"Additional file globs to be excluded from test\",\n\t\targument: \"<glob>\",\n\t\tarray: true\n\t},\n\texpandSnapshotDiff: { description: \"Show full diff when snapshot fails\" },\n\tdisableConsoleIntercept: { description: \"Disable automatic interception of console logging (default: `false`)\" },\n\ttypecheck: {\n\t\tdescription: \"Enable typechecking alongside tests (default: `false`)\",\n\t\targument: \"\",\n\t\ttransform: transformNestedBoolean,\n\t\tsubcommands: {\n\t\t\tenabled: { description: \"Enable typechecking alongside tests (default: `false`)\" },\n\t\t\tonly: { description: \"Run only typecheck tests. This automatically enables typecheck (default: `false`)\" },\n\t\t\tchecker: {\n\t\t\t\tdescription: \"Specify the typechecker to use. Available values are: \\\"tsc\\\" and \\\"vue-tsc\\\" and a path to an executable (default: `\\\"tsc\\\"`)\",\n\t\t\t\targument: \"<name>\",\n\t\t\t\tsubcommands: null\n\t\t\t},\n\t\t\tallowJs: { description: \"Allow JavaScript files to be typechecked. By default takes the value from tsconfig.json\" },\n\t\t\tignoreSourceErrors: { description: \"Ignore type errors from source files\" },\n\t\t\ttsconfig: {\n\t\t\t\tdescription: \"Path to a custom tsconfig file\",\n\t\t\t\targument: \"<path>\",\n\t\t\t\tnormalize: true\n\t\t\t},\n\t\t\tspawnTimeout: {\n\t\t\t\tdescription: \"Minimum time in milliseconds it takes to spawn the typechecker\",\n\t\t\t\targument: \"<time>\"\n\t\t\t},\n\t\t\tinclude: null,\n\t\t\texclude: null\n\t\t}\n\t},\n\tproject: {\n\t\tdescription: \"The name of the project to run if you are using Vitest workspace feature. This can be repeated for multiple projects: `--project=1 --project=2`. You can also filter projects using wildcards like `--project=packages*`, and exclude projects with `--project=!pattern`.\",\n\t\targument: \"<name>\",\n\t\tarray: true\n\t},\n\tslowTestThreshold: {\n\t\tdescription: \"Threshold in milliseconds for a test or suite to be considered slow (default: `300`)\",\n\t\targument: \"<threshold>\"\n\t},\n\tteardownTimeout: {\n\t\tdescription: \"Default timeout of a teardown function in milliseconds (default: `10000`)\",\n\t\targument: \"<timeout>\"\n\t},\n\tcache: {\n\t\tdescription: \"Enable cache\",\n\t\targument: \"\",\n\t\tsubcommands: { dir: null },\n\t\tdefault: true,\n\t\ttransform(cache) {\n\t\t\tif (typeof cache !== \"boolean\" && cache) throw new Error(\"--cache.dir is deprecated\");\n\t\t\treturn cache && {};\n\t\t}\n\t},\n\tmaxConcurrency: {\n\t\tdescription: \"Maximum number of concurrent tests in a suite (default: `5`)\",\n\t\targument: \"<number>\"\n\t},\n\texpect: {\n\t\tdescription: \"Configuration options for `expect()` matches\",\n\t\targument: \"\",\n\t\tsubcommands: {\n\t\t\trequireAssertions: { description: \"Require that all tests have at least one assertion\" },\n\t\t\tpoll: {\n\t\t\t\tdescription: \"Default options for `expect.poll()`\",\n\t\t\t\targument: \"\",\n\t\t\t\tsubcommands: {\n\t\t\t\t\tinterval: {\n\t\t\t\t\t\tdescription: \"Poll interval in milliseconds for `expect.poll()` assertions (default: `50`)\",\n\t\t\t\t\t\targument: \"<interval>\"\n\t\t\t\t\t},\n\t\t\t\t\ttimeout: {\n\t\t\t\t\t\tdescription: \"Poll timeout in milliseconds for `expect.poll()` assertions (default: `1000`)\",\n\t\t\t\t\t\targument: \"<timeout>\"\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\ttransform(value) {\n\t\t\t\t\tif (typeof value !== \"object\") throw new TypeError(`Unexpected value for --expect.poll: ${value}. If you need to configure timeout, use --expect.poll.timeout=<timeout>`);\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\ttransform(value) {\n\t\t\tif (typeof value !== \"object\") throw new TypeError(`Unexpected value for --expect: ${value}. If you need to configure expect options, use --expect.{name}=<value> syntax`);\n\t\t\treturn value;\n\t\t}\n\t},\n\tprintConsoleTrace: { description: \"Always print console stack traces\" },\n\tincludeTaskLocation: { description: \"Collect test and suite locations in the `location` property\" },\n\tattachmentsDir: {\n\t\tdescription: \"The directory where attachments from `context.annotate` are stored in (default: `.vitest-attachments`)\",\n\t\targument: \"<dir>\"\n\t},\n\trun: { description: \"Disable watch mode\" },\n\tcolor: {\n\t\tdescription: \"Removes colors from the console output\",\n\t\talias: \"no-color\"\n\t},\n\tclearScreen: { description: \"Clear terminal screen when re-running tests during watch mode (default: `true`)\" },\n\tconfigLoader: {\n\t\tdescription: \"Use `bundle` to bundle the config with esbuild or `runner` (experimental) to process it on the fly. This is only available in vite version 6.1.0 and above. (default: `bundle`)\",\n\t\targument: \"<loader>\"\n\t},\n\tstandalone: { description: \"Start Vitest without running tests. Tests will be running only on change. This option is ignored when CLI file filters are passed. (default: `false`)\" },\n\tmergeReports: {\n\t\tdescription: \"Path to a blob reports directory. If this options is used, Vitest won't run any tests, it will only report previously recorded tests\",\n\t\targument: \"[path]\",\n\t\ttransform(value) {\n\t\t\treturn !value || typeof value === \"boolean\" ? \".vitest-reports\" : value;\n\t\t}\n\t},\n\tcliExclude: null,\n\tserver: null,\n\tsetupFiles: null,\n\tglobalSetup: null,\n\tsnapshotFormat: null,\n\tsnapshotSerializers: null,\n\tincludeSource: null,\n\talias: null,\n\tenv: null,\n\tenvironmentOptions: null,\n\tunstubEnvs: null,\n\trelated: null,\n\trestoreMocks: null,\n\trunner: null,\n\tmockReset: null,\n\tforceRerunTriggers: null,\n\tunstubGlobals: null,\n\tuiBase: null,\n\tbenchmark: null,\n\tinclude: null,\n\tfakeTimers: null,\n\tchaiConfig: null,\n\tclearMocks: null,\n\tcss: null,\n\tdeps: null,\n\tname: null,\n\tsnapshotEnvironment: null,\n\tcompare: null,\n\toutputJson: null,\n\tjson: null,\n\tprovide: null,\n\tfilesOnly: null,\n\tprojects: null,\n\twatchTriggerPatterns: null\n};\nconst benchCliOptionsConfig = {\n\tcompare: {\n\t\tdescription: \"Benchmark output file to compare against\",\n\t\targument: \"<filename>\"\n\t},\n\toutputJson: {\n\t\tdescription: \"Benchmark output file\",\n\t\targument: \"<filename>\"\n\t}\n};\nconst collectCliOptionsConfig = {\n\t...cliOptionsConfig,\n\tjson: {\n\t\tdescription: \"Print collected tests as JSON or write to a file (Default: false)\",\n\t\targument: \"[true/path]\"\n\t},\n\tfilesOnly: { description: \"Print only test files with out the test cases\" },\n\tchanged: {\n\t\tdescription: \"Print only tests that are affected by the changed files (default: `false`)\",\n\t\targument: \"[since]\"\n\t}\n};\n\nfunction addCommand(cli, name, option) {\n\tconst commandName = option.alias || name;\n\tlet command = option.shorthand ? `-${option.shorthand}, --${commandName}` : `--${commandName}`;\n\tif (\"argument\" in option) command += ` ${option.argument}`;\n\tfunction transform(value) {\n\t\tif (!option.array && Array.isArray(value)) {\n\t\t\tconst received = value.map((s) => typeof s === \"string\" ? `\"${s}\"` : s).join(\", \");\n\t\t\tthrow new Error(`Expected a single value for option \"${command}\", received [${received}]`);\n\t\t}\n\t\treturn value = removeQuotes(value), option.transform ? option.transform(value) : option.array ? toArray(value) : option.normalize ? normalize(String(value)) : value;\n\t}\n\tconst hasSubcommands = \"subcommands\" in option && option.subcommands;\n\tif (option.description) {\n\t\tlet description = option.description.replace(/\\[.*\\]\\((.*)\\)/, \"$1\").replace(/`/g, \"\");\n\t\tif (hasSubcommands) description += `. Use '--help --${commandName}' for more info.`;\n\t\tcli.option(command, description, { type: transform });\n\t}\n\tif (hasSubcommands) for (const commandName in option.subcommands) {\n\t\tconst subcommand = option.subcommands[commandName];\n\t\tif (subcommand) addCommand(cli, `${name}.${commandName}`, subcommand);\n\t}\n}\nfunction addCliOptions(cli, options) {\n\tfor (const [optionName, option] of Object.entries(options)) if (option) addCommand(cli, optionName, option);\n}\nfunction createCLI(options = {}) {\n\tconst cli = cac(\"vitest\");\n\treturn cli.version(version), addCliOptions(cli, cliOptionsConfig), cli.help((info) => {\n\t\tconst helpSection = info.find((current) => current.title?.startsWith(\"For more info, run any command\"));\n\t\tif (helpSection) helpSection.body += \"\\n  $ vitest --help --expand-help\";\n\t\tconst options = info.find((current) => current.title === \"Options\");\n\t\tif (typeof options !== \"object\") return info;\n\t\tconst helpIndex = process.argv.findIndex((arg) => arg === \"--help\"), subcommands = process.argv.slice(helpIndex + 1), defaultOutput = options.body.split(\"\\n\").filter((line) => /^\\s+--\\S+\\./.test(line) === false).join(\"\\n\");\n\t\t// Filter out options with dot-notation if --help is not called with a subcommand (default behavior)\n\t\tif (subcommands.length === 0) return options.body = defaultOutput, info;\n\t\tif (subcommands.length === 1 && (subcommands[0] === \"--expand-help\" || subcommands[0] === \"--expandHelp\")) return info;\n\t\tconst subcommandMarker = \"$SUB_COMMAND_MARKER$\", banner = info.find((current) => /^vitest\\/\\d+\\.\\d+\\.\\d+$/.test(current.body));\n\t\tfunction addBannerWarning(warning) {\n\t\t\tif (typeof banner?.body === \"string\") {\n\t\t\t\tif (banner?.body.includes(warning)) return;\n\t\t\t\tbanner.body = `${banner.body}\\n WARN: ${warning}`;\n\t\t\t}\n\t\t}\n\t\t// If other subcommand combinations are used, only show options for the subcommand\n\t\tfor (let i = 0; i < subcommands.length; i++) {\n\t\t\tconst subcommand = subcommands[i];\n\t\t\t// --help --expand-help can't be called with multiple subcommands and is handled above\n\t\t\tif (subcommand === \"--expand-help\" || subcommand === \"--expandHelp\") {\n\t\t\t\taddBannerWarning(\"--expand-help subcommand ignored because, when used with --help, it must be the only subcommand\");\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t// Mark the help section for the subcommands\n\t\t\tif (subcommand.startsWith(\"--\")) options.body = options.body.split(\"\\n\").map((line) => line.trim().startsWith(subcommand) ? `${subcommandMarker}${line}` : line).join(\"\\n\");\n\t\t}\n\t\tif (options.body = options.body.split(\"\\n\").map((line) => line.startsWith(subcommandMarker) ? line.split(subcommandMarker)[1] : \"\").filter((line) => line.length !== 0).join(\"\\n\"), !options.body) addBannerWarning(\"no options were found for your subcommands so we printed the whole output\"), options.body = defaultOutput;\n\t\treturn info;\n\t}), cli.command(\"run [...filters]\", void 0, options).action(run), cli.command(\"related [...filters]\", void 0, options).action(runRelated), cli.command(\"watch [...filters]\", void 0, options).action(watch), cli.command(\"dev [...filters]\", void 0, options).action(watch), addCliOptions(cli.command(\"bench [...filters]\", void 0, options).action(benchmark), benchCliOptionsConfig), cli.command(\"init <project>\", void 0, options).action(init), addCliOptions(cli.command(\"list [...filters]\", void 0, options).action((filters, options) => collect(\"test\", filters, options)), collectCliOptionsConfig), cli.command(\"[...filters]\", void 0, options).action((filters, options) => start(\"test\", filters, options)), cli;\n}\nfunction removeQuotes(str) {\n\treturn typeof str === \"string\" ? str[0] === \"\\\"\" && str.endsWith(\"\\\"\") || str.startsWith(`'`) && str.endsWith(`'`) ? str.slice(1, -1) : str : Array.isArray(str) ? str.map(removeQuotes) : str;\n}\nfunction splitArgv(argv) {\n\treturn argv = argv.replace(/(['\"])(?:(?!\\1).)+\\1/g, (match) => match.replace(/\\s/g, \"\\0\")), argv.split(\" \").map((arg) => {\n\t\treturn arg = arg.replace(/\\0/g, \" \"), removeQuotes(arg);\n\t});\n}\nfunction parseCLI(argv, config = {}) {\n\tconst arrayArgs = typeof argv === \"string\" ? splitArgv(argv) : argv;\n\tif (arrayArgs[0] !== \"vitest\") throw new Error(`Expected \"vitest\" as the first argument, received \"${arrayArgs[0]}\"`);\n\tarrayArgs[0] = \"/index.js\", arrayArgs.unshift(\"node\");\n\tlet { args, options } = createCLI(config).parse(arrayArgs, { run: false });\n\tif (arrayArgs[2] === \"watch\" || arrayArgs[2] === \"dev\") options.watch = true;\n\tif (arrayArgs[2] === \"run\" && !options.watch) options.run = true;\n\tif (arrayArgs[2] === \"related\") options.related = args, options.passWithNoTests ??= true, args = [];\n\treturn {\n\t\tfilter: args,\n\t\toptions\n\t};\n}\nasync function runRelated(relatedFiles, argv) {\n\targv.related = relatedFiles, argv.passWithNoTests ??= true, await start(\"test\", [], argv);\n}\nasync function watch(cliFilters, options) {\n\toptions.watch = true, await start(\"test\", cliFilters, options);\n}\nasync function run(cliFilters, options) {\n\toptions.run = !options.watch, await start(\"test\", cliFilters, options);\n}\nasync function benchmark(cliFilters, options) {\n\tconsole.warn(c.yellow(\"Benchmarking is an experimental feature.\\nBreaking changes might not follow SemVer, please pin Vitest's version when using it.\")), await start(\"benchmark\", cliFilters, options);\n}\nfunction normalizeCliOptions(cliFilters, argv) {\n\tif (argv.exclude) argv.cliExclude = toArray(argv.exclude), delete argv.exclude;\n\tif (cliFilters.some((filter) => filter.includes(\":\"))) argv.includeTaskLocation ??= true;\n\tif (typeof argv.typecheck?.only === \"boolean\") argv.typecheck.enabled ??= true;\n\treturn argv;\n}\nasync function start(mode, cliFilters, options) {\n\ttry {\n\t\tconst { startVitest } = await import('./cli-api.6GYRwzrM.js').then(function (n) { return n.p; }), ctx = await startVitest(mode, cliFilters.map(normalize), normalizeCliOptions(cliFilters, options));\n\t\tif (!ctx.shouldKeepServer()) await ctx.exit();\n\t} catch (e) {\n\t\tconst { errorBanner } = await import('./index.CcRZ6fUh.js').then(function (n) { return n.u; });\n\t\tif (console.error(`\\n${errorBanner(\"Startup Error\")}`), console.error(e), console.error(\"\\n\\n\"), process.exitCode == null) process.exitCode = 1;\n\t\tprocess.exit();\n\t}\n}\nasync function init(project) {\n\tif (project !== \"browser\") console.error(/* @__PURE__ */ new Error(\"Only the \\\"browser\\\" project is supported. Use \\\"vitest init browser\\\" to create a new project.\")), process.exit(1);\n\tconst { create } = await import('./creator.cqqifzG7.js');\n\tawait create();\n}\nasync function collect(mode, cliFilters, options) {\n\ttry {\n\t\tconst { prepareVitest, processCollected, outputFileList } = await import('./cli-api.6GYRwzrM.js').then(function (n) { return n.p; }), ctx = await prepareVitest(mode, {\n\t\t\t...normalizeCliOptions(cliFilters, options),\n\t\t\twatch: false,\n\t\t\trun: true\n\t\t}, void 0, void 0, cliFilters);\n\t\tif (!options.filesOnly) {\n\t\t\tconst { testModules: tests, unhandledErrors: errors } = await ctx.collect(cliFilters.map(normalize));\n\t\t\tif (errors.length) {\n\t\t\t\tconsole.error(\"\\nThere were unhandled errors during test collection\"), errors.forEach((e) => console.error(e)), console.error(\"\\n\\n\"), await ctx.close();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tprocessCollected(ctx, tests, options);\n\t\t} else {\n\t\t\tconst files = await ctx.getRelevantTestSpecifications(cliFilters.map(normalize));\n\t\t\toutputFileList(files, options);\n\t\t}\n\t\tawait ctx.close();\n\t} catch (e) {\n\t\tconst { errorBanner } = await import('./index.CcRZ6fUh.js').then(function (n) { return n.u; });\n\t\tif (console.error(`\\n${errorBanner(\"Collect Error\")}`), console.error(e), console.error(\"\\n\\n\"), process.exitCode == null) process.exitCode = 1;\n\t\tprocess.exit();\n\t}\n}\n\nexport { createCLI as c, parseCLI as p, version as v };\n", "const TYPE_REQUEST = \"q\";\nconst TYPE_RESPONSE = \"s\";\nconst DEFAULT_TIMEOUT = 6e4;\nfunction defaultSerialize(i) {\n  return i;\n}\nconst defaultDeserialize = defaultSerialize;\nconst { clearTimeout, setTimeout } = globalThis;\nconst random = Math.random.bind(Math);\nfunction createBirpc(functions, options) {\n  const {\n    post,\n    on,\n    off = () => {\n    },\n    eventNames = [],\n    serialize = defaultSerialize,\n    deserialize = defaultDeserialize,\n    resolver,\n    bind = \"rpc\",\n    timeout = DEFAULT_TIMEOUT\n  } = options;\n  const rpcPromiseMap = /* @__PURE__ */ new Map();\n  let _promise;\n  let closed = false;\n  const rpc = new Proxy({}, {\n    get(_, method) {\n      if (method === \"$functions\")\n        return functions;\n      if (method === \"$close\")\n        return close;\n      if (method === \"$rejectPendingCalls\") {\n        return rejectPendingCalls;\n      }\n      if (method === \"$closed\")\n        return closed;\n      if (method === \"then\" && !eventNames.includes(\"then\") && !(\"then\" in functions))\n        return void 0;\n      const sendEvent = (...args) => {\n        post(serialize({ m: method, a: args, t: TYPE_REQUEST }));\n      };\n      if (eventNames.includes(method)) {\n        sendEvent.asEvent = sendEvent;\n        return sendEvent;\n      }\n      const sendCall = async (...args) => {\n        if (closed)\n          throw new Error(`[birpc] rpc is closed, cannot call \"${method}\"`);\n        if (_promise) {\n          try {\n            await _promise;\n          } finally {\n            _promise = void 0;\n          }\n        }\n        return new Promise((resolve, reject) => {\n          const id = nanoid();\n          let timeoutId;\n          if (timeout >= 0) {\n            timeoutId = setTimeout(() => {\n              try {\n                const handleResult = options.onTimeoutError?.(method, args);\n                if (handleResult !== true)\n                  throw new Error(`[birpc] timeout on calling \"${method}\"`);\n              } catch (e) {\n                reject(e);\n              }\n              rpcPromiseMap.delete(id);\n            }, timeout);\n            if (typeof timeoutId === \"object\")\n              timeoutId = timeoutId.unref?.();\n          }\n          rpcPromiseMap.set(id, { resolve, reject, timeoutId, method });\n          post(serialize({ m: method, a: args, i: id, t: \"q\" }));\n        });\n      };\n      sendCall.asEvent = sendEvent;\n      return sendCall;\n    }\n  });\n  function close(customError) {\n    closed = true;\n    rpcPromiseMap.forEach(({ reject, method }) => {\n      const error = new Error(`[birpc] rpc is closed, cannot call \"${method}\"`);\n      if (customError) {\n        customError.cause ??= error;\n        return reject(customError);\n      }\n      reject(error);\n    });\n    rpcPromiseMap.clear();\n    off(onMessage);\n  }\n  function rejectPendingCalls(handler) {\n    const entries = Array.from(rpcPromiseMap.values());\n    const handlerResults = entries.map(({ method, reject }) => {\n      if (!handler) {\n        return reject(new Error(`[birpc]: rejected pending call \"${method}\".`));\n      }\n      return handler({ method, reject });\n    });\n    rpcPromiseMap.clear();\n    return handlerResults;\n  }\n  async function onMessage(data, ...extra) {\n    let msg;\n    try {\n      msg = deserialize(data);\n    } catch (e) {\n      if (options.onGeneralError?.(e) !== true)\n        throw e;\n      return;\n    }\n    if (msg.t === TYPE_REQUEST) {\n      const { m: method, a: args } = msg;\n      let result, error;\n      const fn = resolver ? resolver(method, functions[method]) : functions[method];\n      if (!fn) {\n        error = new Error(`[birpc] function \"${method}\" not found`);\n      } else {\n        try {\n          result = await fn.apply(bind === \"rpc\" ? rpc : functions, args);\n        } catch (e) {\n          error = e;\n        }\n      }\n      if (msg.i) {\n        if (error && options.onError)\n          options.onError(error, method, args);\n        if (error && options.onFunctionError) {\n          if (options.onFunctionError(error, method, args) === true)\n            return;\n        }\n        if (!error) {\n          try {\n            post(serialize({ t: TYPE_RESPONSE, i: msg.i, r: result }), ...extra);\n            return;\n          } catch (e) {\n            error = e;\n            if (options.onGeneralError?.(e, method, args) !== true)\n              throw e;\n          }\n        }\n        try {\n          post(serialize({ t: TYPE_RESPONSE, i: msg.i, e: error }), ...extra);\n        } catch (e) {\n          if (options.onGeneralError?.(e, method, args) !== true)\n            throw e;\n        }\n      }\n    } else {\n      const { i: ack, r: result, e: error } = msg;\n      const promise = rpcPromiseMap.get(ack);\n      if (promise) {\n        clearTimeout(promise.timeoutId);\n        if (error)\n          promise.reject(error);\n        else\n          promise.resolve(result);\n      }\n      rpcPromiseMap.delete(ack);\n    }\n  }\n  _promise = on(onMessage);\n  return rpc;\n}\nconst urlAlphabet = \"useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict\";\nfunction nanoid(size = 21) {\n  let id = \"\";\n  let i = size;\n  while (i--)\n    id += urlAlphabet[random() * 64 | 0];\n  return id;\n}\n\nexport { createBirpc as c };\n", "import { isBuiltin, createRequire } from 'node:module';\nimport { pathToFileURL } from 'node:url';\nimport vm from 'node:vm';\nimport { isAbsolute } from 'pathe';\nimport { ssrModuleExportsKey, ssrImportMetaKey, ssrImportKey, ssrDynamicImportKey, ssrExportAllKey } from 'vite/module-runner';\n\nconst performanceNow = performance.now.bind(performance);\nclass ModuleDebug {\n\texecutionStack = [];\n\tstartCalculateModuleExecutionInfo(filename, startOffset) {\n\t\tconst startTime = performanceNow();\n\t\treturn this.executionStack.push({\n\t\t\tfilename,\n\t\t\tstartTime,\n\t\t\tsubImportTime: 0\n\t\t}), () => {\n\t\t\tconst duration = performanceNow() - startTime, currentExecution = this.executionStack.pop();\n\t\t\tif (currentExecution == null) throw new Error(\"Execution stack is empty, this should never happen\");\n\t\t\tconst selfTime = duration - currentExecution.subImportTime;\n\t\t\tif (this.executionStack.length > 0) this.executionStack.at(-1).subImportTime += duration;\n\t\t\treturn {\n\t\t\t\tstartOffset,\n\t\t\t\tduration,\n\t\t\t\tselfTime\n\t\t\t};\n\t\t};\n\t}\n}\n\nconst isWindows = process.platform === \"win32\";\nclass VitestModuleEvaluator {\n\tstubs = {};\n\tenv = createImportMetaEnvProxy();\n\tvm;\n\tcompiledFunctionArgumentsNames;\n\tcompiledFunctionArgumentsValues = [];\n\tprimitives;\n\tdebug = new ModuleDebug();\n\tconstructor(vmOptions, options = {}) {\n\t\tif (this.options = options, this.vm = vmOptions, this.stubs = getDefaultRequestStubs(vmOptions?.context), options.compiledFunctionArgumentsNames) this.compiledFunctionArgumentsNames = options.compiledFunctionArgumentsNames;\n\t\tif (options.compiledFunctionArgumentsValues) this.compiledFunctionArgumentsValues = options.compiledFunctionArgumentsValues;\n\t\tif (vmOptions) this.primitives = vm.runInContext(\"({ Object, Proxy, Reflect })\", vmOptions.context);\n\t\telse this.primitives = {\n\t\t\tObject,\n\t\t\tProxy,\n\t\t\tReflect\n\t\t};\n\t}\n\tconvertIdToImportUrl(id) {\n\t\t// TODO: vitest returns paths for external modules, but Vite returns file://\n\t\t// unfortunetly, there is a bug in Vite where ID is resolved incorrectly, so we can't return files until the fix is merged\n\t\t// https://github.com/vitejs/vite/pull/20449\n\t\tif (!isWindows || isBuiltin(id) || /^(?:node:|data:|http:|https:|file:)/.test(id)) return id;\n\t\tconst [filepath, query] = id.split(\"?\");\n\t\treturn query ? `${pathToFileURL(filepath).toString()}?${query}` : pathToFileURL(filepath).toString();\n\t}\n\tasync runExternalModule(id) {\n\t\tif (id in this.stubs) return this.stubs[id];\n\t\tconst file = this.convertIdToImportUrl(id), namespace = this.vm ? await this.vm.externalModulesExecutor.import(file) : await import(file);\n\t\tif (!this.shouldInterop(file, namespace)) return namespace;\n\t\tconst { mod, defaultExport } = interopModule(namespace), { Proxy, Reflect } = this.primitives;\n\t\treturn new Proxy(mod, {\n\t\t\tget(mod, prop) {\n\t\t\t\treturn prop === \"default\" ? defaultExport : mod[prop] ?? defaultExport?.[prop];\n\t\t\t},\n\t\t\thas(mod, prop) {\n\t\t\t\treturn prop === \"default\" ? defaultExport !== void 0 : prop in mod || defaultExport && prop in defaultExport;\n\t\t\t},\n\t\t\tgetOwnPropertyDescriptor(mod, prop) {\n\t\t\t\tconst descriptor = Reflect.getOwnPropertyDescriptor(mod, prop);\n\t\t\t\tif (descriptor) return descriptor;\n\t\t\t\tif (prop === \"default\" && defaultExport !== void 0) return {\n\t\t\t\t\tvalue: defaultExport,\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tconfigurable: true\n\t\t\t\t};\n\t\t\t}\n\t\t});\n\t}\n\tasync runInlinedModule(context, code, module) {\n\t\tcontext.__vite_ssr_import_meta__.env = this.env;\n\t\tconst { Reflect, Proxy, Object } = this.primitives, exportsObject = context[ssrModuleExportsKey], SYMBOL_NOT_DEFINED = Symbol(\"not defined\");\n\t\tlet moduleExports = SYMBOL_NOT_DEFINED;\n\t\t// this proxy is triggered only on exports.{name} and module.exports access\n\t\t// inside the module itself. imported module is always \"exports\"\n\t\tconst cjsExports = new Proxy(exportsObject, {\n\t\t\tget: (target, p, receiver) => {\n\t\t\t\treturn Reflect.has(target, p) ? Reflect.get(target, p, receiver) : Reflect.get(Object.prototype, p, receiver);\n\t\t\t},\n\t\t\tgetPrototypeOf: () => Object.prototype,\n\t\t\tset: (_, p, value) => {\n\t\t\t\t// treat \"module.exports =\" the same as \"exports.default =\" to not have nested \"default.default\",\n\t\t\t\t// so \"exports.default\" becomes the actual module\n\t\t\t\tif (p === \"default\" && this.shouldInterop(module.file, { default: value }) && cjsExports !== value) return exportAll(cjsExports, value), exportsObject.default = value, true;\n\t\t\t\tif (!Reflect.has(exportsObject, \"default\")) exportsObject.default = {};\n\t\t\t\t// returns undefined, when accessing named exports, if default is not an object\n\t\t\t\t// but is still present inside hasOwnKeys, this is Node behaviour for CJS\n\t\t\t\tif (moduleExports !== SYMBOL_NOT_DEFINED && isPrimitive(moduleExports)) return defineExport(exportsObject, p, () => void 0), true;\n\t\t\t\tif (!isPrimitive(exportsObject.default)) exportsObject.default[p] = value;\n\t\t\t\tif (p !== \"default\") defineExport(exportsObject, p, () => value);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}), moduleProxy = {\n\t\t\tset exports(value) {\n\t\t\t\texportAll(cjsExports, value), exportsObject.default = value, moduleExports = value;\n\t\t\t},\n\t\t\tget exports() {\n\t\t\t\treturn cjsExports;\n\t\t\t}\n\t\t}, meta = context[ssrImportMetaKey];\n\t\tif (this.options.getCurrentTestFilepath?.() === module.file) {\n\t\t\tconst globalNamespace = this.vm?.context || globalThis;\n\t\t\tObject.defineProperty(meta, \"vitest\", { get: () => globalNamespace.__vitest_index__ });\n\t\t}\n\t\tconst filename = meta.filename, dirname = meta.dirname, require = this.createRequire(filename), argumentsList = [\n\t\t\tssrModuleExportsKey,\n\t\t\tssrImportMetaKey,\n\t\t\tssrImportKey,\n\t\t\tssrDynamicImportKey,\n\t\t\tssrExportAllKey,\n\t\t\t\"__vite_ssr_exportName__\",\n\t\t\t\"__filename\",\n\t\t\t\"__dirname\",\n\t\t\t\"module\",\n\t\t\t\"exports\",\n\t\t\t\"require\"\n\t\t];\n\t\tif (this.compiledFunctionArgumentsNames) argumentsList.push(...this.compiledFunctionArgumentsNames);\n\t\t// add 'use strict' since ESM enables it by default\n\t\tconst codeDefinition = `'use strict';async (${argumentsList.join(\",\")})=>{{`, wrappedCode = `${codeDefinition}${code}\\n}}`, options = {\n\t\t\tfilename: module.id,\n\t\t\tlineOffset: 0,\n\t\t\tcolumnOffset: -codeDefinition.length\n\t\t}, finishModuleExecutionInfo = this.debug.startCalculateModuleExecutionInfo(options.filename, codeDefinition.length);\n\t\ttry {\n\t\t\tawait (this.vm ? vm.runInContext(wrappedCode, this.vm.context, options) : vm.runInThisContext(wrappedCode, options))(\n\t\t\t\tcontext[ssrModuleExportsKey],\n\t\t\t\tcontext[ssrImportMetaKey],\n\t\t\t\tcontext[ssrImportKey],\n\t\t\t\tasync (dep, options) => {\n\t\t\t\t\treturn dep = String(dep), dep[0] === \"#\" ? context[ssrDynamicImportKey](wrapId(dep), options) : context[ssrDynamicImportKey](dep, options);\n\t\t\t\t},\n\t\t\t\tcontext[ssrExportAllKey],\n\t\t\t\t// vite 7 support, remove when vite 7+ is supported\n\t\t\t\tcontext.__vite_ssr_exportName__ || ((name, getter) => Object.defineProperty(exportsObject, name, {\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tconfigurable: true,\n\t\t\t\t\tget: getter\n\t\t\t\t})),\n\t\t\t\tfilename,\n\t\t\t\tdirname,\n\t\t\t\tmoduleProxy,\n\t\t\t\tcjsExports,\n\t\t\t\trequire,\n\t\t\t\t...this.compiledFunctionArgumentsValues\n\t\t\t);\n\t\t} finally {\n\t\t\t// moduleExecutionInfo needs to use Node filename instead of the normalized one\n\t\t\t// because we rely on this behaviour in coverage-v8, for example\n\t\t\tthis.options.moduleExecutionInfo?.set(options.filename, finishModuleExecutionInfo());\n\t\t}\n\t}\n\tcreateRequire(filename) {\n\t\treturn filename[0] === \"\\0\" || !isAbsolute(filename) ? () => ({}) : this.vm ? this.vm.externalModulesExecutor.createRequire(filename) : createRequire(filename);\n\t}\n\tshouldInterop(path, mod) {\n\t\t// never interop ESM modules\n\t\t// TODO: should also skip for `.js` with `type=\"module\"`\n\t\treturn this.options.interopDefault === false ? false : !path.endsWith(\".mjs\") && \"default\" in mod;\n\t}\n}\nfunction createImportMetaEnvProxy() {\n\t// packages/vitest/src/node/plugins/index.ts:146\n\tconst booleanKeys = [\n\t\t\"DEV\",\n\t\t\"PROD\",\n\t\t\"SSR\"\n\t];\n\treturn new Proxy(process.env, {\n\t\tget(_, key) {\n\t\t\tif (typeof key === \"string\") return booleanKeys.includes(key) ? !!process.env[key] : process.env[key];\n\t\t},\n\t\tset(_, key, value) {\n\t\t\tif (typeof key !== \"string\") return true;\n\t\t\tif (booleanKeys.includes(key)) process.env[key] = value ? \"1\" : \"\";\n\t\t\telse process.env[key] = value;\n\t\t\treturn true;\n\t\t}\n\t});\n}\nfunction updateStyle(id, css) {\n\tif (typeof document === \"undefined\") return;\n\tconst element = document.querySelector(`[data-vite-dev-id=\"${id}\"]`);\n\tif (element) {\n\t\telement.textContent = css;\n\t\treturn;\n\t}\n\tconst head = document.querySelector(\"head\"), style = document.createElement(\"style\");\n\tstyle.setAttribute(\"type\", \"text/css\"), style.setAttribute(\"data-vite-dev-id\", id), style.textContent = css, head?.appendChild(style);\n}\nfunction removeStyle(id) {\n\tif (typeof document === \"undefined\") return;\n\tconst sheet = document.querySelector(`[data-vite-dev-id=\"${id}\"]`);\n\tif (sheet) document.head.removeChild(sheet);\n}\nconst defaultClientStub = {\n\tinjectQuery: (id) => id,\n\tcreateHotContext: () => {\n\t\treturn {\n\t\t\taccept: () => {},\n\t\t\tprune: () => {},\n\t\t\tdispose: () => {},\n\t\t\tdecline: () => {},\n\t\t\tinvalidate: () => {},\n\t\t\ton: () => {},\n\t\t\tsend: () => {}\n\t\t};\n\t},\n\tupdateStyle: () => {},\n\tremoveStyle: () => {}\n};\nfunction getDefaultRequestStubs(context) {\n\tif (!context) {\n\t\tconst clientStub = {\n\t\t\t...defaultClientStub,\n\t\t\tupdateStyle,\n\t\t\tremoveStyle\n\t\t};\n\t\treturn { \"/@vite/client\": clientStub };\n\t}\n\tconst clientStub = vm.runInContext(`(defaultClient) => ({ ...defaultClient, updateStyle: ${updateStyle.toString()}, removeStyle: ${removeStyle.toString()} })`, context)(defaultClientStub);\n\treturn { \"/@vite/client\": clientStub };\n}\nfunction exportAll(exports, sourceModule) {\n\tif (exports !== sourceModule && !(isPrimitive(sourceModule) || Array.isArray(sourceModule) || sourceModule instanceof Promise)) {\n\t\tfor (const key in sourceModule) if (key !== \"default\" && !(key in exports)) try {\n\t\t\tdefineExport(exports, key, () => sourceModule[key]);\n\t\t} catch {}\n\t}\n}\n// keep consistency with Vite on how exports are defined\nfunction defineExport(exports, key, value) {\n\tObject.defineProperty(exports, key, {\n\t\tenumerable: true,\n\t\tconfigurable: true,\n\t\tget: value\n\t});\n}\nfunction isPrimitive(v) {\n\treturn !(typeof v === \"object\" || typeof v === \"function\") || v == null;\n}\nfunction interopModule(mod) {\n\tif (isPrimitive(mod)) return {\n\t\tmod: { default: mod },\n\t\tdefaultExport: mod\n\t};\n\tlet defaultExport = \"default\" in mod ? mod.default : mod;\n\tif (!isPrimitive(defaultExport) && \"__esModule\" in defaultExport) {\n\t\tif (mod = defaultExport, \"default\" in defaultExport) defaultExport = defaultExport.default;\n\t}\n\treturn {\n\t\tmod,\n\t\tdefaultExport\n\t};\n}\nconst VALID_ID_PREFIX = `/@id/`, NULL_BYTE_PLACEHOLDER = `__x00__`;\nfunction wrapId(id) {\n\treturn id.startsWith(VALID_ID_PREFIX) ? id : VALID_ID_PREFIX + id.replace(\"\\0\", NULL_BYTE_PLACEHOLDER);\n}\nfunction unwrapId(id) {\n\treturn id.startsWith(VALID_ID_PREFIX) ? id.slice(VALID_ID_PREFIX.length).replace(NULL_BYTE_PLACEHOLDER, \"\\0\") : id;\n}\n\nexport { VitestModuleEvaluator, createImportMetaEnvProxy, getDefaultRequestStubs, isPrimitive, unwrapId, wrapId };\n", "import { g as getDefaultExportFromCjs } from './chunk-_commonjsHelpers.js';\nimport c from 'tinyrainbow';\n\nvar jsTokens_1;\nvar hasRequiredJsTokens;\n\nfunction requireJsTokens () {\n\tif (hasRequiredJsTokens) return jsTokens_1;\n\thasRequiredJsTokens = 1;\n\t// Copyright 2014, 2015, 2016, 2017, 2018, 2019, 2020, 2021, 2022, 2023 Simon Lydell\n\t// License: MIT.\n\tvar Identifier, JSXIdentifier, JSXPunctuator, JSXString, JSXText, KeywordsWithExpressionAfter, KeywordsWithNoLineTerminatorAfter, LineTerminatorSequence, MultiLineComment, Newline, NumericLiteral, Punctuator, RegularExpressionLiteral, SingleLineComment, StringLiteral, Template, TokensNotPrecedingObjectLiteral, TokensPrecedingExpression, WhiteSpace;\n\tRegularExpressionLiteral = /\\/(?![*\\/])(?:\\[(?:(?![\\]\\\\]).|\\\\.)*\\]|(?![\\/\\\\]).|\\\\.)*(\\/[$_\\u200C\\u200D\\p{ID_Continue}]*|\\\\)?/yu;\n\tPunctuator = /--|\\+\\+|=>|\\.{3}|\\??\\.(?!\\d)|(?:&&|\\|\\||\\?\\?|[+\\-%&|^]|\\*{1,2}|<{1,2}|>{1,3}|!=?|={1,2}|\\/(?![\\/*]))=?|[?~,:;[\\](){}]/y;\n\tIdentifier = /(\\x23?)(?=[$_\\p{ID_Start}\\\\])(?:[$_\\u200C\\u200D\\p{ID_Continue}]|\\\\u[\\da-fA-F]{4}|\\\\u\\{[\\da-fA-F]+\\})+/yu;\n\tStringLiteral = /(['\"])(?:(?!\\1)[^\\\\\\n\\r]|\\\\(?:\\r\\n|[^]))*(\\1)?/y;\n\tNumericLiteral = /(?:0[xX][\\da-fA-F](?:_?[\\da-fA-F])*|0[oO][0-7](?:_?[0-7])*|0[bB][01](?:_?[01])*)n?|0n|[1-9](?:_?\\d)*n|(?:(?:0(?!\\d)|0\\d*[89]\\d*|[1-9](?:_?\\d)*)(?:\\.(?:\\d(?:_?\\d)*)?)?|\\.\\d(?:_?\\d)*)(?:[eE][+-]?\\d(?:_?\\d)*)?|0[0-7]+/y;\n\tTemplate = /[`}](?:[^`\\\\$]|\\\\[^]|\\$(?!\\{))*(`|\\$\\{)?/y;\n\tWhiteSpace = /[\\t\\v\\f\\ufeff\\p{Zs}]+/yu;\n\tLineTerminatorSequence = /\\r?\\n|[\\r\\u2028\\u2029]/y;\n\tMultiLineComment = /\\/\\*(?:[^*]|\\*(?!\\/))*(\\*\\/)?/y;\n\tSingleLineComment = /\\/\\/.*/y;\n\tJSXPunctuator = /[<>.:={}]|\\/(?![\\/*])/y;\n\tJSXIdentifier = /[$_\\p{ID_Start}][$_\\u200C\\u200D\\p{ID_Continue}-]*/yu;\n\tJSXString = /(['\"])(?:(?!\\1)[^])*(\\1)?/y;\n\tJSXText = /[^<>{}]+/y;\n\tTokensPrecedingExpression = /^(?:[\\/+-]|\\.{3}|\\?(?:InterpolationIn(?:JSX|Template)|NoLineTerminatorHere|NonExpressionParenEnd|UnaryIncDec))?$|[{}([,;<>=*%&|^!~?:]$/;\n\tTokensNotPrecedingObjectLiteral = /^(?:=>|[;\\]){}]|else|\\?(?:NoLineTerminatorHere|NonExpressionParenEnd))?$/;\n\tKeywordsWithExpressionAfter = /^(?:await|case|default|delete|do|else|instanceof|new|return|throw|typeof|void|yield)$/;\n\tKeywordsWithNoLineTerminatorAfter = /^(?:return|throw|yield)$/;\n\tNewline = RegExp(LineTerminatorSequence.source);\n\tjsTokens_1 = function*(input, {jsx = false} = {}) {\n\t\tvar braces, firstCodePoint, isExpression, lastIndex, lastSignificantToken, length, match, mode, nextLastIndex, nextLastSignificantToken, parenNesting, postfixIncDec, punctuator, stack;\n\t\t({length} = input);\n\t\tlastIndex = 0;\n\t\tlastSignificantToken = \"\";\n\t\tstack = [\n\t\t\t{tag: \"JS\"}\n\t\t];\n\t\tbraces = [];\n\t\tparenNesting = 0;\n\t\tpostfixIncDec = false;\n\t\twhile (lastIndex < length) {\n\t\t\tmode = stack[stack.length - 1];\n\t\t\tswitch (mode.tag) {\n\t\t\t\tcase \"JS\":\n\t\t\t\tcase \"JSNonExpressionParen\":\n\t\t\t\tcase \"InterpolationInTemplate\":\n\t\t\t\tcase \"InterpolationInJSX\":\n\t\t\t\t\tif (input[lastIndex] === \"/\" && (TokensPrecedingExpression.test(lastSignificantToken) || KeywordsWithExpressionAfter.test(lastSignificantToken))) {\n\t\t\t\t\t\tRegularExpressionLiteral.lastIndex = lastIndex;\n\t\t\t\t\t\tif (match = RegularExpressionLiteral.exec(input)) {\n\t\t\t\t\t\t\tlastIndex = RegularExpressionLiteral.lastIndex;\n\t\t\t\t\t\t\tlastSignificantToken = match[0];\n\t\t\t\t\t\t\tpostfixIncDec = true;\n\t\t\t\t\t\t\tyield ({\n\t\t\t\t\t\t\t\ttype: \"RegularExpressionLiteral\",\n\t\t\t\t\t\t\t\tvalue: match[0],\n\t\t\t\t\t\t\t\tclosed: match[1] !== void 0 && match[1] !== \"\\\\\"\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tPunctuator.lastIndex = lastIndex;\n\t\t\t\t\tif (match = Punctuator.exec(input)) {\n\t\t\t\t\t\tpunctuator = match[0];\n\t\t\t\t\t\tnextLastIndex = Punctuator.lastIndex;\n\t\t\t\t\t\tnextLastSignificantToken = punctuator;\n\t\t\t\t\t\tswitch (punctuator) {\n\t\t\t\t\t\t\tcase \"(\":\n\t\t\t\t\t\t\t\tif (lastSignificantToken === \"?NonExpressionParenKeyword\") {\n\t\t\t\t\t\t\t\t\tstack.push({\n\t\t\t\t\t\t\t\t\t\ttag: \"JSNonExpressionParen\",\n\t\t\t\t\t\t\t\t\t\tnesting: parenNesting\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tparenNesting++;\n\t\t\t\t\t\t\t\tpostfixIncDec = false;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \")\":\n\t\t\t\t\t\t\t\tparenNesting--;\n\t\t\t\t\t\t\t\tpostfixIncDec = true;\n\t\t\t\t\t\t\t\tif (mode.tag === \"JSNonExpressionParen\" && parenNesting === mode.nesting) {\n\t\t\t\t\t\t\t\t\tstack.pop();\n\t\t\t\t\t\t\t\t\tnextLastSignificantToken = \"?NonExpressionParenEnd\";\n\t\t\t\t\t\t\t\t\tpostfixIncDec = false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \"{\":\n\t\t\t\t\t\t\t\tPunctuator.lastIndex = 0;\n\t\t\t\t\t\t\t\tisExpression = !TokensNotPrecedingObjectLiteral.test(lastSignificantToken) && (TokensPrecedingExpression.test(lastSignificantToken) || KeywordsWithExpressionAfter.test(lastSignificantToken));\n\t\t\t\t\t\t\t\tbraces.push(isExpression);\n\t\t\t\t\t\t\t\tpostfixIncDec = false;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \"}\":\n\t\t\t\t\t\t\t\tswitch (mode.tag) {\n\t\t\t\t\t\t\t\t\tcase \"InterpolationInTemplate\":\n\t\t\t\t\t\t\t\t\t\tif (braces.length === mode.nesting) {\n\t\t\t\t\t\t\t\t\t\t\tTemplate.lastIndex = lastIndex;\n\t\t\t\t\t\t\t\t\t\t\tmatch = Template.exec(input);\n\t\t\t\t\t\t\t\t\t\t\tlastIndex = Template.lastIndex;\n\t\t\t\t\t\t\t\t\t\t\tlastSignificantToken = match[0];\n\t\t\t\t\t\t\t\t\t\t\tif (match[1] === \"${\") {\n\t\t\t\t\t\t\t\t\t\t\t\tlastSignificantToken = \"?InterpolationInTemplate\";\n\t\t\t\t\t\t\t\t\t\t\t\tpostfixIncDec = false;\n\t\t\t\t\t\t\t\t\t\t\t\tyield ({\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"TemplateMiddle\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: match[0]\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tstack.pop();\n\t\t\t\t\t\t\t\t\t\t\t\tpostfixIncDec = true;\n\t\t\t\t\t\t\t\t\t\t\t\tyield ({\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"TemplateTail\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: match[0],\n\t\t\t\t\t\t\t\t\t\t\t\t\tclosed: match[1] === \"`\"\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tcase \"InterpolationInJSX\":\n\t\t\t\t\t\t\t\t\t\tif (braces.length === mode.nesting) {\n\t\t\t\t\t\t\t\t\t\t\tstack.pop();\n\t\t\t\t\t\t\t\t\t\t\tlastIndex += 1;\n\t\t\t\t\t\t\t\t\t\t\tlastSignificantToken = \"}\";\n\t\t\t\t\t\t\t\t\t\t\tyield ({\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"JSXPunctuator\",\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"}\"\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tpostfixIncDec = braces.pop();\n\t\t\t\t\t\t\t\tnextLastSignificantToken = postfixIncDec ? \"?ExpressionBraceEnd\" : \"}\";\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \"]\":\n\t\t\t\t\t\t\t\tpostfixIncDec = true;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \"++\":\n\t\t\t\t\t\t\tcase \"--\":\n\t\t\t\t\t\t\t\tnextLastSignificantToken = postfixIncDec ? \"?PostfixIncDec\" : \"?UnaryIncDec\";\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \"<\":\n\t\t\t\t\t\t\t\tif (jsx && (TokensPrecedingExpression.test(lastSignificantToken) || KeywordsWithExpressionAfter.test(lastSignificantToken))) {\n\t\t\t\t\t\t\t\t\tstack.push({tag: \"JSXTag\"});\n\t\t\t\t\t\t\t\t\tlastIndex += 1;\n\t\t\t\t\t\t\t\t\tlastSignificantToken = \"<\";\n\t\t\t\t\t\t\t\t\tyield ({\n\t\t\t\t\t\t\t\t\t\ttype: \"JSXPunctuator\",\n\t\t\t\t\t\t\t\t\t\tvalue: punctuator\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tpostfixIncDec = false;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tpostfixIncDec = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlastIndex = nextLastIndex;\n\t\t\t\t\t\tlastSignificantToken = nextLastSignificantToken;\n\t\t\t\t\t\tyield ({\n\t\t\t\t\t\t\ttype: \"Punctuator\",\n\t\t\t\t\t\t\tvalue: punctuator\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tIdentifier.lastIndex = lastIndex;\n\t\t\t\t\tif (match = Identifier.exec(input)) {\n\t\t\t\t\t\tlastIndex = Identifier.lastIndex;\n\t\t\t\t\t\tnextLastSignificantToken = match[0];\n\t\t\t\t\t\tswitch (match[0]) {\n\t\t\t\t\t\t\tcase \"for\":\n\t\t\t\t\t\t\tcase \"if\":\n\t\t\t\t\t\t\tcase \"while\":\n\t\t\t\t\t\t\tcase \"with\":\n\t\t\t\t\t\t\t\tif (lastSignificantToken !== \".\" && lastSignificantToken !== \"?.\") {\n\t\t\t\t\t\t\t\t\tnextLastSignificantToken = \"?NonExpressionParenKeyword\";\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlastSignificantToken = nextLastSignificantToken;\n\t\t\t\t\t\tpostfixIncDec = !KeywordsWithExpressionAfter.test(match[0]);\n\t\t\t\t\t\tyield ({\n\t\t\t\t\t\t\ttype: match[1] === \"#\" ? \"PrivateIdentifier\" : \"IdentifierName\",\n\t\t\t\t\t\t\tvalue: match[0]\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tStringLiteral.lastIndex = lastIndex;\n\t\t\t\t\tif (match = StringLiteral.exec(input)) {\n\t\t\t\t\t\tlastIndex = StringLiteral.lastIndex;\n\t\t\t\t\t\tlastSignificantToken = match[0];\n\t\t\t\t\t\tpostfixIncDec = true;\n\t\t\t\t\t\tyield ({\n\t\t\t\t\t\t\ttype: \"StringLiteral\",\n\t\t\t\t\t\t\tvalue: match[0],\n\t\t\t\t\t\t\tclosed: match[2] !== void 0\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tNumericLiteral.lastIndex = lastIndex;\n\t\t\t\t\tif (match = NumericLiteral.exec(input)) {\n\t\t\t\t\t\tlastIndex = NumericLiteral.lastIndex;\n\t\t\t\t\t\tlastSignificantToken = match[0];\n\t\t\t\t\t\tpostfixIncDec = true;\n\t\t\t\t\t\tyield ({\n\t\t\t\t\t\t\ttype: \"NumericLiteral\",\n\t\t\t\t\t\t\tvalue: match[0]\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tTemplate.lastIndex = lastIndex;\n\t\t\t\t\tif (match = Template.exec(input)) {\n\t\t\t\t\t\tlastIndex = Template.lastIndex;\n\t\t\t\t\t\tlastSignificantToken = match[0];\n\t\t\t\t\t\tif (match[1] === \"${\") {\n\t\t\t\t\t\t\tlastSignificantToken = \"?InterpolationInTemplate\";\n\t\t\t\t\t\t\tstack.push({\n\t\t\t\t\t\t\t\ttag: \"InterpolationInTemplate\",\n\t\t\t\t\t\t\t\tnesting: braces.length\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tpostfixIncDec = false;\n\t\t\t\t\t\t\tyield ({\n\t\t\t\t\t\t\t\ttype: \"TemplateHead\",\n\t\t\t\t\t\t\t\tvalue: match[0]\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tpostfixIncDec = true;\n\t\t\t\t\t\t\tyield ({\n\t\t\t\t\t\t\t\ttype: \"NoSubstitutionTemplate\",\n\t\t\t\t\t\t\t\tvalue: match[0],\n\t\t\t\t\t\t\t\tclosed: match[1] === \"`\"\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"JSXTag\":\n\t\t\t\tcase \"JSXTagEnd\":\n\t\t\t\t\tJSXPunctuator.lastIndex = lastIndex;\n\t\t\t\t\tif (match = JSXPunctuator.exec(input)) {\n\t\t\t\t\t\tlastIndex = JSXPunctuator.lastIndex;\n\t\t\t\t\t\tnextLastSignificantToken = match[0];\n\t\t\t\t\t\tswitch (match[0]) {\n\t\t\t\t\t\t\tcase \"<\":\n\t\t\t\t\t\t\t\tstack.push({tag: \"JSXTag\"});\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \">\":\n\t\t\t\t\t\t\t\tstack.pop();\n\t\t\t\t\t\t\t\tif (lastSignificantToken === \"/\" || mode.tag === \"JSXTagEnd\") {\n\t\t\t\t\t\t\t\t\tnextLastSignificantToken = \"?JSX\";\n\t\t\t\t\t\t\t\t\tpostfixIncDec = true;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tstack.push({tag: \"JSXChildren\"});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \"{\":\n\t\t\t\t\t\t\t\tstack.push({\n\t\t\t\t\t\t\t\t\ttag: \"InterpolationInJSX\",\n\t\t\t\t\t\t\t\t\tnesting: braces.length\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tnextLastSignificantToken = \"?InterpolationInJSX\";\n\t\t\t\t\t\t\t\tpostfixIncDec = false;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \"/\":\n\t\t\t\t\t\t\t\tif (lastSignificantToken === \"<\") {\n\t\t\t\t\t\t\t\t\tstack.pop();\n\t\t\t\t\t\t\t\t\tif (stack[stack.length - 1].tag === \"JSXChildren\") {\n\t\t\t\t\t\t\t\t\t\tstack.pop();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tstack.push({tag: \"JSXTagEnd\"});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlastSignificantToken = nextLastSignificantToken;\n\t\t\t\t\t\tyield ({\n\t\t\t\t\t\t\ttype: \"JSXPunctuator\",\n\t\t\t\t\t\t\tvalue: match[0]\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tJSXIdentifier.lastIndex = lastIndex;\n\t\t\t\t\tif (match = JSXIdentifier.exec(input)) {\n\t\t\t\t\t\tlastIndex = JSXIdentifier.lastIndex;\n\t\t\t\t\t\tlastSignificantToken = match[0];\n\t\t\t\t\t\tyield ({\n\t\t\t\t\t\t\ttype: \"JSXIdentifier\",\n\t\t\t\t\t\t\tvalue: match[0]\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tJSXString.lastIndex = lastIndex;\n\t\t\t\t\tif (match = JSXString.exec(input)) {\n\t\t\t\t\t\tlastIndex = JSXString.lastIndex;\n\t\t\t\t\t\tlastSignificantToken = match[0];\n\t\t\t\t\t\tyield ({\n\t\t\t\t\t\t\ttype: \"JSXString\",\n\t\t\t\t\t\t\tvalue: match[0],\n\t\t\t\t\t\t\tclosed: match[2] !== void 0\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"JSXChildren\":\n\t\t\t\t\tJSXText.lastIndex = lastIndex;\n\t\t\t\t\tif (match = JSXText.exec(input)) {\n\t\t\t\t\t\tlastIndex = JSXText.lastIndex;\n\t\t\t\t\t\tlastSignificantToken = match[0];\n\t\t\t\t\t\tyield ({\n\t\t\t\t\t\t\ttype: \"JSXText\",\n\t\t\t\t\t\t\tvalue: match[0]\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tswitch (input[lastIndex]) {\n\t\t\t\t\t\tcase \"<\":\n\t\t\t\t\t\t\tstack.push({tag: \"JSXTag\"});\n\t\t\t\t\t\t\tlastIndex++;\n\t\t\t\t\t\t\tlastSignificantToken = \"<\";\n\t\t\t\t\t\t\tyield ({\n\t\t\t\t\t\t\t\ttype: \"JSXPunctuator\",\n\t\t\t\t\t\t\t\tvalue: \"<\"\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\tcase \"{\":\n\t\t\t\t\t\t\tstack.push({\n\t\t\t\t\t\t\t\ttag: \"InterpolationInJSX\",\n\t\t\t\t\t\t\t\tnesting: braces.length\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tlastIndex++;\n\t\t\t\t\t\t\tlastSignificantToken = \"?InterpolationInJSX\";\n\t\t\t\t\t\t\tpostfixIncDec = false;\n\t\t\t\t\t\t\tyield ({\n\t\t\t\t\t\t\t\ttype: \"JSXPunctuator\",\n\t\t\t\t\t\t\t\tvalue: \"{\"\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t}\n\t\t\tWhiteSpace.lastIndex = lastIndex;\n\t\t\tif (match = WhiteSpace.exec(input)) {\n\t\t\t\tlastIndex = WhiteSpace.lastIndex;\n\t\t\t\tyield ({\n\t\t\t\t\ttype: \"WhiteSpace\",\n\t\t\t\t\tvalue: match[0]\n\t\t\t\t});\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tLineTerminatorSequence.lastIndex = lastIndex;\n\t\t\tif (match = LineTerminatorSequence.exec(input)) {\n\t\t\t\tlastIndex = LineTerminatorSequence.lastIndex;\n\t\t\t\tpostfixIncDec = false;\n\t\t\t\tif (KeywordsWithNoLineTerminatorAfter.test(lastSignificantToken)) {\n\t\t\t\t\tlastSignificantToken = \"?NoLineTerminatorHere\";\n\t\t\t\t}\n\t\t\t\tyield ({\n\t\t\t\t\ttype: \"LineTerminatorSequence\",\n\t\t\t\t\tvalue: match[0]\n\t\t\t\t});\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tMultiLineComment.lastIndex = lastIndex;\n\t\t\tif (match = MultiLineComment.exec(input)) {\n\t\t\t\tlastIndex = MultiLineComment.lastIndex;\n\t\t\t\tif (Newline.test(match[0])) {\n\t\t\t\t\tpostfixIncDec = false;\n\t\t\t\t\tif (KeywordsWithNoLineTerminatorAfter.test(lastSignificantToken)) {\n\t\t\t\t\t\tlastSignificantToken = \"?NoLineTerminatorHere\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tyield ({\n\t\t\t\t\ttype: \"MultiLineComment\",\n\t\t\t\t\tvalue: match[0],\n\t\t\t\t\tclosed: match[1] !== void 0\n\t\t\t\t});\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tSingleLineComment.lastIndex = lastIndex;\n\t\t\tif (match = SingleLineComment.exec(input)) {\n\t\t\t\tlastIndex = SingleLineComment.lastIndex;\n\t\t\t\tpostfixIncDec = false;\n\t\t\t\tyield ({\n\t\t\t\t\ttype: \"SingleLineComment\",\n\t\t\t\t\tvalue: match[0]\n\t\t\t\t});\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tfirstCodePoint = String.fromCodePoint(input.codePointAt(lastIndex));\n\t\t\tlastIndex += firstCodePoint.length;\n\t\t\tlastSignificantToken = firstCodePoint;\n\t\t\tpostfixIncDec = false;\n\t\t\tyield ({\n\t\t\t\ttype: mode.tag.startsWith(\"JSX\") ? \"JSXInvalid\" : \"Invalid\",\n\t\t\t\tvalue: firstCodePoint\n\t\t\t});\n\t\t}\n\t\treturn void 0;\n\t};\n\treturn jsTokens_1;\n}\n\nvar jsTokensExports = /*@__PURE__*/ requireJsTokens();\nvar jsTokens = /*@__PURE__*/getDefaultExportFromCjs(jsTokensExports);\n\n// src/index.ts\nvar reservedWords = {\n  keyword: [\n    \"break\",\n    \"case\",\n    \"catch\",\n    \"continue\",\n    \"debugger\",\n    \"default\",\n    \"do\",\n    \"else\",\n    \"finally\",\n    \"for\",\n    \"function\",\n    \"if\",\n    \"return\",\n    \"switch\",\n    \"throw\",\n    \"try\",\n    \"var\",\n    \"const\",\n    \"while\",\n    \"with\",\n    \"new\",\n    \"this\",\n    \"super\",\n    \"class\",\n    \"extends\",\n    \"export\",\n    \"import\",\n    \"null\",\n    \"true\",\n    \"false\",\n    \"in\",\n    \"instanceof\",\n    \"typeof\",\n    \"void\",\n    \"delete\"\n  ],\n  strict: [\n    \"implements\",\n    \"interface\",\n    \"let\",\n    \"package\",\n    \"private\",\n    \"protected\",\n    \"public\",\n    \"static\",\n    \"yield\"\n  ]\n}, keywords = new Set(reservedWords.keyword), reservedWordsStrictSet = new Set(reservedWords.strict), sometimesKeywords = /* @__PURE__ */ new Set([\"as\", \"async\", \"from\", \"get\", \"of\", \"set\"]);\nfunction isReservedWord(word) {\n  return word === \"await\" || word === \"enum\";\n}\nfunction isStrictReservedWord(word) {\n  return isReservedWord(word) || reservedWordsStrictSet.has(word);\n}\nfunction isKeyword(word) {\n  return keywords.has(word);\n}\nvar BRACKET = /^[()[\\]{}]$/, getTokenType = function(token) {\n  if (token.type === \"IdentifierName\") {\n    if (isKeyword(token.value) || isStrictReservedWord(token.value) || sometimesKeywords.has(token.value))\n      return \"Keyword\";\n    if (token.value[0] && token.value[0] !== token.value[0].toLowerCase())\n      return \"IdentifierCapitalized\";\n  }\n  return token.type === \"Punctuator\" && BRACKET.test(token.value) ? \"Bracket\" : token.type === \"Invalid\" && (token.value === \"@\" || token.value === \"#\") ? \"Punctuator\" : token.type;\n};\nfunction getCallableType(token) {\n  if (token.type === \"IdentifierName\")\n    return \"IdentifierCallable\";\n  if (token.type === \"PrivateIdentifier\")\n    return \"PrivateIdentifierCallable\";\n  throw new Error(\"Not a callable token\");\n}\nvar colorize = (defs, type, value) => {\n  let colorize2 = defs[type];\n  return colorize2 ? colorize2(value) : value;\n}, highlightTokens = (defs, text, jsx) => {\n  let highlighted = \"\", lastPotentialCallable = null, stackedHighlight = \"\";\n  for (let token of jsTokens(text, { jsx })) {\n    let type = getTokenType(token);\n    if (type === \"IdentifierName\" || type === \"PrivateIdentifier\") {\n      lastPotentialCallable && (highlighted += colorize(defs, getTokenType(lastPotentialCallable), lastPotentialCallable.value) + stackedHighlight, stackedHighlight = \"\"), lastPotentialCallable = token;\n      continue;\n    }\n    if (lastPotentialCallable && (token.type === \"WhiteSpace\" || token.type === \"LineTerminatorSequence\" || token.type === \"Punctuator\" && (token.value === \"?.\" || token.value === \"!\"))) {\n      stackedHighlight += colorize(defs, type, token.value);\n      continue;\n    }\n    if (stackedHighlight && !lastPotentialCallable && (highlighted += stackedHighlight, stackedHighlight = \"\"), lastPotentialCallable) {\n      let type2 = token.type === \"Punctuator\" && token.value === \"(\" ? getCallableType(lastPotentialCallable) : getTokenType(lastPotentialCallable);\n      highlighted += colorize(defs, type2, lastPotentialCallable.value) + stackedHighlight, stackedHighlight = \"\", lastPotentialCallable = null;\n    }\n    highlighted += colorize(defs, type, token.value);\n  }\n  return highlighted;\n};\nfunction highlight$1(code, options = { jsx: false, colors: {} }) {\n  return code && highlightTokens(options.colors || {}, code, options.jsx);\n}\n\nfunction getDefs(c) {\n\tconst Invalid = (text) => c.white(c.bgRed(c.bold(text)));\n\treturn {\n\t\tKeyword: c.magenta,\n\t\tIdentifierCapitalized: c.yellow,\n\t\tPunctuator: c.yellow,\n\t\tStringLiteral: c.green,\n\t\tNoSubstitutionTemplate: c.green,\n\t\tMultiLineComment: c.gray,\n\t\tSingleLineComment: c.gray,\n\t\tRegularExpressionLiteral: c.cyan,\n\t\tNumericLiteral: c.blue,\n\t\tTemplateHead: (text) => c.green(text.slice(0, text.length - 2)) + c.cyan(text.slice(-2)),\n\t\tTemplateTail: (text) => c.cyan(text.slice(0, 1)) + c.green(text.slice(1)),\n\t\tTemplateMiddle: (text) => c.cyan(text.slice(0, 1)) + c.green(text.slice(1, text.length - 2)) + c.cyan(text.slice(-2)),\n\t\tIdentifierCallable: c.blue,\n\t\tPrivateIdentifierCallable: (text) => `#${c.blue(text.slice(1))}`,\n\t\tInvalid,\n\t\tJSXString: c.green,\n\t\tJSXIdentifier: c.yellow,\n\t\tJSXInvalid: Invalid,\n\t\tJSXPunctuator: c.yellow\n\t};\n}\nfunction highlight(code, options = { jsx: false }) {\n\treturn highlight$1(code, {\n\t\tjsx: options.jsx,\n\t\tcolors: getDefs(options.colors || c)\n\t});\n}\n\nexport { highlight };\n", "import type { StringReader, StringWriter } from './strings';\r\n\r\nexport const comma = ','.charCodeAt(0);\r\nexport const semicolon = ';'.charCodeAt(0);\r\n\r\nconst chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\r\nconst intToChar = new Uint8Array(64); // 64 possible chars.\r\nconst charToInt = new Uint8Array(128); // z is 122 in ASCII\r\n\r\nfor (let i = 0; i < chars.length; i++) {\r\n  const c = chars.charCodeAt(i);\r\n  intToChar[i] = c;\r\n  charToInt[c] = i;\r\n}\r\n\r\nexport function decodeInteger(reader: StringReader, relative: number): number {\r\n  let value = 0;\r\n  let shift = 0;\r\n  let integer = 0;\r\n\r\n  do {\r\n    const c = reader.next();\r\n    integer = charToInt[c];\r\n    value |= (integer & 31) << shift;\r\n    shift += 5;\r\n  } while (integer & 32);\r\n\r\n  const shouldNegate = value & 1;\r\n  value >>>= 1;\r\n\r\n  if (shouldNegate) {\r\n    value = -0x80000000 | -value;\r\n  }\r\n\r\n  return relative + value;\r\n}\r\n\r\nexport function encodeInteger(builder: StringWriter, num: number, relative: number): number {\r\n  let delta = num - relative;\r\n\r\n  delta = delta < 0 ? (-delta << 1) | 1 : delta << 1;\r\n  do {\r\n    let clamped = delta & 0b011111;\r\n    delta >>>= 5;\r\n    if (delta > 0) clamped |= 0b100000;\r\n    builder.write(intToChar[clamped]);\r\n  } while (delta > 0);\r\n\r\n  return num;\r\n}\r\n\r\nexport function hasMoreVlq(reader: StringReader, max: number) {\r\n  if (reader.pos >= max) return false;\r\n  return reader.peek() !== comma;\r\n}\r\n", "const bufLength = 1024 * 16;\r\n\r\n// Provide a fallback for older environments.\r\nconst td =\r\n  typeof TextDecoder !== 'undefined'\r\n    ? /* #__PURE__ */ new TextDecoder()\r\n    : typeof Buffer !== 'undefined'\r\n      ? {\r\n          decode(buf: Uint8Array): string {\r\n            const out = Buffer.from(buf.buffer, buf.byteOffset, buf.byteLength);\r\n            return out.toString();\r\n          },\r\n        }\r\n      : {\r\n          decode(buf: Uint8Array): string {\r\n            let out = '';\r\n            for (let i = 0; i < buf.length; i++) {\r\n              out += String.fromCharCode(buf[i]);\r\n            }\r\n            return out;\r\n          },\r\n        };\r\n\r\nexport class StringWriter {\r\n  pos = 0;\r\n  private out = '';\r\n  private buffer = new Uint8Array(bufLength);\r\n\r\n  write(v: number): void {\r\n    const { buffer } = this;\r\n    buffer[this.pos++] = v;\r\n    if (this.pos === bufLength) {\r\n      this.out += td.decode(buffer);\r\n      this.pos = 0;\r\n    }\r\n  }\r\n\r\n  flush(): string {\r\n    const { buffer, out, pos } = this;\r\n    return pos > 0 ? out + td.decode(buffer.subarray(0, pos)) : out;\r\n  }\r\n}\r\n\r\nexport class StringReader {\r\n  pos = 0;\r\n  declare private buffer: string;\r\n\r\n  constructor(buffer: string) {\r\n    this.buffer = buffer;\r\n  }\r\n\r\n  next(): number {\r\n    return this.buffer.charCodeAt(this.pos++);\r\n  }\r\n\r\n  peek(): number {\r\n    return this.buffer.charCodeAt(this.pos);\r\n  }\r\n\r\n  indexOf(char: string): number {\r\n    const { buffer, pos } = this;\r\n    const idx = buffer.indexOf(char, pos);\r\n    return idx === -1 ? buffer.length : idx;\r\n  }\r\n}\r\n", "import { StringReader, StringWriter } from './strings';\r\nimport { comma, decodeInteger, encodeInteger, hasMoreVlq, semicolon } from './vlq';\r\n\r\nconst EMPTY: any[] = [];\r\n\r\ntype Line = number;\r\ntype Column = number;\r\ntype Kind = number;\r\ntype Name = number;\r\ntype Var = number;\r\ntype SourcesIndex = number;\r\ntype ScopesIndex = number;\r\n\r\ntype Mix<A, B, O> = (A & O) | (B & O);\r\n\r\nexport type OriginalScope = Mix<\r\n  [Line, Column, Line, Column, Kind],\r\n  [Line, Column, Line, Column, Kind, Name],\r\n  { vars: Var[] }\r\n>;\r\n\r\nexport type GeneratedRange = Mix<\r\n  [Line, Column, Line, Column],\r\n  [Line, Column, Line, Column, SourcesIndex, ScopesIndex],\r\n  {\r\n    callsite: CallSite | null;\r\n    bindings: Binding[];\r\n    isScope: boolean;\r\n  }\r\n>;\r\nexport type CallSite = [SourcesIndex, Line, Column];\r\ntype Binding = BindingExpressionRange[];\r\nexport type BindingExpressionRange = [Name] | [Name, Line, Column];\r\n\r\nexport function decodeOriginalScopes(input: string): OriginalScope[] {\r\n  const { length } = input;\r\n  const reader = new StringReader(input);\r\n  const scopes: OriginalScope[] = [];\r\n  const stack: OriginalScope[] = [];\r\n  let line = 0;\r\n\r\n  for (; reader.pos < length; reader.pos++) {\r\n    line = decodeInteger(reader, line);\r\n    const column = decodeInteger(reader, 0);\r\n\r\n    if (!hasMoreVlq(reader, length)) {\r\n      const last = stack.pop()!;\r\n      last[2] = line;\r\n      last[3] = column;\r\n      continue;\r\n    }\r\n\r\n    const kind = decodeInteger(reader, 0);\r\n    const fields = decodeInteger(reader, 0);\r\n    const hasName = fields & 0b0001;\r\n\r\n    const scope: OriginalScope = (\r\n      hasName ? [line, column, 0, 0, kind, decodeInteger(reader, 0)] : [line, column, 0, 0, kind]\r\n    ) as OriginalScope;\r\n\r\n    let vars: Var[] = EMPTY;\r\n    if (hasMoreVlq(reader, length)) {\r\n      vars = [];\r\n      do {\r\n        const varsIndex = decodeInteger(reader, 0);\r\n        vars.push(varsIndex);\r\n      } while (hasMoreVlq(reader, length));\r\n    }\r\n    scope.vars = vars;\r\n\r\n    scopes.push(scope);\r\n    stack.push(scope);\r\n  }\r\n\r\n  return scopes;\r\n}\r\n\r\nexport function encodeOriginalScopes(scopes: OriginalScope[]): string {\r\n  const writer = new StringWriter();\r\n\r\n  for (let i = 0; i < scopes.length; ) {\r\n    i = _encodeOriginalScopes(scopes, i, writer, [0]);\r\n  }\r\n\r\n  return writer.flush();\r\n}\r\n\r\nfunction _encodeOriginalScopes(\r\n  scopes: OriginalScope[],\r\n  index: number,\r\n  writer: StringWriter,\r\n  state: [\r\n    number, // GenColumn\r\n  ],\r\n): number {\r\n  const scope = scopes[index];\r\n  const { 0: startLine, 1: startColumn, 2: endLine, 3: endColumn, 4: kind, vars } = scope;\r\n\r\n  if (index > 0) writer.write(comma);\r\n\r\n  state[0] = encodeInteger(writer, startLine, state[0]);\r\n  encodeInteger(writer, startColumn, 0);\r\n  encodeInteger(writer, kind, 0);\r\n\r\n  const fields = scope.length === 6 ? 0b0001 : 0;\r\n  encodeInteger(writer, fields, 0);\r\n  if (scope.length === 6) encodeInteger(writer, scope[5], 0);\r\n\r\n  for (const v of vars) {\r\n    encodeInteger(writer, v, 0);\r\n  }\r\n\r\n  for (index++; index < scopes.length; ) {\r\n    const next = scopes[index];\r\n    const { 0: l, 1: c } = next;\r\n    if (l > endLine || (l === endLine && c >= endColumn)) {\r\n      break;\r\n    }\r\n    index = _encodeOriginalScopes(scopes, index, writer, state);\r\n  }\r\n\r\n  writer.write(comma);\r\n  state[0] = encodeInteger(writer, endLine, state[0]);\r\n  encodeInteger(writer, endColumn, 0);\r\n\r\n  return index;\r\n}\r\n\r\nexport function decodeGeneratedRanges(input: string): GeneratedRange[] {\r\n  const { length } = input;\r\n  const reader = new StringReader(input);\r\n  const ranges: GeneratedRange[] = [];\r\n  const stack: GeneratedRange[] = [];\r\n\r\n  let genLine = 0;\r\n  let definitionSourcesIndex = 0;\r\n  let definitionScopeIndex = 0;\r\n  let callsiteSourcesIndex = 0;\r\n  let callsiteLine = 0;\r\n  let callsiteColumn = 0;\r\n  let bindingLine = 0;\r\n  let bindingColumn = 0;\r\n\r\n  do {\r\n    const semi = reader.indexOf(';');\r\n    let genColumn = 0;\r\n\r\n    for (; reader.pos < semi; reader.pos++) {\r\n      genColumn = decodeInteger(reader, genColumn);\r\n\r\n      if (!hasMoreVlq(reader, semi)) {\r\n        const last = stack.pop()!;\r\n        last[2] = genLine;\r\n        last[3] = genColumn;\r\n        continue;\r\n      }\r\n\r\n      const fields = decodeInteger(reader, 0);\r\n      const hasDefinition = fields & 0b0001;\r\n      const hasCallsite = fields & 0b0010;\r\n      const hasScope = fields & 0b0100;\r\n\r\n      let callsite: CallSite | null = null;\r\n      let bindings: Binding[] = EMPTY;\r\n      let range: GeneratedRange;\r\n      if (hasDefinition) {\r\n        const defSourcesIndex = decodeInteger(reader, definitionSourcesIndex);\r\n        definitionScopeIndex = decodeInteger(\r\n          reader,\r\n          definitionSourcesIndex === defSourcesIndex ? definitionScopeIndex : 0,\r\n        );\r\n\r\n        definitionSourcesIndex = defSourcesIndex;\r\n        range = [genLine, genColumn, 0, 0, defSourcesIndex, definitionScopeIndex] as GeneratedRange;\r\n      } else {\r\n        range = [genLine, genColumn, 0, 0] as GeneratedRange;\r\n      }\r\n\r\n      range.isScope = !!hasScope;\r\n\r\n      if (hasCallsite) {\r\n        const prevCsi = callsiteSourcesIndex;\r\n        const prevLine = callsiteLine;\r\n        callsiteSourcesIndex = decodeInteger(reader, callsiteSourcesIndex);\r\n        const sameSource = prevCsi === callsiteSourcesIndex;\r\n        callsiteLine = decodeInteger(reader, sameSource ? callsiteLine : 0);\r\n        callsiteColumn = decodeInteger(\r\n          reader,\r\n          sameSource && prevLine === callsiteLine ? callsiteColumn : 0,\r\n        );\r\n\r\n        callsite = [callsiteSourcesIndex, callsiteLine, callsiteColumn];\r\n      }\r\n      range.callsite = callsite;\r\n\r\n      if (hasMoreVlq(reader, semi)) {\r\n        bindings = [];\r\n        do {\r\n          bindingLine = genLine;\r\n          bindingColumn = genColumn;\r\n          const expressionsCount = decodeInteger(reader, 0);\r\n          let expressionRanges: BindingExpressionRange[];\r\n          if (expressionsCount < -1) {\r\n            expressionRanges = [[decodeInteger(reader, 0)]];\r\n            for (let i = -1; i > expressionsCount; i--) {\r\n              const prevBl = bindingLine;\r\n              bindingLine = decodeInteger(reader, bindingLine);\r\n              bindingColumn = decodeInteger(reader, bindingLine === prevBl ? bindingColumn : 0);\r\n              const expression = decodeInteger(reader, 0);\r\n              expressionRanges.push([expression, bindingLine, bindingColumn]);\r\n            }\r\n          } else {\r\n            expressionRanges = [[expressionsCount]];\r\n          }\r\n          bindings.push(expressionRanges);\r\n        } while (hasMoreVlq(reader, semi));\r\n      }\r\n      range.bindings = bindings;\r\n\r\n      ranges.push(range);\r\n      stack.push(range);\r\n    }\r\n\r\n    genLine++;\r\n    reader.pos = semi + 1;\r\n  } while (reader.pos < length);\r\n\r\n  return ranges;\r\n}\r\n\r\nexport function encodeGeneratedRanges(ranges: GeneratedRange[]): string {\r\n  if (ranges.length === 0) return '';\r\n\r\n  const writer = new StringWriter();\r\n\r\n  for (let i = 0; i < ranges.length; ) {\r\n    i = _encodeGeneratedRanges(ranges, i, writer, [0, 0, 0, 0, 0, 0, 0]);\r\n  }\r\n\r\n  return writer.flush();\r\n}\r\n\r\nfunction _encodeGeneratedRanges(\r\n  ranges: GeneratedRange[],\r\n  index: number,\r\n  writer: StringWriter,\r\n  state: [\r\n    number, // GenLine\r\n    number, // GenColumn\r\n    number, // DefSourcesIndex\r\n    number, // DefScopesIndex\r\n    number, // CallSourcesIndex\r\n    number, // CallLine\r\n    number, // CallColumn\r\n  ],\r\n): number {\r\n  const range = ranges[index];\r\n  const {\r\n    0: startLine,\r\n    1: startColumn,\r\n    2: endLine,\r\n    3: endColumn,\r\n    isScope,\r\n    callsite,\r\n    bindings,\r\n  } = range;\r\n\r\n  if (state[0] < startLine) {\r\n    catchupLine(writer, state[0], startLine);\r\n    state[0] = startLine;\r\n    state[1] = 0;\r\n  } else if (index > 0) {\r\n    writer.write(comma);\r\n  }\r\n\r\n  state[1] = encodeInteger(writer, range[1], state[1]);\r\n\r\n  const fields =\r\n    (range.length === 6 ? 0b0001 : 0) | (callsite ? 0b0010 : 0) | (isScope ? 0b0100 : 0);\r\n  encodeInteger(writer, fields, 0);\r\n\r\n  if (range.length === 6) {\r\n    const { 4: sourcesIndex, 5: scopesIndex } = range;\r\n    if (sourcesIndex !== state[2]) {\r\n      state[3] = 0;\r\n    }\r\n    state[2] = encodeInteger(writer, sourcesIndex, state[2]);\r\n    state[3] = encodeInteger(writer, scopesIndex, state[3]);\r\n  }\r\n\r\n  if (callsite) {\r\n    const { 0: sourcesIndex, 1: callLine, 2: callColumn } = range.callsite!;\r\n    if (sourcesIndex !== state[4]) {\r\n      state[5] = 0;\r\n      state[6] = 0;\r\n    } else if (callLine !== state[5]) {\r\n      state[6] = 0;\r\n    }\r\n    state[4] = encodeInteger(writer, sourcesIndex, state[4]);\r\n    state[5] = encodeInteger(writer, callLine, state[5]);\r\n    state[6] = encodeInteger(writer, callColumn, state[6]);\r\n  }\r\n\r\n  if (bindings) {\r\n    for (const binding of bindings) {\r\n      if (binding.length > 1) encodeInteger(writer, -binding.length, 0);\r\n      const expression = binding[0][0];\r\n      encodeInteger(writer, expression, 0);\r\n      let bindingStartLine = startLine;\r\n      let bindingStartColumn = startColumn;\r\n      for (let i = 1; i < binding.length; i++) {\r\n        const expRange = binding[i];\r\n        bindingStartLine = encodeInteger(writer, expRange[1]!, bindingStartLine);\r\n        bindingStartColumn = encodeInteger(writer, expRange[2]!, bindingStartColumn);\r\n        encodeInteger(writer, expRange[0]!, 0);\r\n      }\r\n    }\r\n  }\r\n\r\n  for (index++; index < ranges.length; ) {\r\n    const next = ranges[index];\r\n    const { 0: l, 1: c } = next;\r\n    if (l > endLine || (l === endLine && c >= endColumn)) {\r\n      break;\r\n    }\r\n    index = _encodeGeneratedRanges(ranges, index, writer, state);\r\n  }\r\n\r\n  if (state[0] < endLine) {\r\n    catchupLine(writer, state[0], endLine);\r\n    state[0] = endLine;\r\n    state[1] = 0;\r\n  } else {\r\n    writer.write(comma);\r\n  }\r\n  state[1] = encodeInteger(writer, endColumn, state[1]);\r\n\r\n  return index;\r\n}\r\n\r\nfunction catchupLine(writer: StringWriter, lastLine: number, line: number) {\r\n  do {\r\n    writer.write(semicolon);\r\n  } while (++lastLine < line);\r\n}\r\n", "import { comma, decodeInteger, encodeInteger, hasMoreVlq, semicolon } from './vlq';\r\nimport { StringWriter, StringReader } from './strings';\r\n\r\nexport {\r\n  decodeOriginalScopes,\r\n  encodeOriginalScopes,\r\n  decodeGeneratedRanges,\r\n  encodeGeneratedRanges,\r\n} from './scopes';\r\nexport type { OriginalScope, GeneratedRange, CallSite, BindingExpressionRange } from './scopes';\r\n\r\nexport type SourceMapSegment =\r\n  | [number]\r\n  | [number, number, number, number]\r\n  | [number, number, number, number, number];\r\nexport type SourceMapLine = SourceMapSegment[];\r\nexport type SourceMapMappings = SourceMapLine[];\r\n\r\nexport function decode(mappings: string): SourceMapMappings {\r\n  const { length } = mappings;\r\n  const reader = new StringReader(mappings);\r\n  const decoded: SourceMapMappings = [];\r\n  let genColumn = 0;\r\n  let sourcesIndex = 0;\r\n  let sourceLine = 0;\r\n  let sourceColumn = 0;\r\n  let namesIndex = 0;\r\n\r\n  do {\r\n    const semi = reader.indexOf(';');\r\n    const line: SourceMapLine = [];\r\n    let sorted = true;\r\n    let lastCol = 0;\r\n    genColumn = 0;\r\n\r\n    while (reader.pos < semi) {\r\n      let seg: SourceMapSegment;\r\n\r\n      genColumn = decodeInteger(reader, genColumn);\r\n      if (genColumn < lastCol) sorted = false;\r\n      lastCol = genColumn;\r\n\r\n      if (hasMoreVlq(reader, semi)) {\r\n        sourcesIndex = decodeInteger(reader, sourcesIndex);\r\n        sourceLine = decodeInteger(reader, sourceLine);\r\n        sourceColumn = decodeInteger(reader, sourceColumn);\r\n\r\n        if (hasMoreVlq(reader, semi)) {\r\n          namesIndex = decodeInteger(reader, namesIndex);\r\n          seg = [genColumn, sourcesIndex, sourceLine, sourceColumn, namesIndex];\r\n        } else {\r\n          seg = [genColumn, sourcesIndex, sourceLine, sourceColumn];\r\n        }\r\n      } else {\r\n        seg = [genColumn];\r\n      }\r\n\r\n      line.push(seg);\r\n      reader.pos++;\r\n    }\r\n\r\n    if (!sorted) sort(line);\r\n    decoded.push(line);\r\n    reader.pos = semi + 1;\r\n  } while (reader.pos <= length);\r\n\r\n  return decoded;\r\n}\r\n\r\nfunction sort(line: SourceMapSegment[]) {\r\n  line.sort(sortComparator);\r\n}\r\n\r\nfunction sortComparator(a: SourceMapSegment, b: SourceMapSegment): number {\r\n  return a[0] - b[0];\r\n}\r\n\r\nexport function encode(decoded: SourceMapMappings): string;\r\nexport function encode(decoded: Readonly<SourceMapMappings>): string;\r\nexport function encode(decoded: Readonly<SourceMapMappings>): string {\r\n  const writer = new StringWriter();\r\n  let sourcesIndex = 0;\r\n  let sourceLine = 0;\r\n  let sourceColumn = 0;\r\n  let namesIndex = 0;\r\n\r\n  for (let i = 0; i < decoded.length; i++) {\r\n    const line = decoded[i];\r\n    if (i > 0) writer.write(semicolon);\r\n    if (line.length === 0) continue;\r\n\r\n    let genColumn = 0;\r\n\r\n    for (let j = 0; j < line.length; j++) {\r\n      const segment = line[j];\r\n      if (j > 0) writer.write(comma);\r\n\r\n      genColumn = encodeInteger(writer, segment[0], genColumn);\r\n\r\n      if (segment.length === 1) continue;\r\n      sourcesIndex = encodeInteger(writer, segment[1], sourcesIndex);\r\n      sourceLine = encodeInteger(writer, segment[2], sourceLine);\r\n      sourceColumn = encodeInteger(writer, segment[3], sourceColumn);\r\n\r\n      if (segment.length === 4) continue;\r\n      namesIndex = encodeInteger(writer, segment[4], namesIndex);\r\n    }\r\n  }\r\n\r\n  return writer.flush();\r\n}\r\n", "export default class BitSet {\n\tconstructor(arg) {\n\t\tthis.bits = arg instanceof BitSet ? arg.bits.slice() : [];\n\t}\n\n\tadd(n) {\n\t\tthis.bits[n >> 5] |= 1 << (n & 31);\n\t}\n\n\thas(n) {\n\t\treturn !!(this.bits[n >> 5] & (1 << (n & 31)));\n\t}\n}\n", "export default class Chunk {\n\tconstructor(start, end, content) {\n\t\tthis.start = start;\n\t\tthis.end = end;\n\t\tthis.original = content;\n\n\t\tthis.intro = '';\n\t\tthis.outro = '';\n\n\t\tthis.content = content;\n\t\tthis.storeName = false;\n\t\tthis.edited = false;\n\n\t\tif (DEBUG) {\n\t\t\t// we make these non-enumerable, for sanity while debugging\n\t\t\tObject.defineProperties(this, {\n\t\t\t\tprevious: { writable: true, value: null },\n\t\t\t\tnext: { writable: true, value: null },\n\t\t\t});\n\t\t} else {\n\t\t\tthis.previous = null;\n\t\t\tthis.next = null;\n\t\t}\n\t}\n\n\tappendLeft(content) {\n\t\tthis.outro += content;\n\t}\n\n\tappendRight(content) {\n\t\tthis.intro = this.intro + content;\n\t}\n\n\tclone() {\n\t\tconst chunk = new Chunk(this.start, this.end, this.original);\n\n\t\tchunk.intro = this.intro;\n\t\tchunk.outro = this.outro;\n\t\tchunk.content = this.content;\n\t\tchunk.storeName = this.storeName;\n\t\tchunk.edited = this.edited;\n\n\t\treturn chunk;\n\t}\n\n\tcontains(index) {\n\t\treturn this.start < index && index < this.end;\n\t}\n\n\teachNext(fn) {\n\t\tlet chunk = this;\n\t\twhile (chunk) {\n\t\t\tfn(chunk);\n\t\t\tchunk = chunk.next;\n\t\t}\n\t}\n\n\teachPrevious(fn) {\n\t\tlet chunk = this;\n\t\twhile (chunk) {\n\t\t\tfn(chunk);\n\t\t\tchunk = chunk.previous;\n\t\t}\n\t}\n\n\tedit(content, storeName, contentOnly) {\n\t\tthis.content = content;\n\t\tif (!contentOnly) {\n\t\t\tthis.intro = '';\n\t\t\tthis.outro = '';\n\t\t}\n\t\tthis.storeName = storeName;\n\n\t\tthis.edited = true;\n\n\t\treturn this;\n\t}\n\n\tprependLeft(content) {\n\t\tthis.outro = content + this.outro;\n\t}\n\n\tprependRight(content) {\n\t\tthis.intro = content + this.intro;\n\t}\n\n\treset() {\n\t\tthis.intro = '';\n\t\tthis.outro = '';\n\t\tif (this.edited) {\n\t\t\tthis.content = this.original;\n\t\t\tthis.storeName = false;\n\t\t\tthis.edited = false;\n\t\t}\n\t}\n\n\tsplit(index) {\n\t\tconst sliceIndex = index - this.start;\n\n\t\tconst originalBefore = this.original.slice(0, sliceIndex);\n\t\tconst originalAfter = this.original.slice(sliceIndex);\n\n\t\tthis.original = originalBefore;\n\n\t\tconst newChunk = new Chunk(index, this.end, originalAfter);\n\t\tnewChunk.outro = this.outro;\n\t\tthis.outro = '';\n\n\t\tthis.end = index;\n\n\t\tif (this.edited) {\n\t\t\t// after split we should save the edit content record into the correct chunk\n\t\t\t// to make sure sourcemap correct\n\t\t\t// For example:\n\t\t\t// '  test'.trim()\n\t\t\t//     split   -> '  ' + 'test'\n\t\t\t//   ✔️ edit    -> '' + 'test'\n\t\t\t//   ✖️ edit    -> 'test' + ''\n\t\t\t// TODO is this block necessary?...\n\t\t\tnewChunk.edit('', false);\n\t\t\tthis.content = '';\n\t\t} else {\n\t\t\tthis.content = originalBefore;\n\t\t}\n\n\t\tnewChunk.next = this.next;\n\t\tif (newChunk.next) newChunk.next.previous = newChunk;\n\t\tnewChunk.previous = this;\n\t\tthis.next = newChunk;\n\n\t\treturn newChunk;\n\t}\n\n\ttoString() {\n\t\treturn this.intro + this.content + this.outro;\n\t}\n\n\ttrimEnd(rx) {\n\t\tthis.outro = this.outro.replace(rx, '');\n\t\tif (this.outro.length) return true;\n\n\t\tconst trimmed = this.content.replace(rx, '');\n\n\t\tif (trimmed.length) {\n\t\t\tif (trimmed !== this.content) {\n\t\t\t\tthis.split(this.start + trimmed.length).edit('', undefined, true);\n\t\t\t\tif (this.edited) {\n\t\t\t\t\t// save the change, if it has been edited\n\t\t\t\t\tthis.edit(trimmed, this.storeName, true);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t} else {\n\t\t\tthis.edit('', undefined, true);\n\n\t\t\tthis.intro = this.intro.replace(rx, '');\n\t\t\tif (this.intro.length) return true;\n\t\t}\n\t}\n\n\ttrimStart(rx) {\n\t\tthis.intro = this.intro.replace(rx, '');\n\t\tif (this.intro.length) return true;\n\n\t\tconst trimmed = this.content.replace(rx, '');\n\n\t\tif (trimmed.length) {\n\t\t\tif (trimmed !== this.content) {\n\t\t\t\tconst newChunk = this.split(this.end - trimmed.length);\n\t\t\t\tif (this.edited) {\n\t\t\t\t\t// save the change, if it has been edited\n\t\t\t\t\tnewChunk.edit(trimmed, this.storeName, true);\n\t\t\t\t}\n\t\t\t\tthis.edit('', undefined, true);\n\t\t\t}\n\t\t\treturn true;\n\t\t} else {\n\t\t\tthis.edit('', undefined, true);\n\n\t\t\tthis.outro = this.outro.replace(rx, '');\n\t\t\tif (this.outro.length) return true;\n\t\t}\n\t}\n}\n", "import { encode } from '@jridgewell/sourcemap-codec';\n\nfunction getBtoa() {\n\tif (typeof globalThis !== 'undefined' && typeof globalThis.btoa === 'function') {\n\t\treturn (str) => globalThis.btoa(unescape(encodeURIComponent(str)));\n\t} else if (typeof Buffer === 'function') {\n\t\treturn (str) => Buffer.from(str, 'utf-8').toString('base64');\n\t} else {\n\t\treturn () => {\n\t\t\tthrow new Error('Unsupported environment: `window.btoa` or `Buffer` should be supported.');\n\t\t};\n\t}\n}\n\nconst btoa = /*#__PURE__*/ getBtoa();\n\nexport default class SourceMap {\n\tconstructor(properties) {\n\t\tthis.version = 3;\n\t\tthis.file = properties.file;\n\t\tthis.sources = properties.sources;\n\t\tthis.sourcesContent = properties.sourcesContent;\n\t\tthis.names = properties.names;\n\t\tthis.mappings = encode(properties.mappings);\n\t\tif (typeof properties.x_google_ignoreList !== 'undefined') {\n\t\t\tthis.x_google_ignoreList = properties.x_google_ignoreList;\n\t\t}\n\t\tif (typeof properties.debugId !== 'undefined') {\n\t\t\tthis.debugId = properties.debugId;\n\t\t}\n\t}\n\n\ttoString() {\n\t\treturn JSON.stringify(this);\n\t}\n\n\ttoUrl() {\n\t\treturn 'data:application/json;charset=utf-8;base64,' + btoa(this.toString());\n\t}\n}\n", "export default function guessIndent(code) {\n\tconst lines = code.split('\\n');\n\n\tconst tabbed = lines.filter((line) => /^\\t+/.test(line));\n\tconst spaced = lines.filter((line) => /^ {2,}/.test(line));\n\n\tif (tabbed.length === 0 && spaced.length === 0) {\n\t\treturn null;\n\t}\n\n\t// More lines tabbed than spaced? Assume tabs, and\n\t// default to tabs in the case of a tie (or nothing\n\t// to go on)\n\tif (tabbed.length >= spaced.length) {\n\t\treturn '\\t';\n\t}\n\n\t// Otherwise, we need to guess the multiple\n\tconst min = spaced.reduce((previous, current) => {\n\t\tconst numSpaces = /^ +/.exec(current)[0].length;\n\t\treturn Math.min(numSpaces, previous);\n\t}, Infinity);\n\n\treturn new Array(min + 1).join(' ');\n}\n", "export default function getRelativePath(from, to) {\n\tconst fromParts = from.split(/[/\\\\]/);\n\tconst toParts = to.split(/[/\\\\]/);\n\n\tfromParts.pop(); // get dirname\n\n\twhile (fromParts[0] === toParts[0]) {\n\t\tfromParts.shift();\n\t\ttoParts.shift();\n\t}\n\n\tif (fromParts.length) {\n\t\tlet i = fromParts.length;\n\t\twhile (i--) fromParts[i] = '..';\n\t}\n\n\treturn fromParts.concat(toParts).join('/');\n}\n", "const toString = Object.prototype.toString;\n\nexport default function isObject(thing) {\n\treturn toString.call(thing) === '[object Object]';\n}\n", "export default function getLocator(source) {\n\tconst originalLines = source.split('\\n');\n\tconst lineOffsets = [];\n\n\tfor (let i = 0, pos = 0; i < originalLines.length; i++) {\n\t\tlineOffsets.push(pos);\n\t\tpos += originalLines[i].length + 1;\n\t}\n\n\treturn function locate(index) {\n\t\tlet i = 0;\n\t\tlet j = lineOffsets.length;\n\t\twhile (i < j) {\n\t\t\tconst m = (i + j) >> 1;\n\t\t\tif (index < lineOffsets[m]) {\n\t\t\t\tj = m;\n\t\t\t} else {\n\t\t\t\ti = m + 1;\n\t\t\t}\n\t\t}\n\t\tconst line = i - 1;\n\t\tconst column = index - lineOffsets[line];\n\t\treturn { line, column };\n\t};\n}\n", "const wordRegex = /\\w/;\n\nexport default class Mappings {\n\tconstructor(hires) {\n\t\tthis.hires = hires;\n\t\tthis.generatedCodeLine = 0;\n\t\tthis.generatedCodeColumn = 0;\n\t\tthis.raw = [];\n\t\tthis.rawSegments = this.raw[this.generatedCodeLine] = [];\n\t\tthis.pending = null;\n\t}\n\n\taddEdit(sourceIndex, content, loc, nameIndex) {\n\t\tif (content.length) {\n\t\t\tconst contentLengthMinusOne = content.length - 1;\n\t\t\tlet contentLineEnd = content.indexOf('\\n', 0);\n\t\t\tlet previousContentLineEnd = -1;\n\t\t\t// Loop through each line in the content and add a segment, but stop if the last line is empty,\n\t\t\t// else code afterwards would fill one line too many\n\t\t\twhile (contentLineEnd >= 0 && contentLengthMinusOne > contentLineEnd) {\n\t\t\t\tconst segment = [this.generatedCodeColumn, sourceIndex, loc.line, loc.column];\n\t\t\t\tif (nameIndex >= 0) {\n\t\t\t\t\tsegment.push(nameIndex);\n\t\t\t\t}\n\t\t\t\tthis.rawSegments.push(segment);\n\n\t\t\t\tthis.generatedCodeLine += 1;\n\t\t\t\tthis.raw[this.generatedCodeLine] = this.rawSegments = [];\n\t\t\t\tthis.generatedCodeColumn = 0;\n\n\t\t\t\tpreviousContentLineEnd = contentLineEnd;\n\t\t\t\tcontentLineEnd = content.indexOf('\\n', contentLineEnd + 1);\n\t\t\t}\n\n\t\t\tconst segment = [this.generatedCodeColumn, sourceIndex, loc.line, loc.column];\n\t\t\tif (nameIndex >= 0) {\n\t\t\t\tsegment.push(nameIndex);\n\t\t\t}\n\t\t\tthis.rawSegments.push(segment);\n\n\t\t\tthis.advance(content.slice(previousContentLineEnd + 1));\n\t\t} else if (this.pending) {\n\t\t\tthis.rawSegments.push(this.pending);\n\t\t\tthis.advance(content);\n\t\t}\n\n\t\tthis.pending = null;\n\t}\n\n\taddUneditedChunk(sourceIndex, chunk, original, loc, sourcemapLocations) {\n\t\tlet originalCharIndex = chunk.start;\n\t\tlet first = true;\n\t\t// when iterating each char, check if it's in a word boundary\n\t\tlet charInHiresBoundary = false;\n\n\t\twhile (originalCharIndex < chunk.end) {\n\t\t\tif (original[originalCharIndex] === '\\n') {\n\t\t\t\tloc.line += 1;\n\t\t\t\tloc.column = 0;\n\t\t\t\tthis.generatedCodeLine += 1;\n\t\t\t\tthis.raw[this.generatedCodeLine] = this.rawSegments = [];\n\t\t\t\tthis.generatedCodeColumn = 0;\n\t\t\t\tfirst = true;\n\t\t\t\tcharInHiresBoundary = false;\n\t\t\t} else {\n\t\t\t\tif (this.hires || first || sourcemapLocations.has(originalCharIndex)) {\n\t\t\t\t\tconst segment = [this.generatedCodeColumn, sourceIndex, loc.line, loc.column];\n\n\t\t\t\t\tif (this.hires === 'boundary') {\n\t\t\t\t\t\t// in hires \"boundary\", group segments per word boundary than per char\n\t\t\t\t\t\tif (wordRegex.test(original[originalCharIndex])) {\n\t\t\t\t\t\t\t// for first char in the boundary found, start the boundary by pushing a segment\n\t\t\t\t\t\t\tif (!charInHiresBoundary) {\n\t\t\t\t\t\t\t\tthis.rawSegments.push(segment);\n\t\t\t\t\t\t\t\tcharInHiresBoundary = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// for non-word char, end the boundary by pushing a segment\n\t\t\t\t\t\t\tthis.rawSegments.push(segment);\n\t\t\t\t\t\t\tcharInHiresBoundary = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.rawSegments.push(segment);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tloc.column += 1;\n\t\t\t\tthis.generatedCodeColumn += 1;\n\t\t\t\tfirst = false;\n\t\t\t}\n\n\t\t\toriginalCharIndex += 1;\n\t\t}\n\n\t\tthis.pending = null;\n\t}\n\n\tadvance(str) {\n\t\tif (!str) return;\n\n\t\tconst lines = str.split('\\n');\n\n\t\tif (lines.length > 1) {\n\t\t\tfor (let i = 0; i < lines.length - 1; i++) {\n\t\t\t\tthis.generatedCodeLine++;\n\t\t\t\tthis.raw[this.generatedCodeLine] = this.rawSegments = [];\n\t\t\t}\n\t\t\tthis.generatedCodeColumn = 0;\n\t\t}\n\n\t\tthis.generatedCodeColumn += lines[lines.length - 1].length;\n\t}\n}\n", "import BitSet from './BitSet.js';\nimport Chunk from './Chunk.js';\nimport SourceMap from './SourceMap.js';\nimport guessIndent from './utils/guessIndent.js';\nimport getRelativePath from './utils/getRelativePath.js';\nimport isObject from './utils/isObject.js';\nimport getLocator from './utils/getLocator.js';\nimport Mappings from './utils/Mappings.js';\nimport Stats from './utils/Stats.js';\n\nconst n = '\\n';\n\nconst warned = {\n\tinsertLeft: false,\n\tinsertRight: false,\n\tstoreName: false,\n};\n\nexport default class MagicString {\n\tconstructor(string, options = {}) {\n\t\tconst chunk = new Chunk(0, string.length, string);\n\n\t\tObject.defineProperties(this, {\n\t\t\toriginal: { writable: true, value: string },\n\t\t\toutro: { writable: true, value: '' },\n\t\t\tintro: { writable: true, value: '' },\n\t\t\tfirstChunk: { writable: true, value: chunk },\n\t\t\tlastChunk: { writable: true, value: chunk },\n\t\t\tlastSearchedChunk: { writable: true, value: chunk },\n\t\t\tbyStart: { writable: true, value: {} },\n\t\t\tbyEnd: { writable: true, value: {} },\n\t\t\tfilename: { writable: true, value: options.filename },\n\t\t\tindentExclusionRanges: { writable: true, value: options.indentExclusionRanges },\n\t\t\tsourcemapLocations: { writable: true, value: new BitSet() },\n\t\t\tstoredNames: { writable: true, value: {} },\n\t\t\tindentStr: { writable: true, value: undefined },\n\t\t\tignoreList: { writable: true, value: options.ignoreList },\n\t\t\toffset: { writable: true, value: options.offset || 0 },\n\t\t});\n\n\t\tif (DEBUG) {\n\t\t\tObject.defineProperty(this, 'stats', { value: new Stats() });\n\t\t}\n\n\t\tthis.byStart[0] = chunk;\n\t\tthis.byEnd[string.length] = chunk;\n\t}\n\n\taddSourcemapLocation(char) {\n\t\tthis.sourcemapLocations.add(char);\n\t}\n\n\tappend(content) {\n\t\tif (typeof content !== 'string') throw new TypeError('outro content must be a string');\n\n\t\tthis.outro += content;\n\t\treturn this;\n\t}\n\n\tappendLeft(index, content) {\n\t\tindex = index + this.offset;\n\n\t\tif (typeof content !== 'string') throw new TypeError('inserted content must be a string');\n\n\t\tif (DEBUG) this.stats.time('appendLeft');\n\n\t\tthis._split(index);\n\n\t\tconst chunk = this.byEnd[index];\n\n\t\tif (chunk) {\n\t\t\tchunk.appendLeft(content);\n\t\t} else {\n\t\t\tthis.intro += content;\n\t\t}\n\n\t\tif (DEBUG) this.stats.timeEnd('appendLeft');\n\t\treturn this;\n\t}\n\n\tappendRight(index, content) {\n\t\tindex = index + this.offset;\n\n\t\tif (typeof content !== 'string') throw new TypeError('inserted content must be a string');\n\n\t\tif (DEBUG) this.stats.time('appendRight');\n\n\t\tthis._split(index);\n\n\t\tconst chunk = this.byStart[index];\n\n\t\tif (chunk) {\n\t\t\tchunk.appendRight(content);\n\t\t} else {\n\t\t\tthis.outro += content;\n\t\t}\n\n\t\tif (DEBUG) this.stats.timeEnd('appendRight');\n\t\treturn this;\n\t}\n\n\tclone() {\n\t\tconst cloned = new MagicString(this.original, { filename: this.filename, offset: this.offset });\n\n\t\tlet originalChunk = this.firstChunk;\n\t\tlet clonedChunk = (cloned.firstChunk = cloned.lastSearchedChunk = originalChunk.clone());\n\n\t\twhile (originalChunk) {\n\t\t\tcloned.byStart[clonedChunk.start] = clonedChunk;\n\t\t\tcloned.byEnd[clonedChunk.end] = clonedChunk;\n\n\t\t\tconst nextOriginalChunk = originalChunk.next;\n\t\t\tconst nextClonedChunk = nextOriginalChunk && nextOriginalChunk.clone();\n\n\t\t\tif (nextClonedChunk) {\n\t\t\t\tclonedChunk.next = nextClonedChunk;\n\t\t\t\tnextClonedChunk.previous = clonedChunk;\n\n\t\t\t\tclonedChunk = nextClonedChunk;\n\t\t\t}\n\n\t\t\toriginalChunk = nextOriginalChunk;\n\t\t}\n\n\t\tcloned.lastChunk = clonedChunk;\n\n\t\tif (this.indentExclusionRanges) {\n\t\t\tcloned.indentExclusionRanges = this.indentExclusionRanges.slice();\n\t\t}\n\n\t\tcloned.sourcemapLocations = new BitSet(this.sourcemapLocations);\n\n\t\tcloned.intro = this.intro;\n\t\tcloned.outro = this.outro;\n\n\t\treturn cloned;\n\t}\n\n\tgenerateDecodedMap(options) {\n\t\toptions = options || {};\n\n\t\tconst sourceIndex = 0;\n\t\tconst names = Object.keys(this.storedNames);\n\t\tconst mappings = new Mappings(options.hires);\n\n\t\tconst locate = getLocator(this.original);\n\n\t\tif (this.intro) {\n\t\t\tmappings.advance(this.intro);\n\t\t}\n\n\t\tthis.firstChunk.eachNext((chunk) => {\n\t\t\tconst loc = locate(chunk.start);\n\n\t\t\tif (chunk.intro.length) mappings.advance(chunk.intro);\n\n\t\t\tif (chunk.edited) {\n\t\t\t\tmappings.addEdit(\n\t\t\t\t\tsourceIndex,\n\t\t\t\t\tchunk.content,\n\t\t\t\t\tloc,\n\t\t\t\t\tchunk.storeName ? names.indexOf(chunk.original) : -1,\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tmappings.addUneditedChunk(sourceIndex, chunk, this.original, loc, this.sourcemapLocations);\n\t\t\t}\n\n\t\t\tif (chunk.outro.length) mappings.advance(chunk.outro);\n\t\t});\n\n\t\tif (this.outro) {\n\t\t\tmappings.advance(this.outro);\n\t\t}\n\n\t\treturn {\n\t\t\tfile: options.file ? options.file.split(/[/\\\\]/).pop() : undefined,\n\t\t\tsources: [\n\t\t\t\toptions.source ? getRelativePath(options.file || '', options.source) : options.file || '',\n\t\t\t],\n\t\t\tsourcesContent: options.includeContent ? [this.original] : undefined,\n\t\t\tnames,\n\t\t\tmappings: mappings.raw,\n\t\t\tx_google_ignoreList: this.ignoreList ? [sourceIndex] : undefined,\n\t\t};\n\t}\n\n\tgenerateMap(options) {\n\t\treturn new SourceMap(this.generateDecodedMap(options));\n\t}\n\n\t_ensureindentStr() {\n\t\tif (this.indentStr === undefined) {\n\t\t\tthis.indentStr = guessIndent(this.original);\n\t\t}\n\t}\n\n\t_getRawIndentString() {\n\t\tthis._ensureindentStr();\n\t\treturn this.indentStr;\n\t}\n\n\tgetIndentString() {\n\t\tthis._ensureindentStr();\n\t\treturn this.indentStr === null ? '\\t' : this.indentStr;\n\t}\n\n\tindent(indentStr, options) {\n\t\tconst pattern = /^[^\\r\\n]/gm;\n\n\t\tif (isObject(indentStr)) {\n\t\t\toptions = indentStr;\n\t\t\tindentStr = undefined;\n\t\t}\n\n\t\tif (indentStr === undefined) {\n\t\t\tthis._ensureindentStr();\n\t\t\tindentStr = this.indentStr || '\\t';\n\t\t}\n\n\t\tif (indentStr === '') return this; // noop\n\n\t\toptions = options || {};\n\n\t\t// Process exclusion ranges\n\t\tconst isExcluded = {};\n\n\t\tif (options.exclude) {\n\t\t\tconst exclusions =\n\t\t\t\ttypeof options.exclude[0] === 'number' ? [options.exclude] : options.exclude;\n\t\t\texclusions.forEach((exclusion) => {\n\t\t\t\tfor (let i = exclusion[0]; i < exclusion[1]; i += 1) {\n\t\t\t\t\tisExcluded[i] = true;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tlet shouldIndentNextCharacter = options.indentStart !== false;\n\t\tconst replacer = (match) => {\n\t\t\tif (shouldIndentNextCharacter) return `${indentStr}${match}`;\n\t\t\tshouldIndentNextCharacter = true;\n\t\t\treturn match;\n\t\t};\n\n\t\tthis.intro = this.intro.replace(pattern, replacer);\n\n\t\tlet charIndex = 0;\n\t\tlet chunk = this.firstChunk;\n\n\t\twhile (chunk) {\n\t\t\tconst end = chunk.end;\n\n\t\t\tif (chunk.edited) {\n\t\t\t\tif (!isExcluded[charIndex]) {\n\t\t\t\t\tchunk.content = chunk.content.replace(pattern, replacer);\n\n\t\t\t\t\tif (chunk.content.length) {\n\t\t\t\t\t\tshouldIndentNextCharacter = chunk.content[chunk.content.length - 1] === '\\n';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcharIndex = chunk.start;\n\n\t\t\t\twhile (charIndex < end) {\n\t\t\t\t\tif (!isExcluded[charIndex]) {\n\t\t\t\t\t\tconst char = this.original[charIndex];\n\n\t\t\t\t\t\tif (char === '\\n') {\n\t\t\t\t\t\t\tshouldIndentNextCharacter = true;\n\t\t\t\t\t\t} else if (char !== '\\r' && shouldIndentNextCharacter) {\n\t\t\t\t\t\t\tshouldIndentNextCharacter = false;\n\n\t\t\t\t\t\t\tif (charIndex === chunk.start) {\n\t\t\t\t\t\t\t\tchunk.prependRight(indentStr);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis._splitChunk(chunk, charIndex);\n\t\t\t\t\t\t\t\tchunk = chunk.next;\n\t\t\t\t\t\t\t\tchunk.prependRight(indentStr);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tcharIndex += 1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tcharIndex = chunk.end;\n\t\t\tchunk = chunk.next;\n\t\t}\n\n\t\tthis.outro = this.outro.replace(pattern, replacer);\n\n\t\treturn this;\n\t}\n\n\tinsert() {\n\t\tthrow new Error(\n\t\t\t'magicString.insert(...) is deprecated. Use prependRight(...) or appendLeft(...)',\n\t\t);\n\t}\n\n\tinsertLeft(index, content) {\n\t\tif (!warned.insertLeft) {\n\t\t\tconsole.warn(\n\t\t\t\t'magicString.insertLeft(...) is deprecated. Use magicString.appendLeft(...) instead',\n\t\t\t);\n\t\t\twarned.insertLeft = true;\n\t\t}\n\n\t\treturn this.appendLeft(index, content);\n\t}\n\n\tinsertRight(index, content) {\n\t\tif (!warned.insertRight) {\n\t\t\tconsole.warn(\n\t\t\t\t'magicString.insertRight(...) is deprecated. Use magicString.prependRight(...) instead',\n\t\t\t);\n\t\t\twarned.insertRight = true;\n\t\t}\n\n\t\treturn this.prependRight(index, content);\n\t}\n\n\tmove(start, end, index) {\n\t\tstart = start + this.offset;\n\t\tend = end + this.offset;\n\t\tindex = index + this.offset;\n\n\t\tif (index >= start && index <= end) throw new Error('Cannot move a selection inside itself');\n\n\t\tif (DEBUG) this.stats.time('move');\n\n\t\tthis._split(start);\n\t\tthis._split(end);\n\t\tthis._split(index);\n\n\t\tconst first = this.byStart[start];\n\t\tconst last = this.byEnd[end];\n\n\t\tconst oldLeft = first.previous;\n\t\tconst oldRight = last.next;\n\n\t\tconst newRight = this.byStart[index];\n\t\tif (!newRight && last === this.lastChunk) return this;\n\t\tconst newLeft = newRight ? newRight.previous : this.lastChunk;\n\n\t\tif (oldLeft) oldLeft.next = oldRight;\n\t\tif (oldRight) oldRight.previous = oldLeft;\n\n\t\tif (newLeft) newLeft.next = first;\n\t\tif (newRight) newRight.previous = last;\n\n\t\tif (!first.previous) this.firstChunk = last.next;\n\t\tif (!last.next) {\n\t\t\tthis.lastChunk = first.previous;\n\t\t\tthis.lastChunk.next = null;\n\t\t}\n\n\t\tfirst.previous = newLeft;\n\t\tlast.next = newRight || null;\n\n\t\tif (!newLeft) this.firstChunk = first;\n\t\tif (!newRight) this.lastChunk = last;\n\n\t\tif (DEBUG) this.stats.timeEnd('move');\n\t\treturn this;\n\t}\n\n\toverwrite(start, end, content, options) {\n\t\toptions = options || {};\n\t\treturn this.update(start, end, content, { ...options, overwrite: !options.contentOnly });\n\t}\n\n\tupdate(start, end, content, options) {\n\t\tstart = start + this.offset;\n\t\tend = end + this.offset;\n\n\t\tif (typeof content !== 'string') throw new TypeError('replacement content must be a string');\n\n\t\tif (this.original.length !== 0) {\n\t\t\twhile (start < 0) start += this.original.length;\n\t\t\twhile (end < 0) end += this.original.length;\n\t\t}\n\n\t\tif (end > this.original.length) throw new Error('end is out of bounds');\n\t\tif (start === end)\n\t\t\tthrow new Error(\n\t\t\t\t'Cannot overwrite a zero-length range – use appendLeft or prependRight instead',\n\t\t\t);\n\n\t\tif (DEBUG) this.stats.time('overwrite');\n\n\t\tthis._split(start);\n\t\tthis._split(end);\n\n\t\tif (options === true) {\n\t\t\tif (!warned.storeName) {\n\t\t\t\tconsole.warn(\n\t\t\t\t\t'The final argument to magicString.overwrite(...) should be an options object. See https://github.com/rich-harris/magic-string',\n\t\t\t\t);\n\t\t\t\twarned.storeName = true;\n\t\t\t}\n\n\t\t\toptions = { storeName: true };\n\t\t}\n\t\tconst storeName = options !== undefined ? options.storeName : false;\n\t\tconst overwrite = options !== undefined ? options.overwrite : false;\n\n\t\tif (storeName) {\n\t\t\tconst original = this.original.slice(start, end);\n\t\t\tObject.defineProperty(this.storedNames, original, {\n\t\t\t\twritable: true,\n\t\t\t\tvalue: true,\n\t\t\t\tenumerable: true,\n\t\t\t});\n\t\t}\n\n\t\tconst first = this.byStart[start];\n\t\tconst last = this.byEnd[end];\n\n\t\tif (first) {\n\t\t\tlet chunk = first;\n\t\t\twhile (chunk !== last) {\n\t\t\t\tif (chunk.next !== this.byStart[chunk.end]) {\n\t\t\t\t\tthrow new Error('Cannot overwrite across a split point');\n\t\t\t\t}\n\t\t\t\tchunk = chunk.next;\n\t\t\t\tchunk.edit('', false);\n\t\t\t}\n\n\t\t\tfirst.edit(content, storeName, !overwrite);\n\t\t} else {\n\t\t\t// must be inserting at the end\n\t\t\tconst newChunk = new Chunk(start, end, '').edit(content, storeName);\n\n\t\t\t// TODO last chunk in the array may not be the last chunk, if it's moved...\n\t\t\tlast.next = newChunk;\n\t\t\tnewChunk.previous = last;\n\t\t}\n\n\t\tif (DEBUG) this.stats.timeEnd('overwrite');\n\t\treturn this;\n\t}\n\n\tprepend(content) {\n\t\tif (typeof content !== 'string') throw new TypeError('outro content must be a string');\n\n\t\tthis.intro = content + this.intro;\n\t\treturn this;\n\t}\n\n\tprependLeft(index, content) {\n\t\tindex = index + this.offset;\n\n\t\tif (typeof content !== 'string') throw new TypeError('inserted content must be a string');\n\n\t\tif (DEBUG) this.stats.time('insertRight');\n\n\t\tthis._split(index);\n\n\t\tconst chunk = this.byEnd[index];\n\n\t\tif (chunk) {\n\t\t\tchunk.prependLeft(content);\n\t\t} else {\n\t\t\tthis.intro = content + this.intro;\n\t\t}\n\n\t\tif (DEBUG) this.stats.timeEnd('insertRight');\n\t\treturn this;\n\t}\n\n\tprependRight(index, content) {\n\t\tindex = index + this.offset;\n\n\t\tif (typeof content !== 'string') throw new TypeError('inserted content must be a string');\n\n\t\tif (DEBUG) this.stats.time('insertRight');\n\n\t\tthis._split(index);\n\n\t\tconst chunk = this.byStart[index];\n\n\t\tif (chunk) {\n\t\t\tchunk.prependRight(content);\n\t\t} else {\n\t\t\tthis.outro = content + this.outro;\n\t\t}\n\n\t\tif (DEBUG) this.stats.timeEnd('insertRight');\n\t\treturn this;\n\t}\n\n\tremove(start, end) {\n\t\tstart = start + this.offset;\n\t\tend = end + this.offset;\n\n\t\tif (this.original.length !== 0) {\n\t\t\twhile (start < 0) start += this.original.length;\n\t\t\twhile (end < 0) end += this.original.length;\n\t\t}\n\n\t\tif (start === end) return this;\n\n\t\tif (start < 0 || end > this.original.length) throw new Error('Character is out of bounds');\n\t\tif (start > end) throw new Error('end must be greater than start');\n\n\t\tif (DEBUG) this.stats.time('remove');\n\n\t\tthis._split(start);\n\t\tthis._split(end);\n\n\t\tlet chunk = this.byStart[start];\n\n\t\twhile (chunk) {\n\t\t\tchunk.intro = '';\n\t\t\tchunk.outro = '';\n\t\t\tchunk.edit('');\n\n\t\t\tchunk = end > chunk.end ? this.byStart[chunk.end] : null;\n\t\t}\n\n\t\tif (DEBUG) this.stats.timeEnd('remove');\n\t\treturn this;\n\t}\n\n\treset(start, end) {\n\t\tstart = start + this.offset;\n\t\tend = end + this.offset;\n\n\t\tif (this.original.length !== 0) {\n\t\t\twhile (start < 0) start += this.original.length;\n\t\t\twhile (end < 0) end += this.original.length;\n\t\t}\n\n\t\tif (start === end) return this;\n\n\t\tif (start < 0 || end > this.original.length) throw new Error('Character is out of bounds');\n\t\tif (start > end) throw new Error('end must be greater than start');\n\n\t\tif (DEBUG) this.stats.time('reset');\n\n\t\tthis._split(start);\n\t\tthis._split(end);\n\n\t\tlet chunk = this.byStart[start];\n\n\t\twhile (chunk) {\n\t\t\tchunk.reset();\n\n\t\t\tchunk = end > chunk.end ? this.byStart[chunk.end] : null;\n\t\t}\n\n\t\tif (DEBUG) this.stats.timeEnd('reset');\n\t\treturn this;\n\t}\n\n\tlastChar() {\n\t\tif (this.outro.length) return this.outro[this.outro.length - 1];\n\t\tlet chunk = this.lastChunk;\n\t\tdo {\n\t\t\tif (chunk.outro.length) return chunk.outro[chunk.outro.length - 1];\n\t\t\tif (chunk.content.length) return chunk.content[chunk.content.length - 1];\n\t\t\tif (chunk.intro.length) return chunk.intro[chunk.intro.length - 1];\n\t\t} while ((chunk = chunk.previous));\n\t\tif (this.intro.length) return this.intro[this.intro.length - 1];\n\t\treturn '';\n\t}\n\n\tlastLine() {\n\t\tlet lineIndex = this.outro.lastIndexOf(n);\n\t\tif (lineIndex !== -1) return this.outro.substr(lineIndex + 1);\n\t\tlet lineStr = this.outro;\n\t\tlet chunk = this.lastChunk;\n\t\tdo {\n\t\t\tif (chunk.outro.length > 0) {\n\t\t\t\tlineIndex = chunk.outro.lastIndexOf(n);\n\t\t\t\tif (lineIndex !== -1) return chunk.outro.substr(lineIndex + 1) + lineStr;\n\t\t\t\tlineStr = chunk.outro + lineStr;\n\t\t\t}\n\n\t\t\tif (chunk.content.length > 0) {\n\t\t\t\tlineIndex = chunk.content.lastIndexOf(n);\n\t\t\t\tif (lineIndex !== -1) return chunk.content.substr(lineIndex + 1) + lineStr;\n\t\t\t\tlineStr = chunk.content + lineStr;\n\t\t\t}\n\n\t\t\tif (chunk.intro.length > 0) {\n\t\t\t\tlineIndex = chunk.intro.lastIndexOf(n);\n\t\t\t\tif (lineIndex !== -1) return chunk.intro.substr(lineIndex + 1) + lineStr;\n\t\t\t\tlineStr = chunk.intro + lineStr;\n\t\t\t}\n\t\t} while ((chunk = chunk.previous));\n\t\tlineIndex = this.intro.lastIndexOf(n);\n\t\tif (lineIndex !== -1) return this.intro.substr(lineIndex + 1) + lineStr;\n\t\treturn this.intro + lineStr;\n\t}\n\n\tslice(start = 0, end = this.original.length - this.offset) {\n\t\tstart = start + this.offset;\n\t\tend = end + this.offset;\n\n\t\tif (this.original.length !== 0) {\n\t\t\twhile (start < 0) start += this.original.length;\n\t\t\twhile (end < 0) end += this.original.length;\n\t\t}\n\n\t\tlet result = '';\n\n\t\t// find start chunk\n\t\tlet chunk = this.firstChunk;\n\t\twhile (chunk && (chunk.start > start || chunk.end <= start)) {\n\t\t\t// found end chunk before start\n\t\t\tif (chunk.start < end && chunk.end >= end) {\n\t\t\t\treturn result;\n\t\t\t}\n\n\t\t\tchunk = chunk.next;\n\t\t}\n\n\t\tif (chunk && chunk.edited && chunk.start !== start)\n\t\t\tthrow new Error(`Cannot use replaced character ${start} as slice start anchor.`);\n\n\t\tconst startChunk = chunk;\n\t\twhile (chunk) {\n\t\t\tif (chunk.intro && (startChunk !== chunk || chunk.start === start)) {\n\t\t\t\tresult += chunk.intro;\n\t\t\t}\n\n\t\t\tconst containsEnd = chunk.start < end && chunk.end >= end;\n\t\t\tif (containsEnd && chunk.edited && chunk.end !== end)\n\t\t\t\tthrow new Error(`Cannot use replaced character ${end} as slice end anchor.`);\n\n\t\t\tconst sliceStart = startChunk === chunk ? start - chunk.start : 0;\n\t\t\tconst sliceEnd = containsEnd ? chunk.content.length + end - chunk.end : chunk.content.length;\n\n\t\t\tresult += chunk.content.slice(sliceStart, sliceEnd);\n\n\t\t\tif (chunk.outro && (!containsEnd || chunk.end === end)) {\n\t\t\t\tresult += chunk.outro;\n\t\t\t}\n\n\t\t\tif (containsEnd) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tchunk = chunk.next;\n\t\t}\n\n\t\treturn result;\n\t}\n\n\t// TODO deprecate this? not really very useful\n\tsnip(start, end) {\n\t\tconst clone = this.clone();\n\t\tclone.remove(0, start);\n\t\tclone.remove(end, clone.original.length);\n\n\t\treturn clone;\n\t}\n\n\t_split(index) {\n\t\tif (this.byStart[index] || this.byEnd[index]) return;\n\n\t\tif (DEBUG) this.stats.time('_split');\n\n\t\tlet chunk = this.lastSearchedChunk;\n\t\tlet previousChunk = chunk;\n\t\tconst searchForward = index > chunk.end;\n\n\t\twhile (chunk) {\n\t\t\tif (chunk.contains(index)) return this._splitChunk(chunk, index);\n\n\t\t\tchunk = searchForward ? this.byStart[chunk.end] : this.byEnd[chunk.start];\n\n\t\t\t// Prevent infinite loop (e.g. via empty chunks, where start === end)\n\t\t\tif (chunk === previousChunk) return;\n\n\t\t\tpreviousChunk = chunk;\n\t\t}\n\t}\n\n\t_splitChunk(chunk, index) {\n\t\tif (chunk.edited && chunk.content.length) {\n\t\t\t// zero-length edited chunks are a special case (overlapping replacements)\n\t\t\tconst loc = getLocator(this.original)(index);\n\t\t\tthrow new Error(\n\t\t\t\t`Cannot split a chunk that has already been edited (${loc.line}:${loc.column} – \"${chunk.original}\")`,\n\t\t\t);\n\t\t}\n\n\t\tconst newChunk = chunk.split(index);\n\n\t\tthis.byEnd[index] = chunk;\n\t\tthis.byStart[index] = newChunk;\n\t\tthis.byEnd[newChunk.end] = newChunk;\n\n\t\tif (chunk === this.lastChunk) this.lastChunk = newChunk;\n\n\t\tthis.lastSearchedChunk = chunk;\n\t\tif (DEBUG) this.stats.timeEnd('_split');\n\t\treturn true;\n\t}\n\n\ttoString() {\n\t\tlet str = this.intro;\n\n\t\tlet chunk = this.firstChunk;\n\t\twhile (chunk) {\n\t\t\tstr += chunk.toString();\n\t\t\tchunk = chunk.next;\n\t\t}\n\n\t\treturn str + this.outro;\n\t}\n\n\tisEmpty() {\n\t\tlet chunk = this.firstChunk;\n\t\tdo {\n\t\t\tif (\n\t\t\t\t(chunk.intro.length && chunk.intro.trim()) ||\n\t\t\t\t(chunk.content.length && chunk.content.trim()) ||\n\t\t\t\t(chunk.outro.length && chunk.outro.trim())\n\t\t\t)\n\t\t\t\treturn false;\n\t\t} while ((chunk = chunk.next));\n\t\treturn true;\n\t}\n\n\tlength() {\n\t\tlet chunk = this.firstChunk;\n\t\tlet length = 0;\n\t\tdo {\n\t\t\tlength += chunk.intro.length + chunk.content.length + chunk.outro.length;\n\t\t} while ((chunk = chunk.next));\n\t\treturn length;\n\t}\n\n\ttrimLines() {\n\t\treturn this.trim('[\\\\r\\\\n]');\n\t}\n\n\ttrim(charType) {\n\t\treturn this.trimStart(charType).trimEnd(charType);\n\t}\n\n\ttrimEndAborted(charType) {\n\t\tconst rx = new RegExp((charType || '\\\\s') + '+$');\n\n\t\tthis.outro = this.outro.replace(rx, '');\n\t\tif (this.outro.length) return true;\n\n\t\tlet chunk = this.lastChunk;\n\n\t\tdo {\n\t\t\tconst end = chunk.end;\n\t\t\tconst aborted = chunk.trimEnd(rx);\n\n\t\t\t// if chunk was trimmed, we have a new lastChunk\n\t\t\tif (chunk.end !== end) {\n\t\t\t\tif (this.lastChunk === chunk) {\n\t\t\t\t\tthis.lastChunk = chunk.next;\n\t\t\t\t}\n\n\t\t\t\tthis.byEnd[chunk.end] = chunk;\n\t\t\t\tthis.byStart[chunk.next.start] = chunk.next;\n\t\t\t\tthis.byEnd[chunk.next.end] = chunk.next;\n\t\t\t}\n\n\t\t\tif (aborted) return true;\n\t\t\tchunk = chunk.previous;\n\t\t} while (chunk);\n\n\t\treturn false;\n\t}\n\n\ttrimEnd(charType) {\n\t\tthis.trimEndAborted(charType);\n\t\treturn this;\n\t}\n\ttrimStartAborted(charType) {\n\t\tconst rx = new RegExp('^' + (charType || '\\\\s') + '+');\n\n\t\tthis.intro = this.intro.replace(rx, '');\n\t\tif (this.intro.length) return true;\n\n\t\tlet chunk = this.firstChunk;\n\n\t\tdo {\n\t\t\tconst end = chunk.end;\n\t\t\tconst aborted = chunk.trimStart(rx);\n\n\t\t\tif (chunk.end !== end) {\n\t\t\t\t// special case...\n\t\t\t\tif (chunk === this.lastChunk) this.lastChunk = chunk.next;\n\n\t\t\t\tthis.byEnd[chunk.end] = chunk;\n\t\t\t\tthis.byStart[chunk.next.start] = chunk.next;\n\t\t\t\tthis.byEnd[chunk.next.end] = chunk.next;\n\t\t\t}\n\n\t\t\tif (aborted) return true;\n\t\t\tchunk = chunk.next;\n\t\t} while (chunk);\n\n\t\treturn false;\n\t}\n\n\ttrimStart(charType) {\n\t\tthis.trimStartAborted(charType);\n\t\treturn this;\n\t}\n\n\thasChanged() {\n\t\treturn this.original !== this.toString();\n\t}\n\n\t_replaceRegexp(searchValue, replacement) {\n\t\tfunction getReplacement(match, str) {\n\t\t\tif (typeof replacement === 'string') {\n\t\t\t\treturn replacement.replace(/\\$(\\$|&|\\d+)/g, (_, i) => {\n\t\t\t\t\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace#specifying_a_string_as_a_parameter\n\t\t\t\t\tif (i === '$') return '$';\n\t\t\t\t\tif (i === '&') return match[0];\n\t\t\t\t\tconst num = +i;\n\t\t\t\t\tif (num < match.length) return match[+i];\n\t\t\t\t\treturn `$${i}`;\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\treturn replacement(...match, match.index, str, match.groups);\n\t\t\t}\n\t\t}\n\t\tfunction matchAll(re, str) {\n\t\t\tlet match;\n\t\t\tconst matches = [];\n\t\t\twhile ((match = re.exec(str))) {\n\t\t\t\tmatches.push(match);\n\t\t\t}\n\t\t\treturn matches;\n\t\t}\n\t\tif (searchValue.global) {\n\t\t\tconst matches = matchAll(searchValue, this.original);\n\t\t\tmatches.forEach((match) => {\n\t\t\t\tif (match.index != null) {\n\t\t\t\t\tconst replacement = getReplacement(match, this.original);\n\t\t\t\t\tif (replacement !== match[0]) {\n\t\t\t\t\t\tthis.overwrite(match.index, match.index + match[0].length, replacement);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tconst match = this.original.match(searchValue);\n\t\t\tif (match && match.index != null) {\n\t\t\t\tconst replacement = getReplacement(match, this.original);\n\t\t\t\tif (replacement !== match[0]) {\n\t\t\t\t\tthis.overwrite(match.index, match.index + match[0].length, replacement);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t}\n\n\t_replaceString(string, replacement) {\n\t\tconst { original } = this;\n\t\tconst index = original.indexOf(string);\n\n\t\tif (index !== -1) {\n\t\t\tif (typeof replacement === 'function') {\n\t\t\t\treplacement = replacement(string, index, original);\n\t\t\t}\n\t\t\tif (string !== replacement) {\n\t\t\t\tthis.overwrite(index, index + string.length, replacement);\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t}\n\n\treplace(searchValue, replacement) {\n\t\tif (typeof searchValue === 'string') {\n\t\t\treturn this._replaceString(searchValue, replacement);\n\t\t}\n\n\t\treturn this._replaceRegexp(searchValue, replacement);\n\t}\n\n\t_replaceAllString(string, replacement) {\n\t\tconst { original } = this;\n\t\tconst stringLength = string.length;\n\t\tfor (\n\t\t\tlet index = original.indexOf(string);\n\t\t\tindex !== -1;\n\t\t\tindex = original.indexOf(string, index + stringLength)\n\t\t) {\n\t\t\tconst previous = original.slice(index, index + stringLength);\n\t\t\tlet _replacement = replacement;\n\t\t\tif (typeof replacement === 'function') {\n\t\t\t\t_replacement = replacement(previous, index, original);\n\t\t\t}\n\t\t\tif (previous !== _replacement) this.overwrite(index, index + stringLength, _replacement);\n\t\t}\n\n\t\treturn this;\n\t}\n\n\treplaceAll(searchValue, replacement) {\n\t\tif (typeof searchValue === 'string') {\n\t\t\treturn this._replaceAllString(searchValue, replacement);\n\t\t}\n\n\t\tif (!searchValue.global) {\n\t\t\tthrow new TypeError(\n\t\t\t\t'MagicString.prototype.replaceAll called with a non-global RegExp argument',\n\t\t\t);\n\t\t}\n\n\t\treturn this._replaceRegexp(searchValue, replacement);\n\t}\n}\n", "import MagicString from './MagicString.js';\nimport SourceMap from './SourceMap.js';\nimport getRelativePath from './utils/getRelativePath.js';\nimport isObject from './utils/isObject.js';\nimport getLocator from './utils/getLocator.js';\nimport Mappings from './utils/Mappings.js';\n\nconst hasOwnProp = Object.prototype.hasOwnProperty;\n\nexport default class Bundle {\n\tconstructor(options = {}) {\n\t\tthis.intro = options.intro || '';\n\t\tthis.separator = options.separator !== undefined ? options.separator : '\\n';\n\t\tthis.sources = [];\n\t\tthis.uniqueSources = [];\n\t\tthis.uniqueSourceIndexByFilename = {};\n\t}\n\n\taddSource(source) {\n\t\tif (source instanceof MagicString) {\n\t\t\treturn this.addSource({\n\t\t\t\tcontent: source,\n\t\t\t\tfilename: source.filename,\n\t\t\t\tseparator: this.separator,\n\t\t\t});\n\t\t}\n\n\t\tif (!isObject(source) || !source.content) {\n\t\t\tthrow new Error(\n\t\t\t\t'bundle.addSource() takes an object with a `content` property, which should be an instance of MagicString, and an optional `filename`',\n\t\t\t);\n\t\t}\n\n\t\t['filename', 'ignoreList', 'indentExclusionRanges', 'separator'].forEach((option) => {\n\t\t\tif (!hasOwnProp.call(source, option)) source[option] = source.content[option];\n\t\t});\n\n\t\tif (source.separator === undefined) {\n\t\t\t// TODO there's a bunch of this sort of thing, needs cleaning up\n\t\t\tsource.separator = this.separator;\n\t\t}\n\n\t\tif (source.filename) {\n\t\t\tif (!hasOwnProp.call(this.uniqueSourceIndexByFilename, source.filename)) {\n\t\t\t\tthis.uniqueSourceIndexByFilename[source.filename] = this.uniqueSources.length;\n\t\t\t\tthis.uniqueSources.push({ filename: source.filename, content: source.content.original });\n\t\t\t} else {\n\t\t\t\tconst uniqueSource = this.uniqueSources[this.uniqueSourceIndexByFilename[source.filename]];\n\t\t\t\tif (source.content.original !== uniqueSource.content) {\n\t\t\t\t\tthrow new Error(`Illegal source: same filename (${source.filename}), different contents`);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.sources.push(source);\n\t\treturn this;\n\t}\n\n\tappend(str, options) {\n\t\tthis.addSource({\n\t\t\tcontent: new MagicString(str),\n\t\t\tseparator: (options && options.separator) || '',\n\t\t});\n\n\t\treturn this;\n\t}\n\n\tclone() {\n\t\tconst bundle = new Bundle({\n\t\t\tintro: this.intro,\n\t\t\tseparator: this.separator,\n\t\t});\n\n\t\tthis.sources.forEach((source) => {\n\t\t\tbundle.addSource({\n\t\t\t\tfilename: source.filename,\n\t\t\t\tcontent: source.content.clone(),\n\t\t\t\tseparator: source.separator,\n\t\t\t});\n\t\t});\n\n\t\treturn bundle;\n\t}\n\n\tgenerateDecodedMap(options = {}) {\n\t\tconst names = [];\n\t\tlet x_google_ignoreList = undefined;\n\t\tthis.sources.forEach((source) => {\n\t\t\tObject.keys(source.content.storedNames).forEach((name) => {\n\t\t\t\tif (!~names.indexOf(name)) names.push(name);\n\t\t\t});\n\t\t});\n\n\t\tconst mappings = new Mappings(options.hires);\n\n\t\tif (this.intro) {\n\t\t\tmappings.advance(this.intro);\n\t\t}\n\n\t\tthis.sources.forEach((source, i) => {\n\t\t\tif (i > 0) {\n\t\t\t\tmappings.advance(this.separator);\n\t\t\t}\n\n\t\t\tconst sourceIndex = source.filename ? this.uniqueSourceIndexByFilename[source.filename] : -1;\n\t\t\tconst magicString = source.content;\n\t\t\tconst locate = getLocator(magicString.original);\n\n\t\t\tif (magicString.intro) {\n\t\t\t\tmappings.advance(magicString.intro);\n\t\t\t}\n\n\t\t\tmagicString.firstChunk.eachNext((chunk) => {\n\t\t\t\tconst loc = locate(chunk.start);\n\n\t\t\t\tif (chunk.intro.length) mappings.advance(chunk.intro);\n\n\t\t\t\tif (source.filename) {\n\t\t\t\t\tif (chunk.edited) {\n\t\t\t\t\t\tmappings.addEdit(\n\t\t\t\t\t\t\tsourceIndex,\n\t\t\t\t\t\t\tchunk.content,\n\t\t\t\t\t\t\tloc,\n\t\t\t\t\t\t\tchunk.storeName ? names.indexOf(chunk.original) : -1,\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmappings.addUneditedChunk(\n\t\t\t\t\t\t\tsourceIndex,\n\t\t\t\t\t\t\tchunk,\n\t\t\t\t\t\t\tmagicString.original,\n\t\t\t\t\t\t\tloc,\n\t\t\t\t\t\t\tmagicString.sourcemapLocations,\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tmappings.advance(chunk.content);\n\t\t\t\t}\n\n\t\t\t\tif (chunk.outro.length) mappings.advance(chunk.outro);\n\t\t\t});\n\n\t\t\tif (magicString.outro) {\n\t\t\t\tmappings.advance(magicString.outro);\n\t\t\t}\n\n\t\t\tif (source.ignoreList && sourceIndex !== -1) {\n\t\t\t\tif (x_google_ignoreList === undefined) {\n\t\t\t\t\tx_google_ignoreList = [];\n\t\t\t\t}\n\t\t\t\tx_google_ignoreList.push(sourceIndex);\n\t\t\t}\n\t\t});\n\n\t\treturn {\n\t\t\tfile: options.file ? options.file.split(/[/\\\\]/).pop() : undefined,\n\t\t\tsources: this.uniqueSources.map((source) => {\n\t\t\t\treturn options.file ? getRelativePath(options.file, source.filename) : source.filename;\n\t\t\t}),\n\t\t\tsourcesContent: this.uniqueSources.map((source) => {\n\t\t\t\treturn options.includeContent ? source.content : null;\n\t\t\t}),\n\t\t\tnames,\n\t\t\tmappings: mappings.raw,\n\t\t\tx_google_ignoreList,\n\t\t};\n\t}\n\n\tgenerateMap(options) {\n\t\treturn new SourceMap(this.generateDecodedMap(options));\n\t}\n\n\tgetIndentString() {\n\t\tconst indentStringCounts = {};\n\n\t\tthis.sources.forEach((source) => {\n\t\t\tconst indentStr = source.content._getRawIndentString();\n\n\t\t\tif (indentStr === null) return;\n\n\t\t\tif (!indentStringCounts[indentStr]) indentStringCounts[indentStr] = 0;\n\t\t\tindentStringCounts[indentStr] += 1;\n\t\t});\n\n\t\treturn (\n\t\t\tObject.keys(indentStringCounts).sort((a, b) => {\n\t\t\t\treturn indentStringCounts[a] - indentStringCounts[b];\n\t\t\t})[0] || '\\t'\n\t\t);\n\t}\n\n\tindent(indentStr) {\n\t\tif (!arguments.length) {\n\t\t\tindentStr = this.getIndentString();\n\t\t}\n\n\t\tif (indentStr === '') return this; // noop\n\n\t\tlet trailingNewline = !this.intro || this.intro.slice(-1) === '\\n';\n\n\t\tthis.sources.forEach((source, i) => {\n\t\t\tconst separator = source.separator !== undefined ? source.separator : this.separator;\n\t\t\tconst indentStart = trailingNewline || (i > 0 && /\\r?\\n$/.test(separator));\n\n\t\t\tsource.content.indent(indentStr, {\n\t\t\t\texclude: source.indentExclusionRanges,\n\t\t\t\tindentStart, //: trailingNewline || /\\r?\\n$/.test( separator )  //true///\\r?\\n/.test( separator )\n\t\t\t});\n\n\t\t\ttrailingNewline = source.content.lastChar() === '\\n';\n\t\t});\n\n\t\tif (this.intro) {\n\t\t\tthis.intro =\n\t\t\t\tindentStr +\n\t\t\t\tthis.intro.replace(/^[^\\n]/gm, (match, index) => {\n\t\t\t\t\treturn index > 0 ? indentStr + match : match;\n\t\t\t\t});\n\t\t}\n\n\t\treturn this;\n\t}\n\n\tprepend(str) {\n\t\tthis.intro = str + this.intro;\n\t\treturn this;\n\t}\n\n\ttoString() {\n\t\tconst body = this.sources\n\t\t\t.map((source, i) => {\n\t\t\t\tconst separator = source.separator !== undefined ? source.separator : this.separator;\n\t\t\t\tconst str = (i > 0 ? separator : '') + source.content.toString();\n\n\t\t\t\treturn str;\n\t\t\t})\n\t\t\t.join('');\n\n\t\treturn this.intro + body;\n\t}\n\n\tisEmpty() {\n\t\tif (this.intro.length && this.intro.trim()) return false;\n\t\tif (this.sources.some((source) => !source.content.isEmpty())) return false;\n\t\treturn true;\n\t}\n\n\tlength() {\n\t\treturn this.sources.reduce(\n\t\t\t(length, source) => length + source.content.length(),\n\t\t\tthis.intro.length,\n\t\t);\n\t}\n\n\ttrimLines() {\n\t\treturn this.trim('[\\\\r\\\\n]');\n\t}\n\n\ttrim(charType) {\n\t\treturn this.trimStart(charType).trimEnd(charType);\n\t}\n\n\ttrimStart(charType) {\n\t\tconst rx = new RegExp('^' + (charType || '\\\\s') + '+');\n\t\tthis.intro = this.intro.replace(rx, '');\n\n\t\tif (!this.intro) {\n\t\t\tlet source;\n\t\t\tlet i = 0;\n\n\t\t\tdo {\n\t\t\t\tsource = this.sources[i++];\n\t\t\t\tif (!source) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} while (!source.content.trimStartAborted(charType));\n\t\t}\n\n\t\treturn this;\n\t}\n\n\ttrimEnd(charType) {\n\t\tconst rx = new RegExp((charType || '\\\\s') + '+$');\n\n\t\tlet source;\n\t\tlet i = this.sources.length - 1;\n\n\t\tdo {\n\t\t\tsource = this.sources[i--];\n\t\t\tif (!source) {\n\t\t\t\tthis.intro = this.intro.replace(rx, '');\n\t\t\t\tbreak;\n\t\t\t}\n\t\t} while (!source.content.trimEndAborted(charType));\n\n\t\treturn this;\n\t}\n}\n", "const postfixRE = /[?#].*$/;\nfunction cleanUrl(url) {\n\treturn url.replace(postfixRE, \"\");\n}\nfunction createManualModuleSource(moduleUrl, exports, globalAccessor = \"\\\"__vitest_mocker__\\\"\") {\n\tconst source = `const module = globalThis[${globalAccessor}].getFactoryModule(\"${moduleUrl}\");`;\n\tconst keys = exports.map((name) => {\n\t\tif (name === \"default\") {\n\t\t\treturn `export default module[\"default\"];`;\n\t\t}\n\t\treturn `export const ${name} = module[\"${name}\"];`;\n\t}).join(\"\\n\");\n\treturn `${source}\\n${keys}`;\n}\n\nexport { cleanUrl as a, createManualModuleSource as c };\n", "/**\n * @typedef { import('estree').Node} Node\n * @typedef {{\n *   skip: () => void;\n *   remove: () => void;\n *   replace: (node: Node) => void;\n * }} WalkerContext\n */\n\nexport class WalkerBase {\n\tconstructor() {\n\t\t/** @type {boolean} */\n\t\tthis.should_skip = false;\n\n\t\t/** @type {boolean} */\n\t\tthis.should_remove = false;\n\n\t\t/** @type {Node | null} */\n\t\tthis.replacement = null;\n\n\t\t/** @type {WalkerContext} */\n\t\tthis.context = {\n\t\t\tskip: () => (this.should_skip = true),\n\t\t\tremove: () => (this.should_remove = true),\n\t\t\treplace: (node) => (this.replacement = node)\n\t\t};\n\t}\n\n\t/**\n\t * @template {Node} Parent\n\t * @param {Parent | null | undefined} parent\n\t * @param {keyof Parent | null | undefined} prop\n\t * @param {number | null | undefined} index\n\t * @param {Node} node\n\t */\n\treplace(parent, prop, index, node) {\n\t\tif (parent && prop) {\n\t\t\tif (index != null) {\n\t\t\t\t/** @type {Array<Node>} */ (parent[prop])[index] = node;\n\t\t\t} else {\n\t\t\t\t/** @type {Node} */ (parent[prop]) = node;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @template {Node} Parent\n\t * @param {Parent | null | undefined} parent\n\t * @param {keyof Parent | null | undefined} prop\n\t * @param {number | null | undefined} index\n\t */\n\tremove(parent, prop, index) {\n\t\tif (parent && prop) {\n\t\t\tif (index !== null && index !== undefined) {\n\t\t\t\t/** @type {Array<Node>} */ (parent[prop]).splice(index, 1);\n\t\t\t} else {\n\t\t\t\tdelete parent[prop];\n\t\t\t}\n\t\t}\n\t}\n}\n", "import { WalkerBase } from './walker.js';\n\n/**\n * @typedef { import('estree').Node} Node\n * @typedef { import('./walker.js').WalkerContext} WalkerContext\n * @typedef {(\n *    this: WalkerContext,\n *    node: Node,\n *    parent: Node | null,\n *    key: string | number | symbol | null | undefined,\n *    index: number | null | undefined\n * ) => void} SyncHandler\n */\n\nexport class SyncWalker extends WalkerBase {\n\t/**\n\t *\n\t * @param {SyncHandler} [enter]\n\t * @param {SyncHandler} [leave]\n\t */\n\tconstructor(enter, leave) {\n\t\tsuper();\n\n\t\t/** @type {boolean} */\n\t\tthis.should_skip = false;\n\n\t\t/** @type {boolean} */\n\t\tthis.should_remove = false;\n\n\t\t/** @type {Node | null} */\n\t\tthis.replacement = null;\n\n\t\t/** @type {WalkerContext} */\n\t\tthis.context = {\n\t\t\tskip: () => (this.should_skip = true),\n\t\t\tremove: () => (this.should_remove = true),\n\t\t\treplace: (node) => (this.replacement = node)\n\t\t};\n\n\t\t/** @type {SyncHandler | undefined} */\n\t\tthis.enter = enter;\n\n\t\t/** @type {SyncHandler | undefined} */\n\t\tthis.leave = leave;\n\t}\n\n\t/**\n\t * @template {Node} Parent\n\t * @param {Node} node\n\t * @param {Parent | null} parent\n\t * @param {keyof Parent} [prop]\n\t * @param {number | null} [index]\n\t * @returns {Node | null}\n\t */\n\tvisit(node, parent, prop, index) {\n\t\tif (node) {\n\t\t\tif (this.enter) {\n\t\t\t\tconst _should_skip = this.should_skip;\n\t\t\t\tconst _should_remove = this.should_remove;\n\t\t\t\tconst _replacement = this.replacement;\n\t\t\t\tthis.should_skip = false;\n\t\t\t\tthis.should_remove = false;\n\t\t\t\tthis.replacement = null;\n\n\t\t\t\tthis.enter.call(this.context, node, parent, prop, index);\n\n\t\t\t\tif (this.replacement) {\n\t\t\t\t\tnode = this.replacement;\n\t\t\t\t\tthis.replace(parent, prop, index, node);\n\t\t\t\t}\n\n\t\t\t\tif (this.should_remove) {\n\t\t\t\t\tthis.remove(parent, prop, index);\n\t\t\t\t}\n\n\t\t\t\tconst skipped = this.should_skip;\n\t\t\t\tconst removed = this.should_remove;\n\n\t\t\t\tthis.should_skip = _should_skip;\n\t\t\t\tthis.should_remove = _should_remove;\n\t\t\t\tthis.replacement = _replacement;\n\n\t\t\t\tif (skipped) return node;\n\t\t\t\tif (removed) return null;\n\t\t\t}\n\n\t\t\t/** @type {keyof Node} */\n\t\t\tlet key;\n\n\t\t\tfor (key in node) {\n\t\t\t\t/** @type {unknown} */\n\t\t\t\tconst value = node[key];\n\n\t\t\t\tif (value && typeof value === 'object') {\n\t\t\t\t\tif (Array.isArray(value)) {\n\t\t\t\t\t\tconst nodes = /** @type {Array<unknown>} */ (value);\n\t\t\t\t\t\tfor (let i = 0; i < nodes.length; i += 1) {\n\t\t\t\t\t\t\tconst item = nodes[i];\n\t\t\t\t\t\t\tif (isNode(item)) {\n\t\t\t\t\t\t\t\tif (!this.visit(item, node, key, i)) {\n\t\t\t\t\t\t\t\t\t// removed\n\t\t\t\t\t\t\t\t\ti--;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (isNode(value)) {\n\t\t\t\t\t\tthis.visit(value, node, key, null);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.leave) {\n\t\t\t\tconst _replacement = this.replacement;\n\t\t\t\tconst _should_remove = this.should_remove;\n\t\t\t\tthis.replacement = null;\n\t\t\t\tthis.should_remove = false;\n\n\t\t\t\tthis.leave.call(this.context, node, parent, prop, index);\n\n\t\t\t\tif (this.replacement) {\n\t\t\t\t\tnode = this.replacement;\n\t\t\t\t\tthis.replace(parent, prop, index, node);\n\t\t\t\t}\n\n\t\t\t\tif (this.should_remove) {\n\t\t\t\t\tthis.remove(parent, prop, index);\n\t\t\t\t}\n\n\t\t\t\tconst removed = this.should_remove;\n\n\t\t\t\tthis.replacement = _replacement;\n\t\t\t\tthis.should_remove = _should_remove;\n\n\t\t\t\tif (removed) return null;\n\t\t\t}\n\t\t}\n\n\t\treturn node;\n\t}\n}\n\n/**\n * Ducktype a node.\n *\n * @param {unknown} value\n * @returns {value is Node}\n */\nfunction isNode(value) {\n\treturn (\n\t\tvalue !== null && typeof value === 'object' && 'type' in value && typeof value.type === 'string'\n\t);\n}\n", "import { SyncWalker } from './sync.js';\nimport { AsyncWalker } from './async.js';\n\n/**\n * @typedef {import('estree').Node} Node\n * @typedef {import('./sync.js').SyncHandler} SyncHandler\n * @typedef {import('./async.js').AsyncHandler} AsyncHandler\n */\n\n/**\n * @param {Node} ast\n * @param {{\n *   enter?: SyncHandler\n *   leave?: SyncHandler\n * }} walker\n * @returns {Node | null}\n */\nexport function walk(ast, { enter, leave }) {\n\tconst instance = new SyncWalker(enter, leave);\n\treturn instance.visit(ast, null);\n}\n\n/**\n * @param {Node} ast\n * @param {{\n *   enter?: AsyncHandler\n *   leave?: AsyncHandler\n * }} walker\n * @returns {Promise<Node | null>}\n */\nexport async function asyncWalk(ast, { enter, leave }) {\n\tconst instance = new AsyncWalker(enter, leave);\n\treturn await instance.visit(ast, null);\n}\n", "import MagicString from 'magic-string';\nimport { walk } from 'estree-walker';\n\nconst isNodeInPatternWeakSet = new WeakSet();\nfunction setIsNodeInPattern(node) {\n\treturn isNodeInPatternWeakSet.add(node);\n}\nfunction isNodeInPattern(node) {\n\treturn isNodeInPatternWeakSet.has(node);\n}\n/**\n* Same logic from \\@vue/compiler-core & \\@vue/compiler-sfc\n* Except this is using acorn AST\n*/\nfunction esmWalker(root, { onIdentifier, onImportMeta, onDynamicImport, onCallExpression }) {\n\tconst parentStack = [];\n\tconst varKindStack = [];\n\tconst scopeMap = new WeakMap();\n\tconst identifiers = [];\n\tconst setScope = (node, name) => {\n\t\tlet scopeIds = scopeMap.get(node);\n\t\tif (scopeIds && scopeIds.has(name)) {\n\t\t\treturn;\n\t\t}\n\t\tif (!scopeIds) {\n\t\t\tscopeIds = new Set();\n\t\t\tscopeMap.set(node, scopeIds);\n\t\t}\n\t\tscopeIds.add(name);\n\t};\n\tfunction isInScope(name, parents) {\n\t\treturn parents.some((node) => {\n\t\t\tvar _scopeMap$get;\n\t\t\treturn node && ((_scopeMap$get = scopeMap.get(node)) === null || _scopeMap$get === void 0 ? void 0 : _scopeMap$get.has(name));\n\t\t});\n\t}\n\tfunction handlePattern(p, parentScope) {\n\t\tif (p.type === \"Identifier\") {\n\t\t\tsetScope(parentScope, p.name);\n\t\t} else if (p.type === \"RestElement\") {\n\t\t\thandlePattern(p.argument, parentScope);\n\t\t} else if (p.type === \"ObjectPattern\") {\n\t\t\tp.properties.forEach((property) => {\n\t\t\t\tif (property.type === \"RestElement\") {\n\t\t\t\t\tsetScope(parentScope, property.argument.name);\n\t\t\t\t} else {\n\t\t\t\t\thandlePattern(property.value, parentScope);\n\t\t\t\t}\n\t\t\t});\n\t\t} else if (p.type === \"ArrayPattern\") {\n\t\t\tp.elements.forEach((element) => {\n\t\t\t\tif (element) {\n\t\t\t\t\thandlePattern(element, parentScope);\n\t\t\t\t}\n\t\t\t});\n\t\t} else if (p.type === \"AssignmentPattern\") {\n\t\t\thandlePattern(p.left, parentScope);\n\t\t} else {\n\t\t\tsetScope(parentScope, p.name);\n\t\t}\n\t}\n\twalk(root, {\n\t\tenter(node, parent) {\n\t\t\tif (node.type === \"ImportDeclaration\") {\n\t\t\t\treturn this.skip();\n\t\t\t}\n\t\t\t// track parent stack, skip for \"else-if\"/\"else\" branches as acorn nests\n\t\t\t// the ast within \"if\" nodes instead of flattening them\n\t\t\tif (parent && !(parent.type === \"IfStatement\" && node === parent.alternate)) {\n\t\t\t\tparentStack.unshift(parent);\n\t\t\t}\n\t\t\t// track variable declaration kind stack used by VariableDeclarator\n\t\t\tif (node.type === \"VariableDeclaration\") {\n\t\t\t\tvarKindStack.unshift(node.kind);\n\t\t\t}\n\t\t\tif (node.type === \"CallExpression\") {\n\t\t\t\tonCallExpression === null || onCallExpression === void 0 ? void 0 : onCallExpression(node);\n\t\t\t}\n\t\t\tif (node.type === \"MetaProperty\" && node.meta.name === \"import\") {\n\t\t\t\tonImportMeta === null || onImportMeta === void 0 ? void 0 : onImportMeta(node);\n\t\t\t} else if (node.type === \"ImportExpression\") {\n\t\t\t\tonDynamicImport === null || onDynamicImport === void 0 ? void 0 : onDynamicImport(node);\n\t\t\t}\n\t\t\tif (node.type === \"Identifier\") {\n\t\t\t\tif (!isInScope(node.name, parentStack) && isRefIdentifier(node, parent, parentStack)) {\n\t\t\t\t\t// record the identifier, for DFS -> BFS\n\t\t\t\t\tidentifiers.push([node, parentStack.slice(0)]);\n\t\t\t\t}\n\t\t\t} else if (isFunctionNode(node)) {\n\t\t\t\t// If it is a function declaration, it could be shadowing an import\n\t\t\t\t// Add its name to the scope so it won't get replaced\n\t\t\t\tif (node.type === \"FunctionDeclaration\") {\n\t\t\t\t\tconst parentScope = findParentScope(parentStack);\n\t\t\t\t\tif (parentScope) {\n\t\t\t\t\t\tsetScope(parentScope, node.id.name);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// walk function expressions and add its arguments to known identifiers\n\t\t\t\t// so that we don't prefix them\n\t\t\t\tnode.params.forEach((p) => {\n\t\t\t\t\tif (p.type === \"ObjectPattern\" || p.type === \"ArrayPattern\") {\n\t\t\t\t\t\thandlePattern(p, node);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\twalk(p.type === \"AssignmentPattern\" ? p.left : p, { enter(child, parent) {\n\t\t\t\t\t\t// skip params default value of destructure\n\t\t\t\t\t\tif ((parent === null || parent === void 0 ? void 0 : parent.type) === \"AssignmentPattern\" && (parent === null || parent === void 0 ? void 0 : parent.right) === child) {\n\t\t\t\t\t\t\treturn this.skip();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (child.type !== \"Identifier\") {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// do not record as scope variable if is a destructuring keyword\n\t\t\t\t\t\tif (isStaticPropertyKey(child, parent)) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// do not record if this is a default value\n\t\t\t\t\t\t// assignment of a destructuring variable\n\t\t\t\t\t\tif ((parent === null || parent === void 0 ? void 0 : parent.type) === \"TemplateLiteral\" && (parent === null || parent === void 0 ? void 0 : parent.expressions.includes(child)) || (parent === null || parent === void 0 ? void 0 : parent.type) === \"CallExpression\" && (parent === null || parent === void 0 ? void 0 : parent.callee) === child) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsetScope(node, child.name);\n\t\t\t\t\t} });\n\t\t\t\t});\n\t\t\t} else if (node.type === \"Property\" && parent.type === \"ObjectPattern\") {\n\t\t\t\t// mark property in destructuring pattern\n\t\t\t\tsetIsNodeInPattern(node);\n\t\t\t} else if (node.type === \"VariableDeclarator\") {\n\t\t\t\tconst parentFunction = findParentScope(parentStack, varKindStack[0] === \"var\");\n\t\t\t\tif (parentFunction) {\n\t\t\t\t\thandlePattern(node.id, parentFunction);\n\t\t\t\t}\n\t\t\t} else if (node.type === \"CatchClause\" && node.param) {\n\t\t\t\thandlePattern(node.param, node);\n\t\t\t}\n\t\t},\n\t\tleave(node, parent) {\n\t\t\t// untrack parent stack from above\n\t\t\tif (parent && !(parent.type === \"IfStatement\" && node === parent.alternate)) {\n\t\t\t\tparentStack.shift();\n\t\t\t}\n\t\t\tif (node.type === \"VariableDeclaration\") {\n\t\t\t\tvarKindStack.shift();\n\t\t\t}\n\t\t}\n\t});\n\t// emit the identifier events in BFS so the hoisted declarations\n\t// can be captured correctly\n\tidentifiers.forEach(([node, stack]) => {\n\t\tif (!isInScope(node.name, stack)) {\n\t\t\tconst parent = stack[0];\n\t\t\tconst grandparent = stack[1];\n\t\t\tconst hasBindingShortcut = isStaticProperty(parent) && parent.shorthand && (!isNodeInPattern(parent) || isInDestructuringAssignment(parent, parentStack));\n\t\t\tconst classDeclaration = parent.type === \"PropertyDefinition\" && (grandparent === null || grandparent === void 0 ? void 0 : grandparent.type) === \"ClassBody\" || parent.type === \"ClassDeclaration\" && node === parent.superClass;\n\t\t\tconst classExpression = parent.type === \"ClassExpression\" && node === parent.id;\n\t\t\tonIdentifier === null || onIdentifier === void 0 ? void 0 : onIdentifier(node, {\n\t\t\t\thasBindingShortcut,\n\t\t\t\tclassDeclaration,\n\t\t\t\tclassExpression\n\t\t\t}, stack);\n\t\t}\n\t});\n}\nfunction isRefIdentifier(id, parent, parentStack) {\n\t// declaration id\n\tif (parent.type === \"CatchClause\" || (parent.type === \"VariableDeclarator\" || parent.type === \"ClassDeclaration\") && parent.id === id) {\n\t\treturn false;\n\t}\n\tif (isFunctionNode(parent)) {\n\t\t// function declaration/expression id\n\t\tif (parent.id === id) {\n\t\t\treturn false;\n\t\t}\n\t\t// params list\n\t\tif (parent.params.includes(id)) {\n\t\t\treturn false;\n\t\t}\n\t}\n\t// class method name\n\tif (parent.type === \"MethodDefinition\" && !parent.computed) {\n\t\treturn false;\n\t}\n\t// property key\n\tif (isStaticPropertyKey(id, parent)) {\n\t\treturn false;\n\t}\n\t// object destructuring pattern\n\tif (isNodeInPattern(parent) && parent.value === id) {\n\t\treturn false;\n\t}\n\t// non-assignment array destructuring pattern\n\tif (parent.type === \"ArrayPattern\" && !isInDestructuringAssignment(parent, parentStack)) {\n\t\treturn false;\n\t}\n\t// member expression property\n\tif (parent.type === \"MemberExpression\" && parent.property === id && !parent.computed) {\n\t\treturn false;\n\t}\n\tif (parent.type === \"ExportSpecifier\") {\n\t\treturn false;\n\t}\n\t// is a special keyword but parsed as identifier\n\tif (id.name === \"arguments\") {\n\t\treturn false;\n\t}\n\treturn true;\n}\nfunction isStaticProperty(node) {\n\treturn node && node.type === \"Property\" && !node.computed;\n}\nfunction isStaticPropertyKey(node, parent) {\n\treturn isStaticProperty(parent) && parent.key === node;\n}\nconst functionNodeTypeRE = /Function(?:Expression|Declaration)$|Method$/;\nfunction isFunctionNode(node) {\n\treturn functionNodeTypeRE.test(node.type);\n}\nconst blockNodeTypeRE = /^BlockStatement$|^For(?:In|Of)?Statement$/;\nfunction isBlock(node) {\n\treturn blockNodeTypeRE.test(node.type);\n}\nfunction findParentScope(parentStack, isVar = false) {\n\treturn parentStack.find(isVar ? isFunctionNode : isBlock);\n}\nfunction isInDestructuringAssignment(parent, parentStack) {\n\tif (parent && (parent.type === \"Property\" || parent.type === \"ArrayPattern\")) {\n\t\treturn parentStack.some((i) => i.type === \"AssignmentExpression\");\n\t}\n\treturn false;\n}\nfunction getArbitraryModuleIdentifier(node) {\n\treturn node.type === \"Identifier\" ? node.name : node.raw;\n}\n\n// TODO: better source map replacement\nfunction automockModule(code, mockType, parse, options = {}) {\n\tconst globalThisAccessor = options.globalThisAccessor || \"\\\"__vitest_mocker__\\\"\";\n\tconst ast = parse(code);\n\tconst m = new MagicString(code);\n\tconst allSpecifiers = [];\n\tlet importIndex = 0;\n\tfor (const _node of ast.body) {\n\t\tif (_node.type === \"ExportAllDeclaration\") {\n\t\t\tthrow new Error(`automocking files with \\`export *\\` is not supported in browser mode because it cannot be statically analysed`);\n\t\t}\n\t\tif (_node.type === \"ExportNamedDeclaration\") {\n\t\t\tconst node = _node;\n\t\t\tconst declaration = node.declaration;\n\t\t\tfunction traversePattern(expression) {\n\t\t\t\t// export const test = '1'\n\t\t\t\tif (expression.type === \"Identifier\") {\n\t\t\t\t\tallSpecifiers.push({ name: expression.name });\n\t\t\t\t} else if (expression.type === \"ArrayPattern\") {\n\t\t\t\t\texpression.elements.forEach((element) => {\n\t\t\t\t\t\tif (!element) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttraversePattern(element);\n\t\t\t\t\t});\n\t\t\t\t} else if (expression.type === \"ObjectPattern\") {\n\t\t\t\t\texpression.properties.forEach((property) => {\n\t\t\t\t\t\t// export const { ...rest } = {}\n\t\t\t\t\t\tif (property.type === \"RestElement\") {\n\t\t\t\t\t\t\ttraversePattern(property);\n\t\t\t\t\t\t} else if (property.type === \"Property\") {\n\t\t\t\t\t\t\ttraversePattern(property.value);\n\t\t\t\t\t\t} else ;\n\t\t\t\t\t});\n\t\t\t\t} else if (expression.type === \"RestElement\") {\n\t\t\t\t\ttraversePattern(expression.argument);\n\t\t\t\t} else if (expression.type === \"AssignmentPattern\") {\n\t\t\t\t\tthrow new Error(`AssignmentPattern is not supported. Please open a new bug report.`);\n\t\t\t\t} else if (expression.type === \"MemberExpression\") {\n\t\t\t\t\tthrow new Error(`MemberExpression is not supported. Please open a new bug report.`);\n\t\t\t\t} else ;\n\t\t\t}\n\t\t\tif (declaration) {\n\t\t\t\tif (declaration.type === \"FunctionDeclaration\") {\n\t\t\t\t\tallSpecifiers.push({ name: declaration.id.name });\n\t\t\t\t} else if (declaration.type === \"VariableDeclaration\") {\n\t\t\t\t\tdeclaration.declarations.forEach((declaration) => {\n\t\t\t\t\t\ttraversePattern(declaration.id);\n\t\t\t\t\t});\n\t\t\t\t} else if (declaration.type === \"ClassDeclaration\") {\n\t\t\t\t\tallSpecifiers.push({ name: declaration.id.name });\n\t\t\t\t} else ;\n\t\t\t\tm.remove(node.start, declaration.start);\n\t\t\t}\n\t\t\tconst specifiers = node.specifiers || [];\n\t\t\tconst source = node.source;\n\t\t\tif (!source && specifiers.length) {\n\t\t\t\tspecifiers.forEach((specifier) => {\n\t\t\t\t\tallSpecifiers.push({\n\t\t\t\t\t\talias: getArbitraryModuleIdentifier(specifier.exported),\n\t\t\t\t\t\tname: getArbitraryModuleIdentifier(specifier.local)\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tm.remove(node.start, node.end);\n\t\t\t} else if (source && specifiers.length) {\n\t\t\t\tconst importNames = [];\n\t\t\t\tspecifiers.forEach((specifier) => {\n\t\t\t\t\tconst importedName = `__vitest_imported_${importIndex++}__`;\n\t\t\t\t\timportNames.push([getArbitraryModuleIdentifier(specifier.local), importedName]);\n\t\t\t\t\tallSpecifiers.push({\n\t\t\t\t\t\tname: importedName,\n\t\t\t\t\t\talias: getArbitraryModuleIdentifier(specifier.exported)\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tconst importString = `import { ${importNames.map(([name, alias]) => `${name} as ${alias}`).join(\", \")} } from '${source.value}'`;\n\t\t\t\tm.overwrite(node.start, node.end, importString);\n\t\t\t}\n\t\t}\n\t\tif (_node.type === \"ExportDefaultDeclaration\") {\n\t\t\tconst node = _node;\n\t\t\tconst declaration = node.declaration;\n\t\t\tallSpecifiers.push({\n\t\t\t\tname: \"__vitest_default\",\n\t\t\t\talias: \"default\"\n\t\t\t});\n\t\t\tm.overwrite(node.start, declaration.start, `const __vitest_default = `);\n\t\t}\n\t}\n\tconst moduleObject = `\nconst __vitest_current_es_module__ = {\n  __esModule: true,\n  ${allSpecifiers.map(({ name }) => `[\"${name}\"]: ${name},`).join(\"\\n  \")}\n}\nconst __vitest_mocked_module__ = globalThis[${globalThisAccessor}].mockObject(__vitest_current_es_module__, \"${mockType}\")\n`;\n\tconst assigning = allSpecifiers.map(({ name }, index) => {\n\t\treturn `const __vitest_mocked_${index}__ = __vitest_mocked_module__[\"${name}\"]`;\n\t}).join(\"\\n\");\n\tconst redeclarations = allSpecifiers.map(({ name, alias }, index) => {\n\t\treturn `  __vitest_mocked_${index}__ as ${alias || name},`;\n\t}).join(\"\\n\");\n\tconst specifiersExports = `\nexport {\n${redeclarations}\n}\n`;\n\tm.append(moduleObject + assigning + specifiersExports);\n\treturn m;\n}\n\nexport { automockModule as a, esmWalker as e };\n", "import { a as cleanUrl, c as createManualModuleSource } from './chunk-utils.js';\nimport { a as automockModule, e as esmWalker } from './chunk-automock.js';\nimport MagicString from 'magic-string';\nimport { createFilter } from 'vite';\nimport { readFile } from 'node:fs/promises';\nimport { join } from 'node:path/posix';\nimport { M as MockerRegistry, a as ManualMockedModule } from './chunk-registry.js';\nimport { fileURLToPath } from 'node:url';\nimport { existsSync, readFileSync } from 'node:fs';\nimport { findMockRedirect } from './redirect.js';\nimport { i as isAbsolute, j as join$1, r as resolve } from './chunk-pathe.M-eThtNZ.js';\nimport 'estree-walker';\nimport 'node:module';\n\nfunction automockPlugin(options = {}) {\n\treturn {\n\t\tname: \"vitest:automock\",\n\t\tenforce: \"post\",\n\t\ttransform(code, id) {\n\t\t\tif (id.includes(\"mock=automock\") || id.includes(\"mock=autospy\")) {\n\t\t\t\tconst mockType = id.includes(\"mock=automock\") ? \"automock\" : \"autospy\";\n\t\t\t\tconst ms = automockModule(code, mockType, this.parse, options);\n\t\t\t\treturn {\n\t\t\t\t\tcode: ms.toString(),\n\t\t\t\t\tmap: ms.generateMap({\n\t\t\t\t\t\thires: \"boundary\",\n\t\t\t\t\t\tsource: cleanUrl(id)\n\t\t\t\t\t})\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t};\n}\n\nconst regexDynamicImport = /import\\s*\\(/;\nfunction dynamicImportPlugin(options = {}) {\n\treturn {\n\t\tname: \"vitest:browser:esm-injector\",\n\t\tenforce: \"post\",\n\t\ttransform(source, id) {\n\t\t\t// TODO: test is not called for static imports\n\t\t\tif (!regexDynamicImport.test(source)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (options.filter && !options.filter(id)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\treturn injectDynamicImport(source, id, this.parse, options);\n\t\t}\n\t};\n}\nfunction injectDynamicImport(code, id, parse, options = {}) {\n\tconst s = new MagicString(code);\n\tlet ast;\n\ttry {\n\t\tast = parse(code);\n\t} catch (err) {\n\t\tconsole.error(`Cannot parse ${id}:\\n${err.message}`);\n\t\treturn;\n\t}\n\t// 3. convert references to import bindings & import.meta references\n\tesmWalker(ast, {\n\t\tonImportMeta() {\n\t\t\t// s.update(node.start, node.end, viImportMetaKey)\n\t\t},\n\t\tonDynamicImport(node) {\n\t\t\tconst globalThisAccessor = options.globalThisAccessor || \"\\\"__vitest_mocker__\\\"\";\n\t\t\tconst replaceString = `globalThis[${globalThisAccessor}].wrapDynamicImport(() => import(`;\n\t\t\tconst importSubstring = code.substring(node.start, node.end);\n\t\t\tconst hasIgnore = importSubstring.includes(\"/* @vite-ignore */\");\n\t\t\ts.overwrite(node.start, node.source.start, replaceString + (hasIgnore ? \"/* @vite-ignore */ \" : \"\"));\n\t\t\ts.overwrite(node.end - 1, node.end, \"))\");\n\t\t}\n\t});\n\treturn {\n\t\tcode: s.toString(),\n\t\tmap: s.generateMap({\n\t\t\thires: \"boundary\",\n\t\t\tsource: id\n\t\t})\n\t};\n}\n\n// AST walker module for ESTree compatible trees\n\n\nfunction makeTest(test) {\n  if (typeof test === \"string\")\n    { return function (type) { return type === test; } }\n  else if (!test)\n    { return function () { return true; } }\n  else\n    { return test }\n}\n\nvar Found = function Found(node, state) { this.node = node; this.state = state; };\n\n// Find the innermost node of a given type that contains the given\n// position. Interface similar to findNodeAt.\nfunction findNodeAround(node, pos, test, baseVisitor, state) {\n  test = makeTest(test);\n  if (!baseVisitor) { baseVisitor = base; }\n  try {\n    (function c(node, st, override) {\n      var type = override || node.type;\n      if (node.start > pos || node.end < pos) { return }\n      baseVisitor[type](node, st, c);\n      if (test(type, node)) { throw new Found(node, st) }\n    })(node, state);\n  } catch (e) {\n    if (e instanceof Found) { return e }\n    throw e\n  }\n}\n\nfunction skipThrough(node, st, c) { c(node, st); }\nfunction ignore(_node, _st, _c) {}\n\n// Node walkers.\n\nvar base = {};\n\nbase.Program = base.BlockStatement = base.StaticBlock = function (node, st, c) {\n  for (var i = 0, list = node.body; i < list.length; i += 1)\n    {\n    var stmt = list[i];\n\n    c(stmt, st, \"Statement\");\n  }\n};\nbase.Statement = skipThrough;\nbase.EmptyStatement = ignore;\nbase.ExpressionStatement = base.ParenthesizedExpression = base.ChainExpression =\n  function (node, st, c) { return c(node.expression, st, \"Expression\"); };\nbase.IfStatement = function (node, st, c) {\n  c(node.test, st, \"Expression\");\n  c(node.consequent, st, \"Statement\");\n  if (node.alternate) { c(node.alternate, st, \"Statement\"); }\n};\nbase.LabeledStatement = function (node, st, c) { return c(node.body, st, \"Statement\"); };\nbase.BreakStatement = base.ContinueStatement = ignore;\nbase.WithStatement = function (node, st, c) {\n  c(node.object, st, \"Expression\");\n  c(node.body, st, \"Statement\");\n};\nbase.SwitchStatement = function (node, st, c) {\n  c(node.discriminant, st, \"Expression\");\n  for (var i = 0, list = node.cases; i < list.length; i += 1) {\n    var cs = list[i];\n\n    c(cs, st);\n  }\n};\nbase.SwitchCase = function (node, st, c) {\n  if (node.test) { c(node.test, st, \"Expression\"); }\n  for (var i = 0, list = node.consequent; i < list.length; i += 1)\n    {\n    var cons = list[i];\n\n    c(cons, st, \"Statement\");\n  }\n};\nbase.ReturnStatement = base.YieldExpression = base.AwaitExpression = function (node, st, c) {\n  if (node.argument) { c(node.argument, st, \"Expression\"); }\n};\nbase.ThrowStatement = base.SpreadElement =\n  function (node, st, c) { return c(node.argument, st, \"Expression\"); };\nbase.TryStatement = function (node, st, c) {\n  c(node.block, st, \"Statement\");\n  if (node.handler) { c(node.handler, st); }\n  if (node.finalizer) { c(node.finalizer, st, \"Statement\"); }\n};\nbase.CatchClause = function (node, st, c) {\n  if (node.param) { c(node.param, st, \"Pattern\"); }\n  c(node.body, st, \"Statement\");\n};\nbase.WhileStatement = base.DoWhileStatement = function (node, st, c) {\n  c(node.test, st, \"Expression\");\n  c(node.body, st, \"Statement\");\n};\nbase.ForStatement = function (node, st, c) {\n  if (node.init) { c(node.init, st, \"ForInit\"); }\n  if (node.test) { c(node.test, st, \"Expression\"); }\n  if (node.update) { c(node.update, st, \"Expression\"); }\n  c(node.body, st, \"Statement\");\n};\nbase.ForInStatement = base.ForOfStatement = function (node, st, c) {\n  c(node.left, st, \"ForInit\");\n  c(node.right, st, \"Expression\");\n  c(node.body, st, \"Statement\");\n};\nbase.ForInit = function (node, st, c) {\n  if (node.type === \"VariableDeclaration\") { c(node, st); }\n  else { c(node, st, \"Expression\"); }\n};\nbase.DebuggerStatement = ignore;\n\nbase.FunctionDeclaration = function (node, st, c) { return c(node, st, \"Function\"); };\nbase.VariableDeclaration = function (node, st, c) {\n  for (var i = 0, list = node.declarations; i < list.length; i += 1)\n    {\n    var decl = list[i];\n\n    c(decl, st);\n  }\n};\nbase.VariableDeclarator = function (node, st, c) {\n  c(node.id, st, \"Pattern\");\n  if (node.init) { c(node.init, st, \"Expression\"); }\n};\n\nbase.Function = function (node, st, c) {\n  if (node.id) { c(node.id, st, \"Pattern\"); }\n  for (var i = 0, list = node.params; i < list.length; i += 1)\n    {\n    var param = list[i];\n\n    c(param, st, \"Pattern\");\n  }\n  c(node.body, st, node.expression ? \"Expression\" : \"Statement\");\n};\n\nbase.Pattern = function (node, st, c) {\n  if (node.type === \"Identifier\")\n    { c(node, st, \"VariablePattern\"); }\n  else if (node.type === \"MemberExpression\")\n    { c(node, st, \"MemberPattern\"); }\n  else\n    { c(node, st); }\n};\nbase.VariablePattern = ignore;\nbase.MemberPattern = skipThrough;\nbase.RestElement = function (node, st, c) { return c(node.argument, st, \"Pattern\"); };\nbase.ArrayPattern = function (node, st, c) {\n  for (var i = 0, list = node.elements; i < list.length; i += 1) {\n    var elt = list[i];\n\n    if (elt) { c(elt, st, \"Pattern\"); }\n  }\n};\nbase.ObjectPattern = function (node, st, c) {\n  for (var i = 0, list = node.properties; i < list.length; i += 1) {\n    var prop = list[i];\n\n    if (prop.type === \"Property\") {\n      if (prop.computed) { c(prop.key, st, \"Expression\"); }\n      c(prop.value, st, \"Pattern\");\n    } else if (prop.type === \"RestElement\") {\n      c(prop.argument, st, \"Pattern\");\n    }\n  }\n};\n\nbase.Expression = skipThrough;\nbase.ThisExpression = base.Super = base.MetaProperty = ignore;\nbase.ArrayExpression = function (node, st, c) {\n  for (var i = 0, list = node.elements; i < list.length; i += 1) {\n    var elt = list[i];\n\n    if (elt) { c(elt, st, \"Expression\"); }\n  }\n};\nbase.ObjectExpression = function (node, st, c) {\n  for (var i = 0, list = node.properties; i < list.length; i += 1)\n    {\n    var prop = list[i];\n\n    c(prop, st);\n  }\n};\nbase.FunctionExpression = base.ArrowFunctionExpression = base.FunctionDeclaration;\nbase.SequenceExpression = function (node, st, c) {\n  for (var i = 0, list = node.expressions; i < list.length; i += 1)\n    {\n    var expr = list[i];\n\n    c(expr, st, \"Expression\");\n  }\n};\nbase.TemplateLiteral = function (node, st, c) {\n  for (var i = 0, list = node.quasis; i < list.length; i += 1)\n    {\n    var quasi = list[i];\n\n    c(quasi, st);\n  }\n\n  for (var i$1 = 0, list$1 = node.expressions; i$1 < list$1.length; i$1 += 1)\n    {\n    var expr = list$1[i$1];\n\n    c(expr, st, \"Expression\");\n  }\n};\nbase.TemplateElement = ignore;\nbase.UnaryExpression = base.UpdateExpression = function (node, st, c) {\n  c(node.argument, st, \"Expression\");\n};\nbase.BinaryExpression = base.LogicalExpression = function (node, st, c) {\n  c(node.left, st, \"Expression\");\n  c(node.right, st, \"Expression\");\n};\nbase.AssignmentExpression = base.AssignmentPattern = function (node, st, c) {\n  c(node.left, st, \"Pattern\");\n  c(node.right, st, \"Expression\");\n};\nbase.ConditionalExpression = function (node, st, c) {\n  c(node.test, st, \"Expression\");\n  c(node.consequent, st, \"Expression\");\n  c(node.alternate, st, \"Expression\");\n};\nbase.NewExpression = base.CallExpression = function (node, st, c) {\n  c(node.callee, st, \"Expression\");\n  if (node.arguments)\n    { for (var i = 0, list = node.arguments; i < list.length; i += 1)\n      {\n        var arg = list[i];\n\n        c(arg, st, \"Expression\");\n      } }\n};\nbase.MemberExpression = function (node, st, c) {\n  c(node.object, st, \"Expression\");\n  if (node.computed) { c(node.property, st, \"Expression\"); }\n};\nbase.ExportNamedDeclaration = base.ExportDefaultDeclaration = function (node, st, c) {\n  if (node.declaration)\n    { c(node.declaration, st, node.type === \"ExportNamedDeclaration\" || node.declaration.id ? \"Statement\" : \"Expression\"); }\n  if (node.source) { c(node.source, st, \"Expression\"); }\n};\nbase.ExportAllDeclaration = function (node, st, c) {\n  if (node.exported)\n    { c(node.exported, st); }\n  c(node.source, st, \"Expression\");\n};\nbase.ImportDeclaration = function (node, st, c) {\n  for (var i = 0, list = node.specifiers; i < list.length; i += 1)\n    {\n    var spec = list[i];\n\n    c(spec, st);\n  }\n  c(node.source, st, \"Expression\");\n};\nbase.ImportExpression = function (node, st, c) {\n  c(node.source, st, \"Expression\");\n};\nbase.ImportSpecifier = base.ImportDefaultSpecifier = base.ImportNamespaceSpecifier = base.Identifier = base.PrivateIdentifier = base.Literal = ignore;\n\nbase.TaggedTemplateExpression = function (node, st, c) {\n  c(node.tag, st, \"Expression\");\n  c(node.quasi, st, \"Expression\");\n};\nbase.ClassDeclaration = base.ClassExpression = function (node, st, c) { return c(node, st, \"Class\"); };\nbase.Class = function (node, st, c) {\n  if (node.id) { c(node.id, st, \"Pattern\"); }\n  if (node.superClass) { c(node.superClass, st, \"Expression\"); }\n  c(node.body, st);\n};\nbase.ClassBody = function (node, st, c) {\n  for (var i = 0, list = node.body; i < list.length; i += 1)\n    {\n    var elt = list[i];\n\n    c(elt, st);\n  }\n};\nbase.MethodDefinition = base.PropertyDefinition = base.Property = function (node, st, c) {\n  if (node.computed) { c(node.key, st, \"Expression\"); }\n  if (node.value) { c(node.value, st, \"Expression\"); }\n};\n\nfunction hoistMocksPlugin(options = {}) {\n\tconst filter = options.filter || createFilter(options.include, options.exclude);\n\tconst { hoistableMockMethodNames = [\"mock\", \"unmock\"], dynamicImportMockMethodNames = [\n\t\t\"mock\",\n\t\t\"unmock\",\n\t\t\"doMock\",\n\t\t\"doUnmock\"\n\t], hoistedMethodNames = [\"hoisted\"], utilsObjectNames = [\"vi\", \"vitest\"] } = options;\n\tconst methods = new Set([\n\t\t...hoistableMockMethodNames,\n\t\t...hoistedMethodNames,\n\t\t...dynamicImportMockMethodNames\n\t]);\n\tconst regexpHoistable = new RegExp(`\\\\b(?:${utilsObjectNames.join(\"|\")})\\\\s*\\.\\\\s*(?:${Array.from(methods).join(\"|\")})\\\\s*\\\\(`);\n\treturn {\n\t\tname: \"vitest:mocks\",\n\t\tenforce: \"post\",\n\t\ttransform(code, id) {\n\t\t\tif (!filter(id)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\treturn hoistMocks(code, id, this.parse, {\n\t\t\t\tregexpHoistable,\n\t\t\t\thoistableMockMethodNames,\n\t\t\t\thoistedMethodNames,\n\t\t\t\tutilsObjectNames,\n\t\t\t\tdynamicImportMockMethodNames,\n\t\t\t\t...options\n\t\t\t});\n\t\t}\n\t};\n}\nconst API_NOT_FOUND_ERROR = `There are some problems in resolving the mocks API.\nYou may encounter this issue when importing the mocks API from another module other than 'vitest'.\nTo fix this issue you can either:\n- import the mocks API directly from 'vitest'\n- enable the 'globals' options`;\nfunction API_NOT_FOUND_CHECK(names) {\n\treturn `\\nif (${names.map((name) => `typeof globalThis[\"${name}\"] === \"undefined\"`).join(\" && \")}) ` + `{ throw new Error(${JSON.stringify(API_NOT_FOUND_ERROR)}) }\\n`;\n}\nfunction isIdentifier(node) {\n\treturn node.type === \"Identifier\";\n}\nfunction getNodeTail(code, node) {\n\tlet end = node.end;\n\tif (code[node.end] === \";\") {\n\t\tend += 1;\n\t}\n\tif (code[node.end] === \"\\n\") {\n\t\treturn end + 1;\n\t}\n\tif (code[node.end + 1] === \"\\n\") {\n\t\tend += 1;\n\t}\n\treturn end;\n}\nconst regexpHoistable = /\\b(?:vi|vitest)\\s*\\.\\s*(?:mock|unmock|hoisted|doMock|doUnmock)\\s*\\(/;\nconst hashbangRE = /^#!.*\\n/;\n// this is a fork of Vite SSR transform\nfunction hoistMocks(code, id, parse, options = {}) {\n\tvar _hashbangRE$exec;\n\tconst needHoisting = (options.regexpHoistable || regexpHoistable).test(code);\n\tif (!needHoisting) {\n\t\treturn;\n\t}\n\tconst s = new MagicString(code);\n\tlet ast;\n\ttry {\n\t\tast = parse(code);\n\t} catch (err) {\n\t\tconsole.error(`Cannot parse ${id}:\\n${err.message}.`);\n\t\treturn;\n\t}\n\tconst { hoistableMockMethodNames = [\"mock\", \"unmock\"], dynamicImportMockMethodNames = [\n\t\t\"mock\",\n\t\t\"unmock\",\n\t\t\"doMock\",\n\t\t\"doUnmock\"\n\t], hoistedMethodNames = [\"hoisted\"], utilsObjectNames = [\"vi\", \"vitest\"], hoistedModule = \"vitest\" } = options;\n\t// hoist at the start of the file, after the hashbang\n\tlet hoistIndex = ((_hashbangRE$exec = hashbangRE.exec(code)) === null || _hashbangRE$exec === void 0 ? void 0 : _hashbangRE$exec[0].length) ?? 0;\n\tlet hoistedModuleImported = false;\n\tlet uid = 0;\n\tconst idToImportMap = new Map();\n\tconst imports = [];\n\t// this will transform import statements into dynamic ones, if there are imports\n\t// it will keep the import as is, if we don't need to mock anything\n\t// in browser environment it will wrap the module value with \"vitest_wrap_module\" function\n\t// that returns a proxy to the module so that named exports can be mocked\n\tfunction defineImport(importNode) {\n\t\tconst source = importNode.source.value;\n\t\t// always hoist vitest import to top of the file, so\n\t\t// \"vi\" helpers can access it\n\t\tif (hoistedModule === source) {\n\t\t\thoistedModuleImported = true;\n\t\t\treturn;\n\t\t}\n\t\tconst importId = `__vi_import_${uid++}__`;\n\t\timports.push({\n\t\t\tid: importId,\n\t\t\tnode: importNode\n\t\t});\n\t\treturn importId;\n\t}\n\t// 1. check all import statements and record id -> importName map\n\tfor (const node of ast.body) {\n\t\t// import foo from 'foo' --> foo -> __import_foo__.default\n\t\t// import { baz } from 'foo' --> baz -> __import_foo__.baz\n\t\t// import * as ok from 'foo' --> ok -> __import_foo__\n\t\tif (node.type === \"ImportDeclaration\") {\n\t\t\tconst importId = defineImport(node);\n\t\t\tif (!importId) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tfor (const spec of node.specifiers) {\n\t\t\t\tif (spec.type === \"ImportSpecifier\") {\n\t\t\t\t\tif (spec.imported.type === \"Identifier\") {\n\t\t\t\t\t\tidToImportMap.set(spec.local.name, `${importId}.${spec.imported.name}`);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tidToImportMap.set(spec.local.name, `${importId}[${JSON.stringify(spec.imported.value)}]`);\n\t\t\t\t\t}\n\t\t\t\t} else if (spec.type === \"ImportDefaultSpecifier\") {\n\t\t\t\t\tidToImportMap.set(spec.local.name, `${importId}.default`);\n\t\t\t\t} else {\n\t\t\t\t\t// namespace specifier\n\t\t\t\t\tidToImportMap.set(spec.local.name, importId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tconst declaredConst = new Set();\n\tconst hoistedNodes = [];\n\tfunction createSyntaxError(node, message) {\n\t\tconst _error = new SyntaxError(message);\n\t\tError.captureStackTrace(_error, createSyntaxError);\n\t\tconst serializedError = {\n\t\t\tname: \"SyntaxError\",\n\t\t\tmessage: _error.message,\n\t\t\tstack: _error.stack\n\t\t};\n\t\tif (options.codeFrameGenerator) {\n\t\t\tserializedError.frame = options.codeFrameGenerator(node, id, code);\n\t\t}\n\t\treturn serializedError;\n\t}\n\tfunction assertNotDefaultExport(node, error) {\n\t\tvar _findNodeAround;\n\t\tconst defaultExport = (_findNodeAround = findNodeAround(ast, node.start, \"ExportDefaultDeclaration\")) === null || _findNodeAround === void 0 ? void 0 : _findNodeAround.node;\n\t\tif ((defaultExport === null || defaultExport === void 0 ? void 0 : defaultExport.declaration) === node || (defaultExport === null || defaultExport === void 0 ? void 0 : defaultExport.declaration.type) === \"AwaitExpression\" && defaultExport.declaration.argument === node) {\n\t\t\tthrow createSyntaxError(defaultExport, error);\n\t\t}\n\t}\n\tfunction assertNotNamedExport(node, error) {\n\t\tvar _findNodeAround2;\n\t\tconst nodeExported = (_findNodeAround2 = findNodeAround(ast, node.start, \"ExportNamedDeclaration\")) === null || _findNodeAround2 === void 0 ? void 0 : _findNodeAround2.node;\n\t\tif ((nodeExported === null || nodeExported === void 0 ? void 0 : nodeExported.declaration) === node) {\n\t\t\tthrow createSyntaxError(nodeExported, error);\n\t\t}\n\t}\n\tfunction getVariableDeclaration(node) {\n\t\tvar _findNodeAround3, _declarationNode$decl;\n\t\tconst declarationNode = (_findNodeAround3 = findNodeAround(ast, node.start, \"VariableDeclaration\")) === null || _findNodeAround3 === void 0 ? void 0 : _findNodeAround3.node;\n\t\tconst init = declarationNode === null || declarationNode === void 0 || (_declarationNode$decl = declarationNode.declarations[0]) === null || _declarationNode$decl === void 0 ? void 0 : _declarationNode$decl.init;\n\t\tif (init && (init === node || init.type === \"AwaitExpression\" && init.argument === node)) {\n\t\t\treturn declarationNode;\n\t\t}\n\t}\n\tconst usedUtilityExports = new Set();\n\tesmWalker(ast, {\n\t\tonIdentifier(id, info, parentStack) {\n\t\t\tconst binding = idToImportMap.get(id.name);\n\t\t\tif (!binding) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (info.hasBindingShortcut) {\n\t\t\t\ts.appendLeft(id.end, `: ${binding}`);\n\t\t\t} else if (info.classDeclaration) {\n\t\t\t\tif (!declaredConst.has(id.name)) {\n\t\t\t\t\tdeclaredConst.add(id.name);\n\t\t\t\t\t// locate the top-most node containing the class declaration\n\t\t\t\t\tconst topNode = parentStack[parentStack.length - 2];\n\t\t\t\t\ts.prependRight(topNode.start, `const ${id.name} = ${binding};\\n`);\n\t\t\t\t}\n\t\t\t} else if (!info.classExpression) {\n\t\t\t\ts.update(id.start, id.end, binding);\n\t\t\t}\n\t\t},\n\t\tonCallExpression(node) {\n\t\t\tif (node.callee.type === \"MemberExpression\" && isIdentifier(node.callee.object) && utilsObjectNames.includes(node.callee.object.name) && isIdentifier(node.callee.property)) {\n\t\t\t\tconst methodName = node.callee.property.name;\n\t\t\t\tusedUtilityExports.add(node.callee.object.name);\n\t\t\t\tif (hoistableMockMethodNames.includes(methodName)) {\n\t\t\t\t\tconst method = `${node.callee.object.name}.${methodName}`;\n\t\t\t\t\tassertNotDefaultExport(node, `Cannot export the result of \"${method}\". Remove export declaration because \"${method}\" doesn\\'t return anything.`);\n\t\t\t\t\tconst declarationNode = getVariableDeclaration(node);\n\t\t\t\t\tif (declarationNode) {\n\t\t\t\t\t\tassertNotNamedExport(declarationNode, `Cannot export the result of \"${method}\". Remove export declaration because \"${method}\" doesn\\'t return anything.`);\n\t\t\t\t\t}\n\t\t\t\t\t// rewrite vi.mock(import('..')) into vi.mock('..')\n\t\t\t\t\tif (node.type === \"CallExpression\" && node.callee.type === \"MemberExpression\" && dynamicImportMockMethodNames.includes(node.callee.property.name)) {\n\t\t\t\t\t\tconst moduleInfo = node.arguments[0];\n\t\t\t\t\t\t// vi.mock(import('./path')) -> vi.mock('./path')\n\t\t\t\t\t\tif (moduleInfo.type === \"ImportExpression\") {\n\t\t\t\t\t\t\tconst source = moduleInfo.source;\n\t\t\t\t\t\t\ts.overwrite(moduleInfo.start, moduleInfo.end, s.slice(source.start, source.end));\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// vi.mock(await import('./path')) -> vi.mock('./path')\n\t\t\t\t\t\tif (moduleInfo.type === \"AwaitExpression\" && moduleInfo.argument.type === \"ImportExpression\") {\n\t\t\t\t\t\t\tconst source = moduleInfo.argument.source;\n\t\t\t\t\t\t\ts.overwrite(moduleInfo.start, moduleInfo.end, s.slice(source.start, source.end));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\thoistedNodes.push(node);\n\t\t\t\t} else if (dynamicImportMockMethodNames.includes(methodName)) {\n\t\t\t\t\tconst moduleInfo = node.arguments[0];\n\t\t\t\t\tlet source = null;\n\t\t\t\t\tif (moduleInfo.type === \"ImportExpression\") {\n\t\t\t\t\t\tsource = moduleInfo.source;\n\t\t\t\t\t}\n\t\t\t\t\tif (moduleInfo.type === \"AwaitExpression\" && moduleInfo.argument.type === \"ImportExpression\") {\n\t\t\t\t\t\tsource = moduleInfo.argument.source;\n\t\t\t\t\t}\n\t\t\t\t\tif (source) {\n\t\t\t\t\t\ts.overwrite(moduleInfo.start, moduleInfo.end, s.slice(source.start, source.end));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (hoistedMethodNames.includes(methodName)) {\n\t\t\t\t\tassertNotDefaultExport(node, \"Cannot export hoisted variable. You can control hoisting behavior by placing the import from this file first.\");\n\t\t\t\t\tconst declarationNode = getVariableDeclaration(node);\n\t\t\t\t\tif (declarationNode) {\n\t\t\t\t\t\tassertNotNamedExport(declarationNode, \"Cannot export hoisted variable. You can control hoisting behavior by placing the import from this file first.\");\n\t\t\t\t\t\t// hoist \"const variable = vi.hoisted(() => {})\"\n\t\t\t\t\t\thoistedNodes.push(declarationNode);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar _findNodeAround4;\n\t\t\t\t\t\tconst awaitedExpression = (_findNodeAround4 = findNodeAround(ast, node.start, \"AwaitExpression\")) === null || _findNodeAround4 === void 0 ? void 0 : _findNodeAround4.node;\n\t\t\t\t\t\t// hoist \"await vi.hoisted(async () => {})\" or \"vi.hoisted(() => {})\"\n\t\t\t\t\t\tconst moveNode = (awaitedExpression === null || awaitedExpression === void 0 ? void 0 : awaitedExpression.argument) === node ? awaitedExpression : node;\n\t\t\t\t\t\thoistedNodes.push(moveNode);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\tfunction getNodeName(node) {\n\t\tconst callee = node.callee || {};\n\t\tif (callee.type === \"MemberExpression\" && isIdentifier(callee.property) && isIdentifier(callee.object)) {\n\t\t\treturn `${callee.object.name}.${callee.property.name}()`;\n\t\t}\n\t\treturn \"\\\"hoisted method\\\"\";\n\t}\n\tfunction getNodeCall(node) {\n\t\tif (node.type === \"CallExpression\") {\n\t\t\treturn node;\n\t\t}\n\t\tif (node.type === \"VariableDeclaration\") {\n\t\t\tconst { declarations } = node;\n\t\t\tconst init = declarations[0].init;\n\t\t\tif (init) {\n\t\t\t\treturn getNodeCall(init);\n\t\t\t}\n\t\t}\n\t\tif (node.type === \"AwaitExpression\") {\n\t\t\tconst { argument } = node;\n\t\t\tif (argument.type === \"CallExpression\") {\n\t\t\t\treturn getNodeCall(argument);\n\t\t\t}\n\t\t}\n\t\treturn node;\n\t}\n\tfunction createError(outsideNode, insideNode) {\n\t\tconst outsideCall = getNodeCall(outsideNode);\n\t\tconst insideCall = getNodeCall(insideNode);\n\t\tthrow createSyntaxError(insideCall, `Cannot call ${getNodeName(insideCall)} inside ${getNodeName(outsideCall)}: both methods are hoisted to the top of the file and not actually called inside each other.`);\n\t}\n\t// validate hoistedNodes doesn't have nodes inside other nodes\n\tfor (let i = 0; i < hoistedNodes.length; i++) {\n\t\tconst node = hoistedNodes[i];\n\t\tfor (let j = i + 1; j < hoistedNodes.length; j++) {\n\t\t\tconst otherNode = hoistedNodes[j];\n\t\t\tif (node.start >= otherNode.start && node.end <= otherNode.end) {\n\t\t\t\tthrow createError(otherNode, node);\n\t\t\t}\n\t\t\tif (otherNode.start >= node.start && otherNode.end <= node.end) {\n\t\t\t\tthrow createError(node, otherNode);\n\t\t\t}\n\t\t}\n\t}\n\t// hoist vi.mock/vi.hoisted\n\tfor (const node of hoistedNodes) {\n\t\tconst end = getNodeTail(code, node);\n\t\t// don't hoist into itself if it's already at the top\n\t\tif (hoistIndex === end || hoistIndex === node.start) {\n\t\t\thoistIndex = end;\n\t\t} else {\n\t\t\ts.move(node.start, end, hoistIndex);\n\t\t}\n\t}\n\t// hoist actual dynamic imports last so they are inserted after all hoisted mocks\n\tfor (const { node: importNode, id: importId } of imports) {\n\t\tconst source = importNode.source.value;\n\t\ts.update(importNode.start, importNode.end, `const ${importId} = await import(${JSON.stringify(source)});\\n`);\n\t\tif (importNode.start === hoistIndex) {\n\t\t\t// no need to hoist, but update hoistIndex to keep the order\n\t\t\thoistIndex = importNode.end;\n\t\t} else {\n\t\t\t// There will be an error if the module is called before it is imported,\n\t\t\t// so the module import statement is hoisted to the top\n\t\t\ts.move(importNode.start, importNode.end, hoistIndex);\n\t\t}\n\t}\n\tif (!hoistedModuleImported && hoistedNodes.length) {\n\t\tconst utilityImports = [...usedUtilityExports];\n\t\t// \"vi\" or \"vitest\" is imported from a module other than \"vitest\"\n\t\tif (utilityImports.some((name) => idToImportMap.has(name))) {\n\t\t\ts.prepend(API_NOT_FOUND_CHECK(utilityImports));\n\t\t} else if (utilityImports.length) {\n\t\t\ts.prepend(`import { ${[...usedUtilityExports].join(\", \")} } from ${JSON.stringify(hoistedModule)}\\n`);\n\t\t}\n\t}\n\treturn {\n\t\tcode: s.toString(),\n\t\tmap: s.generateMap({\n\t\t\thires: \"boundary\",\n\t\t\tsource: id\n\t\t})\n\t};\n}\n\nfunction interceptorPlugin(options = {}) {\n\tconst registry = options.registry || new MockerRegistry();\n\treturn {\n\t\tname: \"vitest:mocks:interceptor\",\n\t\tenforce: \"pre\",\n\t\tload: {\n\t\t\torder: \"pre\",\n\t\t\tasync handler(id) {\n\t\t\t\tconst mock = registry.getById(id);\n\t\t\t\tif (!mock) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (mock.type === \"manual\") {\n\t\t\t\t\tconst exports = Object.keys(await mock.resolve());\n\t\t\t\t\tconst accessor = options.globalThisAccessor || \"\\\"__vitest_mocker__\\\"\";\n\t\t\t\t\treturn createManualModuleSource(mock.url, exports, accessor);\n\t\t\t\t}\n\t\t\t\tif (mock.type === \"redirect\") {\n\t\t\t\t\treturn readFile(mock.redirect, \"utf-8\");\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\ttransform: {\n\t\t\torder: \"post\",\n\t\t\thandler(code, id) {\n\t\t\t\tconst mock = registry.getById(id);\n\t\t\t\tif (!mock) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (mock.type === \"automock\" || mock.type === \"autospy\") {\n\t\t\t\t\tconst m = automockModule(code, mock.type, this.parse, { globalThisAccessor: options.globalThisAccessor });\n\t\t\t\t\treturn {\n\t\t\t\t\t\tcode: m.toString(),\n\t\t\t\t\t\tmap: m.generateMap({\n\t\t\t\t\t\t\thires: \"boundary\",\n\t\t\t\t\t\t\tsource: cleanUrl(id)\n\t\t\t\t\t\t})\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tconfigureServer(server) {\n\t\t\tserver.ws.on(\"vitest:interceptor:register\", (event) => {\n\t\t\t\tif (event.type === \"manual\") {\n\t\t\t\t\tconst module = ManualMockedModule.fromJSON(event, async () => {\n\t\t\t\t\t\tconst keys = await getFactoryExports(event.url);\n\t\t\t\t\t\treturn Object.fromEntries(keys.map((key) => [key, null]));\n\t\t\t\t\t});\n\t\t\t\t\tregistry.add(module);\n\t\t\t\t} else {\n\t\t\t\t\tif (event.type === \"redirect\") {\n\t\t\t\t\t\tconst redirectUrl = new URL(event.redirect);\n\t\t\t\t\t\tevent.redirect = join(server.config.root, redirectUrl.pathname);\n\t\t\t\t\t}\n\t\t\t\t\tregistry.register(event);\n\t\t\t\t}\n\t\t\t\tserver.ws.send(\"vitest:interceptor:register:result\");\n\t\t\t});\n\t\t\tserver.ws.on(\"vitest:interceptor:delete\", (id) => {\n\t\t\t\tregistry.delete(id);\n\t\t\t\tserver.ws.send(\"vitest:interceptor:delete:result\");\n\t\t\t});\n\t\t\tserver.ws.on(\"vitest:interceptor:invalidate\", () => {\n\t\t\t\tregistry.clear();\n\t\t\t\tserver.ws.send(\"vitest:interceptor:invalidate:result\");\n\t\t\t});\n\t\t\tfunction getFactoryExports(url) {\n\t\t\t\tserver.ws.send(\"vitest:interceptor:resolve\", url);\n\t\t\t\tlet timeout;\n\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\ttimeout = setTimeout(() => {\n\t\t\t\t\t\treject(new Error(`Timeout while waiting for factory exports of ${url}`));\n\t\t\t\t\t}, 1e4);\n\t\t\t\t\tserver.ws.on(\"vitest:interceptor:resolved\", ({ url: resolvedUrl, keys }) => {\n\t\t\t\t\t\tif (resolvedUrl === url) {\n\t\t\t\t\t\t\tclearTimeout(timeout);\n\t\t\t\t\t\t\tresolve(keys);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n}\n\nconst VALID_ID_PREFIX = \"/@id/\";\nclass ServerMockResolver {\n\tconstructor(server, options = {}) {\n\t\tthis.server = server;\n\t\tthis.options = options;\n\t}\n\tasync resolveMock(rawId, importer, options) {\n\t\tconst { id, fsPath, external } = await this.resolveMockId(rawId, importer);\n\t\tconst resolvedUrl = this.normalizeResolveIdToUrl({ id }).url;\n\t\tif (options.mock === \"factory\") {\n\t\t\tvar _manifest$fsPath;\n\t\t\tconst manifest = getViteDepsManifest(this.server.config);\n\t\t\tconst needsInterop = (manifest === null || manifest === void 0 || (_manifest$fsPath = manifest[fsPath]) === null || _manifest$fsPath === void 0 ? void 0 : _manifest$fsPath.needsInterop) ?? false;\n\t\t\treturn {\n\t\t\t\tmockType: \"manual\",\n\t\t\t\tresolvedId: id,\n\t\t\t\tresolvedUrl,\n\t\t\t\tneedsInterop\n\t\t\t};\n\t\t}\n\t\tif (options.mock === \"spy\") {\n\t\t\treturn {\n\t\t\t\tmockType: \"autospy\",\n\t\t\t\tresolvedId: id,\n\t\t\t\tresolvedUrl\n\t\t\t};\n\t\t}\n\t\tconst redirectUrl = findMockRedirect(this.server.config.root, fsPath, external);\n\t\treturn {\n\t\t\tmockType: redirectUrl === null ? \"automock\" : \"redirect\",\n\t\t\tredirectUrl,\n\t\t\tresolvedId: id,\n\t\t\tresolvedUrl\n\t\t};\n\t}\n\tinvalidate(ids) {\n\t\tids.forEach((id) => {\n\t\t\tconst moduleGraph = this.server.moduleGraph;\n\t\t\tconst module = moduleGraph.getModuleById(id);\n\t\t\tif (module) {\n\t\t\t\tmodule.transformResult = null;\n\t\t\t}\n\t\t});\n\t}\n\tasync resolveId(id, importer) {\n\t\tconst resolved = await this.server.pluginContainer.resolveId(id, importer, { ssr: false });\n\t\tif (!resolved) {\n\t\t\treturn null;\n\t\t}\n\t\treturn this.normalizeResolveIdToUrl(resolved);\n\t}\n\tnormalizeResolveIdToUrl(resolved) {\n\t\tconst isOptimized = resolved.id.startsWith(withTrailingSlash(this.server.config.cacheDir));\n\t\tlet url;\n\t\t// normalise the URL to be acceptable by the browser\n\t\t// https://github.com/vitejs/vite/blob/14027b0f2a9b01c14815c38aab22baf5b29594bb/packages/vite/src/node/plugins/importAnalysis.ts#L103\n\t\tconst root = this.server.config.root;\n\t\tif (resolved.id.startsWith(withTrailingSlash(root))) {\n\t\t\turl = resolved.id.slice(root.length);\n\t\t} else if (resolved.id !== \"/@react-refresh\" && isAbsolute(resolved.id) && existsSync(cleanUrl(resolved.id))) {\n\t\t\turl = join$1(\"/@fs/\", resolved.id);\n\t\t} else {\n\t\t\turl = resolved.id;\n\t\t}\n\t\tif (url[0] !== \".\" && url[0] !== \"/\") {\n\t\t\turl = resolved.id.startsWith(VALID_ID_PREFIX) ? resolved.id : VALID_ID_PREFIX + resolved.id.replace(\"\\0\", \"__x00__\");\n\t\t}\n\t\treturn {\n\t\t\tid: resolved.id,\n\t\t\turl,\n\t\t\toptimized: isOptimized\n\t\t};\n\t}\n\tasync resolveMockId(rawId, importer) {\n\t\tif (!this.server.moduleGraph.getModuleById(importer) && !importer.startsWith(this.server.config.root)) {\n\t\t\timporter = join$1(this.server.config.root, importer);\n\t\t}\n\t\tconst resolved = await this.server.pluginContainer.resolveId(rawId, importer, { ssr: false });\n\t\treturn this.resolveModule(rawId, resolved);\n\t}\n\tresolveModule(rawId, resolved) {\n\t\tconst id = (resolved === null || resolved === void 0 ? void 0 : resolved.id) || rawId;\n\t\tconst external = !isAbsolute(id) || isModuleDirectory(this.options, id) ? rawId : null;\n\t\treturn {\n\t\t\tid,\n\t\t\tfsPath: cleanUrl(id),\n\t\t\texternal\n\t\t};\n\t}\n}\nfunction isModuleDirectory(config, path) {\n\tconst moduleDirectories = config.moduleDirectories || [\"/node_modules/\"];\n\treturn moduleDirectories.some((dir) => path.includes(dir));\n}\nconst metadata = new WeakMap();\nfunction getViteDepsManifest(config) {\n\tif (metadata.has(config)) {\n\t\treturn metadata.get(config);\n\t}\n\tconst cacheDirPath = getDepsCacheDir(config);\n\tconst metadataPath = resolve(cacheDirPath, \"_metadata.json\");\n\tif (!existsSync(metadataPath)) {\n\t\treturn null;\n\t}\n\tconst { optimized } = JSON.parse(readFileSync(metadataPath, \"utf-8\"));\n\tconst newManifest = {};\n\tfor (const name in optimized) {\n\t\tconst dep = optimized[name];\n\t\tconst file = resolve(cacheDirPath, dep.file);\n\t\tnewManifest[file] = {\n\t\t\thash: dep.fileHash,\n\t\t\tneedsInterop: dep.needsInterop\n\t\t};\n\t}\n\tmetadata.set(config, newManifest);\n\treturn newManifest;\n}\nfunction getDepsCacheDir(config) {\n\treturn resolve(config.cacheDir, \"deps\");\n}\nfunction withTrailingSlash(path) {\n\tif (path.at(-1) !== \"/\") {\n\t\treturn `${path}/`;\n\t}\n\treturn path;\n}\n\n// this is an implementation for public usage\n// vitest doesn't use this plugin directly\nfunction mockerPlugin(options = {}) {\n\tlet server;\n\tconst registerPath = resolve(fileURLToPath(new URL(\"./register.js\", import.meta.url)));\n\treturn [\n\t\t{\n\t\t\tname: \"vitest:mocker:ws-rpc\",\n\t\t\tconfig(_, { command }) {\n\t\t\t\tif (command !== \"serve\") {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\tserver: { preTransformRequests: false },\n\t\t\t\t\toptimizeDeps: { exclude: [\"@vitest/mocker/register\", \"@vitest/mocker/browser\"] }\n\t\t\t\t};\n\t\t\t},\n\t\t\tconfigureServer(server_) {\n\t\t\t\tserver = server_;\n\t\t\t\tconst mockResolver = new ServerMockResolver(server);\n\t\t\t\tserver.ws.on(\"vitest:mocks:resolveId\", async ({ id, importer }) => {\n\t\t\t\t\tconst resolved = await mockResolver.resolveId(id, importer);\n\t\t\t\t\tserver.ws.send(\"vitest:mocks:resolvedId:result\", resolved);\n\t\t\t\t});\n\t\t\t\tserver.ws.on(\"vitest:mocks:resolveMock\", async ({ id, importer, options }) => {\n\t\t\t\t\tconst resolved = await mockResolver.resolveMock(id, importer, options);\n\t\t\t\t\tserver.ws.send(\"vitest:mocks:resolveMock:result\", resolved);\n\t\t\t\t});\n\t\t\t\tserver.ws.on(\"vitest:mocks:invalidate\", async ({ ids }) => {\n\t\t\t\t\tmockResolver.invalidate(ids);\n\t\t\t\t\tserver.ws.send(\"vitest:mocks:invalidate:result\");\n\t\t\t\t});\n\t\t\t},\n\t\t\tasync load(id) {\n\t\t\t\tif (id !== registerPath) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (!server) {\n\t\t\t\t\t// mocker doesn't work during build\n\t\t\t\t\treturn \"export {}\";\n\t\t\t\t}\n\t\t\t\tconst content = await readFile(registerPath, \"utf-8\");\n\t\t\t\tconst result = content.replace(/__VITEST_GLOBAL_THIS_ACCESSOR__/g, options.globalThisAccessor ?? \"\\\"__vitest_mocker__\\\"\").replace(\"__VITEST_MOCKER_ROOT__\", JSON.stringify(server.config.root));\n\t\t\t\treturn result;\n\t\t\t}\n\t\t},\n\t\thoistMocksPlugin(options.hoistMocks),\n\t\tinterceptorPlugin(options),\n\t\tautomockPlugin(options),\n\t\tdynamicImportPlugin(options)\n\t];\n}\n\nexport { ServerMockResolver, automockModule, automockPlugin, createManualModuleSource, dynamicImportPlugin, findMockRedirect, hoistMocks, hoistMocksPlugin, interceptorPlugin, mockerPlugin };\n", "import fs from 'node:fs';\nimport nodeModule from 'node:module';\nimport { d as dirname, j as join, b as basename, r as resolve, e as extname } from './chunk-pathe.M-eThtNZ.js';\n\nconst { existsSync, readdirSync, statSync } = fs;\nfunction findMockRedirect(root, mockPath, external) {\n\tconst path = external || mockPath;\n\t// it's a node_module alias\n\t// all mocks should be inside <root>/__mocks__\n\tif (external || isNodeBuiltin(mockPath) || !existsSync(mockPath)) {\n\t\tconst mockDirname = dirname(path);\n\t\tconst mockFolder = join(root, \"__mocks__\", mockDirname);\n\t\tif (!existsSync(mockFolder)) {\n\t\t\treturn null;\n\t\t}\n\t\tconst baseOriginal = basename(path);\n\t\tfunction findFile(mockFolder, baseOriginal) {\n\t\t\tconst files = readdirSync(mockFolder);\n\t\t\tfor (const file of files) {\n\t\t\t\tconst baseFile = basename(file, extname(file));\n\t\t\t\tif (baseFile === baseOriginal) {\n\t\t\t\t\tconst path = resolve(mockFolder, file);\n\t\t\t\t\t// if the same name, return the file\n\t\t\t\t\tif (statSync(path).isFile()) {\n\t\t\t\t\t\treturn path;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// find folder/index.{js,ts}\n\t\t\t\t\t\tconst indexFile = findFile(path, \"index\");\n\t\t\t\t\t\tif (indexFile) {\n\t\t\t\t\t\t\treturn indexFile;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t\treturn findFile(mockFolder, baseOriginal);\n\t}\n\tconst dir = dirname(path);\n\tconst baseId = basename(path);\n\tconst fullPath = resolve(dir, \"__mocks__\", baseId);\n\treturn existsSync(fullPath) ? fullPath : null;\n}\nconst builtins = new Set([\n\t...nodeModule.builtinModules,\n\t\"assert/strict\",\n\t\"diagnostics_channel\",\n\t\"dns/promises\",\n\t\"fs/promises\",\n\t\"path/posix\",\n\t\"path/win32\",\n\t\"readline/promises\",\n\t\"stream/consumers\",\n\t\"stream/promises\",\n\t\"stream/web\",\n\t\"timers/promises\",\n\t\"util/types\",\n\t\"wasi\"\n]);\n// https://nodejs.org/api/modules.html#built-in-modules-with-mandatory-node-prefix\nconst prefixedBuiltins = new Set([\n\t\"node:sea\",\n\t\"node:sqlite\",\n\t\"node:test\",\n\t\"node:test/reporters\"\n]);\nconst NODE_BUILTIN_NAMESPACE = \"node:\";\nfunction isNodeBuiltin(id) {\n\t// Added in v18.6.0\n\tif (nodeModule.isBuiltin) {\n\t\treturn nodeModule.isBuiltin(id);\n\t}\n\tif (prefixedBuiltins.has(id)) {\n\t\treturn true;\n\t}\n\treturn builtins.has(id.startsWith(NODE_BUILTIN_NAMESPACE) ? id.slice(NODE_BUILTIN_NAMESPACE.length) : id);\n}\n\nexport { findMockRedirect };\n", "import fs from 'node:fs';\nimport { j as join, d as dirname } from './chunk-pathe.M-eThtNZ.js';\n\nconst packageCache = new Map();\nfunction findNearestPackageData(basedir) {\n\tconst originalBasedir = basedir;\n\twhile (basedir) {\n\t\tvar _tryStatSync;\n\t\tconst cached = getCachedData(packageCache, basedir, originalBasedir);\n\t\tif (cached) {\n\t\t\treturn cached;\n\t\t}\n\t\tconst pkgPath = join(basedir, \"package.json\");\n\t\tif ((_tryStatSync = tryStatSync(pkgPath)) === null || _tryStatSync === void 0 ? void 0 : _tryStatSync.isFile()) {\n\t\t\tconst pkgData = JSON.parse(stripBomTag(fs.readFileSync(pkgPath, \"utf8\")));\n\t\t\tif (packageCache) {\n\t\t\t\tsetCacheData(packageCache, pkgData, basedir, originalBasedir);\n\t\t\t}\n\t\t\treturn pkgData;\n\t\t}\n\t\tconst nextBasedir = dirname(basedir);\n\t\tif (nextBasedir === basedir) {\n\t\t\tbreak;\n\t\t}\n\t\tbasedir = nextBasedir;\n\t}\n\treturn {};\n}\nfunction stripBomTag(content) {\n\tif (content.charCodeAt(0) === 65279) {\n\t\treturn content.slice(1);\n\t}\n\treturn content;\n}\nfunction tryStatSync(file) {\n\ttry {\n\t\t// The \"throwIfNoEntry\" is a performance optimization for cases where the file does not exist\n\t\treturn fs.statSync(file, { throwIfNoEntry: false });\n\t} catch {}\n}\nfunction getCachedData(cache, basedir, originalBasedir) {\n\tconst pkgData = cache.get(getFnpdCacheKey(basedir));\n\tif (pkgData) {\n\t\ttraverseBetweenDirs(originalBasedir, basedir, (dir) => {\n\t\t\tcache.set(getFnpdCacheKey(dir), pkgData);\n\t\t});\n\t\treturn pkgData;\n\t}\n}\nfunction setCacheData(cache, data, basedir, originalBasedir) {\n\tcache.set(getFnpdCacheKey(basedir), data);\n\ttraverseBetweenDirs(originalBasedir, basedir, (dir) => {\n\t\tcache.set(getFnpdCacheKey(dir), data);\n\t});\n}\nfunction getFnpdCacheKey(basedir) {\n\treturn `fnpd_${basedir}`;\n}\n/**\n* Traverse between `longerDir` (inclusive) and `shorterDir` (exclusive) and call `cb` for each dir.\n* @param longerDir Longer dir path, e.g. `/User/foo/bar/baz`\n* @param shorterDir Shorter dir path, e.g. `/User/foo`\n*/\nfunction traverseBetweenDirs(longerDir, shorterDir, cb) {\n\twhile (longerDir !== shorterDir) {\n\t\tcb(longerDir);\n\t\tlongerDir = dirname(longerDir);\n\t}\n}\n\nexport { findNearestPackageData, getCachedData, setCacheData };\n", "/* es-module-lexer 1.7.0 */\nexport var ImportType;!function(A){A[A.Static=1]=\"Static\",A[A.Dynamic=2]=\"Dynamic\",A[A.ImportMeta=3]=\"ImportMeta\",A[A.StaticSourcePhase=4]=\"StaticSourcePhase\",A[A.DynamicSourcePhase=5]=\"DynamicSourcePhase\",A[A.StaticDeferPhase=6]=\"StaticDeferPhase\",A[A.DynamicDeferPhase=7]=\"DynamicDeferPhase\"}(ImportType||(ImportType={}));const A=1===new Uint8Array(new Uint16Array([1]).buffer)[0];export function parse(E,g=\"@\"){if(!C)return init.then((()=>parse(E)));const I=E.length+1,w=(C.__heap_base.value||C.__heap_base)+4*I-C.memory.buffer.byteLength;w>0&&C.memory.grow(Math.ceil(w/65536));const K=C.sa(I-1);if((A?B:Q)(E,new Uint16Array(C.memory.buffer,K,I)),!C.parse())throw Object.assign(new Error(`Parse error ${g}:${E.slice(0,C.e()).split(\"\\n\").length}:${C.e()-E.lastIndexOf(\"\\n\",C.e()-1)}`),{idx:C.e()});const o=[],D=[];for(;C.ri();){const A=C.is(),Q=C.ie(),B=C.it(),g=C.ai(),I=C.id(),w=C.ss(),K=C.se();let D;C.ip()&&(D=k(E.slice(-1===I?A-1:A,-1===I?Q+1:Q))),o.push({n:D,t:B,s:A,e:Q,ss:w,se:K,d:I,a:g})}for(;C.re();){const A=C.es(),Q=C.ee(),B=C.els(),g=C.ele(),I=E.slice(A,Q),w=I[0],K=B<0?void 0:E.slice(B,g),o=K?K[0]:\"\";D.push({s:A,e:Q,ls:B,le:g,n:'\"'===w||\"'\"===w?k(I):I,ln:'\"'===o||\"'\"===o?k(K):K})}function k(A){try{return(0,eval)(A)}catch(A){}}return[o,D,!!C.f(),!!C.ms()]}function Q(A,Q){const B=A.length;let C=0;for(;C<B;){const B=A.charCodeAt(C);Q[C++]=(255&B)<<8|B>>>8}}function B(A,Q){const B=A.length;let C=0;for(;C<B;)Q[C]=A.charCodeAt(C++)}let C;const E=()=>{return A=\"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GzYCHAtBAEEAKAKwCkECajYCsAoCQAJAAkACQEEAECkiAUHhAEYNACABQfcARg0BQQAoArAKIQEMAgtBACgCsAoiAUECakHACEEKEC8NAUEGIQIMAgtBACgCsAoiAS8BAkHpAEcNACABLwEEQfQARw0AQQQhAiABLwEGQegARg0BC0EAIAFBfmo2ArAKDwtBACABIAJBAXRqNgKwCgJAQQEQKUH7AEYNAEEAIAE2ArAKDwtBACgCsAoiACECA0BBACACQQJqNgKwCgJAAkACQEEBECkiAkEiRg0AIAJBJ0cNAUEnEBpBAEEAKAKwCkECajYCsApBARApIQIMAgtBIhAaQQBBACgCsApBAmo2ArAKQQEQKSECDAELIAIQLCECCwJAIAJBOkYNAEEAIAE2ArAKDwtBAEEAKAKwCkECajYCsAoCQEEBECkiAkEiRg0AIAJBJ0YNAEEAIAE2ArAKDwsgAhAaQQBBACgCsApBAmo2ArAKAkACQEEBECkiAkEsRg0AIAJB/QBGDQFBACABNgKwCg8LQQBBACgCsApBAmo2ArAKQQEQKUH9AEYNAEEAKAKwCiECDAELC0EAKALwCSIBIAA2AhAgAUEAKAKwCkECajYCDAttAQJ/AkACQANAAkAgAEH//wNxIgFBd2oiAkEXSw0AQQEgAnRBn4CABHENAgsgAUGgAUYNASAAIQIgARAoDQJBACECQQBBACgCsAoiAEECajYCsAogAC8BAiIADQAMAgsLIAAhAgsgAkH//wNxC6sBAQR/AkACQEEAKAKwCiICLwEAIgNB4QBGDQAgASEEIAAhBQwBC0EAIAJBBGo2ArAKQQEQKSECQQAoArAKIQUCQAJAIAJBIkYNACACQSdGDQAgAhAsGkEAKAKwCiEEDAELIAIQGkEAQQAoArAKQQJqIgQ2ArAKC0EBECkhA0EAKAKwCiECCwJAIAIgBUYNACAFIARBACAAIAAgAUYiAhtBACABIAIbEAILIAMLcgEEf0EAKAKwCiEAQQAoArQKIQECQAJAA0AgAEECaiECIAAgAU8NAQJAAkAgAi8BACIDQaR/ag4CAQQACyACIQAgA0F2ag4EAgEBAgELIABBBGohAAwACwtBACACNgKwChAlQQAPC0EAIAI2ArAKQd0AC0kBA39BACEDAkAgAkUNAAJAA0AgAC0AACIEIAEtAAAiBUcNASABQQFqIQEgAEEBaiEAIAJBf2oiAg0ADAILCyAEIAVrIQMLIAMLC+wBAgBBgAgLzgEAAHgAcABvAHIAdABtAHAAbwByAHQAZgBvAHIAZQB0AGEAbwB1AHIAYwBlAHIAbwBtAHUAbgBjAHQAaQBvAG4AcwBzAGUAcgB0AHYAbwB5AGkAZQBkAGUAbABlAGMAbwBuAHQAaQBuAGkAbgBzAHQAYQBuAHQAeQBiAHIAZQBhAHIAZQB0AHUAcgBkAGUAYgB1AGcAZwBlAGEAdwBhAGkAdABoAHIAdwBoAGkAbABlAGkAZgBjAGEAdABjAGYAaQBuAGEAbABsAGUAbABzAABB0AkLEAEAAAACAAAAAAQAAEA5AAA=\",\"undefined\"!=typeof Buffer?Buffer.from(A,\"base64\"):Uint8Array.from(atob(A),(A=>A.charCodeAt(0)));var A};export const init=WebAssembly.compile(E()).then(WebAssembly.instantiate).then((({exports:A})=>{C=A}));export const initSync=()=>{if(C)return;const A=new WebAssembly.Module(E());C=new WebAssembly.Instance(A).exports};", "import fs from 'node:fs';\nimport { getTasks, getFullName, getTests } from '@vitest/runner/utils';\nimport * as pathe from 'pathe';\nimport c from 'tinyrainbow';\nimport { g as getStateSymbol, t as truncateString, F as F_RIGHT, D as DefaultReporter, f as formatProjectName, s as separator } from './index.CcRZ6fUh.js';\nimport { stripVTControlCharacters } from 'node:util';\nimport { notNullish } from '@vitest/utils/helpers';\n\nfunction createBenchmarkJsonReport(files) {\n\tconst report = { files: [] };\n\tfor (const file of files) {\n\t\tconst groups = [];\n\t\tfor (const task of getTasks(file)) if (task?.type === \"suite\") {\n\t\t\tconst benchmarks = [];\n\t\t\tfor (const t of task.tasks) {\n\t\t\t\tconst benchmark = t.meta.benchmark && t.result?.benchmark;\n\t\t\t\tif (benchmark) benchmarks.push({\n\t\t\t\t\tid: t.id,\n\t\t\t\t\t...benchmark,\n\t\t\t\t\tsamples: []\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (benchmarks.length) groups.push({\n\t\t\t\tfullName: getFullName(task, \" > \"),\n\t\t\t\tbenchmarks\n\t\t\t});\n\t\t}\n\t\treport.files.push({\n\t\t\tfilepath: file.filepath,\n\t\t\tgroups\n\t\t});\n\t}\n\treturn report;\n}\nfunction flattenFormattedBenchmarkReport(report) {\n\tconst flat = {};\n\tfor (const file of report.files) for (const group of file.groups) for (const t of group.benchmarks) flat[t.id] = t;\n\treturn flat;\n}\n\nconst outputMap = /* @__PURE__ */ new WeakMap();\nfunction formatNumber(number) {\n\tconst res = String(number.toFixed(number < 100 ? 4 : 2)).split(\".\");\n\treturn res[0].replace(/(?=(?:\\d{3})+$)\\B/g, \",\") + (res[1] ? `.${res[1]}` : \"\");\n}\nconst tableHead = [\n\t\"name\",\n\t\"hz\",\n\t\"min\",\n\t\"max\",\n\t\"mean\",\n\t\"p75\",\n\t\"p99\",\n\t\"p995\",\n\t\"p999\",\n\t\"rme\",\n\t\"samples\"\n];\nfunction renderBenchmarkItems(result) {\n\treturn [\n\t\tresult.name,\n\t\tformatNumber(result.hz || 0),\n\t\tformatNumber(result.min || 0),\n\t\tformatNumber(result.max || 0),\n\t\tformatNumber(result.mean || 0),\n\t\tformatNumber(result.p75 || 0),\n\t\tformatNumber(result.p99 || 0),\n\t\tformatNumber(result.p995 || 0),\n\t\tformatNumber(result.p999 || 0),\n\t\t`±${(result.rme || 0).toFixed(2)}%`,\n\t\t(result.sampleCount || 0).toString()\n\t];\n}\nfunction computeColumnWidths(results) {\n\tconst rows = [tableHead, ...results.map((v) => renderBenchmarkItems(v))];\n\treturn Array.from(tableHead, (_, i) => Math.max(...rows.map((row) => stripVTControlCharacters(row[i]).length)));\n}\nfunction padRow(row, widths) {\n\treturn row.map((v, i) => i ? v.padStart(widths[i], \" \") : v.padEnd(widths[i], \" \"));\n}\nfunction renderTableHead(widths) {\n\treturn \" \".repeat(3) + padRow(tableHead, widths).map(c.bold).join(\"  \");\n}\nfunction renderBenchmark(result, widths) {\n\tconst padded = padRow(renderBenchmarkItems(result), widths);\n\treturn [\n\t\tpadded[0],\n\t\tc.blue(padded[1]),\n\t\tc.cyan(padded[2]),\n\t\tc.cyan(padded[3]),\n\t\tc.cyan(padded[4]),\n\t\tc.cyan(padded[5]),\n\t\tc.cyan(padded[6]),\n\t\tc.cyan(padded[7]),\n\t\tc.cyan(padded[8]),\n\t\tc.dim(padded[9]),\n\t\tc.dim(padded[10])\n\t].join(\"  \");\n}\nfunction renderTable(options) {\n\tconst output = [], benchMap = {};\n\tfor (const task of options.tasks) if (task.meta.benchmark && task.result?.benchmark) benchMap[task.id] = {\n\t\tcurrent: task.result.benchmark,\n\t\tbaseline: options.compare?.[task.id]\n\t};\n\tconst benchCount = Object.entries(benchMap).length, columnWidths = computeColumnWidths(Object.values(benchMap).flatMap((v) => [v.current, v.baseline]).filter(notNullish));\n\tlet idx = 0;\n\tconst padding = \"  \".repeat(1 );\n\tfor (const task of options.tasks) {\n\t\tconst duration = task.result?.duration, bench = benchMap[task.id];\n\t\tlet prefix = \"\";\n\t\tif (idx === 0 && task.meta?.benchmark) prefix += `${renderTableHead(columnWidths)}\\n${padding}`;\n\t\tprefix += ` ${getStateSymbol(task)} `;\n\t\tlet suffix = \"\";\n\t\tif (task.type === \"suite\") suffix += c.dim(` (${getTests(task).length})`);\n\t\tif (task.mode === \"skip\" || task.mode === \"todo\") suffix += c.dim(c.gray(\" [skipped]\"));\n\t\tif (duration != null) {\n\t\t\tconst color = duration > options.slowTestThreshold ? c.yellow : c.green;\n\t\t\tsuffix += color(` ${Math.round(duration)}${c.dim(\"ms\")}`);\n\t\t}\n\t\tif (options.showHeap && task.result?.heap != null) suffix += c.magenta(` ${Math.floor(task.result.heap / 1024 / 1024)} MB heap used`);\n\t\tif (bench) {\n\t\t\tlet body = renderBenchmark(bench.current, columnWidths);\n\t\t\tif (options.compare && bench.baseline) {\n\t\t\t\tif (bench.current.hz) {\n\t\t\t\t\tconst diff = bench.current.hz / bench.baseline.hz, diffFixed = diff.toFixed(2);\n\t\t\t\t\tif (diffFixed === \"1.0.0\") body += c.gray(`  [${diffFixed}x]`);\n\t\t\t\t\tif (diff > 1) body += c.blue(`  [${diffFixed}x] ⇑`);\n\t\t\t\t\telse body += c.red(`  [${diffFixed}x] ⇓`);\n\t\t\t\t}\n\t\t\t\toutput.push(padding + prefix + body + suffix);\n\t\t\t\tconst bodyBaseline = renderBenchmark(bench.baseline, columnWidths);\n\t\t\t\toutput.push(`${padding}   ${bodyBaseline}  ${c.dim(\"(baseline)\")}`);\n\t\t\t} else {\n\t\t\t\tif (bench.current.rank === 1 && benchCount > 1) body += c.bold(c.green(\"   fastest\"));\n\t\t\t\tif (bench.current.rank === benchCount && benchCount > 2) body += c.bold(c.gray(\"   slowest\"));\n\t\t\t\toutput.push(padding + prefix + body + suffix);\n\t\t\t}\n\t\t} else output.push(padding + prefix + task.name + suffix);\n\t\tif (task.result?.state !== \"pass\" && outputMap.get(task) != null) {\n\t\t\tlet data = outputMap.get(task);\n\t\t\tif (typeof data === \"string\") {\n\t\t\t\tif (data = stripVTControlCharacters(data.trim().split(\"\\n\").filter(Boolean).pop()), data === \"\") data = void 0;\n\t\t\t}\n\t\t\tif (data != null) {\n\t\t\t\tconst out = `   ${\"  \".repeat(options.level)}${F_RIGHT} ${data}`;\n\t\t\t\toutput.push(c.gray(truncateString(out, options.columns)));\n\t\t\t}\n\t\t}\n\t\tidx++;\n\t}\n\treturn output.filter(Boolean).join(\"\\n\");\n}\n\nclass BenchmarkReporter extends DefaultReporter {\n\tcompare;\n\tasync onInit(ctx) {\n\t\tif (super.onInit(ctx), this.ctx.config.benchmark?.compare) {\n\t\t\tconst compareFile = pathe.resolve(this.ctx.config.root, this.ctx.config.benchmark?.compare);\n\t\t\ttry {\n\t\t\t\tthis.compare = flattenFormattedBenchmarkReport(JSON.parse(await fs.promises.readFile(compareFile, \"utf-8\")));\n\t\t\t} catch (e) {\n\t\t\t\tthis.error(`Failed to read '${compareFile}'`, e);\n\t\t\t}\n\t\t}\n\t}\n\tonTaskUpdate(packs) {\n\t\tfor (const pack of packs) {\n\t\t\tconst task = this.ctx.state.idMap.get(pack[0]);\n\t\t\tif (task?.type === \"suite\" && task.result?.state !== \"run\") task.tasks.filter((task) => task.result?.benchmark).sort((benchA, benchB) => benchA.result.benchmark.mean - benchB.result.benchmark.mean).forEach((bench, idx) => {\n\t\t\t\tbench.result.benchmark.rank = Number(idx) + 1;\n\t\t\t});\n\t\t}\n\t}\n\tonTestSuiteResult(testSuite) {\n\t\tsuper.onTestSuiteResult(testSuite), this.printSuiteTable(testSuite);\n\t}\n\tprintTestModule(testModule) {\n\t\tthis.printSuiteTable(testModule);\n\t}\n\tprintSuiteTable(testTask) {\n\t\tconst state = testTask.state();\n\t\tif (state === \"pending\" || state === \"queued\") return;\n\t\tconst benches = testTask.task.tasks.filter((t) => t.meta.benchmark), duration = testTask.task.result?.duration || 0;\n\t\tif (benches.length > 0 && benches.every((t) => t.result?.state !== \"run\" && t.result?.state !== \"queued\")) {\n\t\t\tlet title = `\\n ${getStateSymbol(testTask.task)} ${formatProjectName(testTask.project)}${getFullName(testTask.task, separator)}`;\n\t\t\tif (duration != null && duration > this.ctx.config.slowTestThreshold) title += c.yellow(` ${Math.round(duration)}${c.dim(\"ms\")}`);\n\t\t\tthis.log(title), this.log(renderTable({\n\t\t\t\ttasks: benches,\n\t\t\t\tlevel: 1,\n\t\t\t\tcolumns: this.ctx.logger.getColumns(),\n\t\t\t\tcompare: this.compare,\n\t\t\t\tshowHeap: this.ctx.config.logHeapUsage,\n\t\t\t\tslowTestThreshold: this.ctx.config.slowTestThreshold\n\t\t\t}));\n\t\t}\n\t}\n\tasync onTestRunEnd(testModules, unhandledErrors, reason) {\n\t\tsuper.onTestRunEnd(testModules, unhandledErrors, reason);\n\t\t// write output for future comparison\n\t\tlet outputFile = this.ctx.config.benchmark?.outputJson;\n\t\tif (outputFile) {\n\t\t\toutputFile = pathe.resolve(this.ctx.config.root, outputFile);\n\t\t\tconst outputDirectory = pathe.dirname(outputFile);\n\t\t\tif (!fs.existsSync(outputDirectory)) await fs.promises.mkdir(outputDirectory, { recursive: true });\n\t\t\tconst files = testModules.map((t) => t.task.file), output = createBenchmarkJsonReport(files);\n\t\t\tawait fs.promises.writeFile(outputFile, JSON.stringify(output, null, 2)), this.log(`Benchmark report written to ${outputFile}`);\n\t\t}\n\t}\n}\n\nclass VerboseBenchmarkReporter extends BenchmarkReporter {\n\tverbose = true;\n}\n\nconst BenchmarkReportsMap = {\n\tdefault: BenchmarkReporter,\n\tverbose: VerboseBenchmarkReporter\n};\n\nexport { BenchmarkReporter as B, VerboseBenchmarkReporter as V, BenchmarkReportsMap as a };\n"],
  "mappings": "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",
  "names": ["parse", "n", "setup", "createDebug", "hash", "debug", "format", "warned", "import_node_fs", "import_node_path", "nodeos__default", "import_node_os", "crypto", "withTrailingSlash", "url", "base", "url2", "path", "assert", "types", "extension", "v8", "fs", "fileURLToPath$1", "packageJSONPath", "mime", "extname", "format", "process$1", "URL$1", "tries", "i", "hash", "pathToFileURL$1", "keys", "packageJsonUrl", "stat", "packageConfig", "fs$1", "_a", "_b", "nodeos__default", "cache", "shardStart", "shardEnd", "inspect", "defaultPort", "import_node_os", "path", "any", "keys", "parse", "i", "version", "run", "cache", "commandName", "_a", "options", "_b", "startVitest", "n", "errorBanner", "prepareVitest", "processCollected", "outputFileList", "clearTimeout", "setTimeout", "resolve", "_a", "nanoid", "onMessage", "_b", "import_events", "import_node_crypto", "import_promises", "import_node_module", "import_node_url", "isWindows", "vm", "Proxy", "Reflect", "mod", "_a", "_b", "Object", "p", "receiver", "isPrimitive", "dirname", "require", "options", "wrapId", "path", "clientStub", "getDefaultExportFromCjs", "import_node_module", "import_node_url", "import_node_v8", "import_picomatch", "relative", "n", "start", "segment", "replacement", "cleanUrl", "url", "p", "parent", "parse", "declaration", "import_promises", "import_node_url", "import_node_fs", "import_node_fs", "import_node_module", "existsSync", "readdirSync", "statSync", "fs", "nodeModule", "import_node_module", "cleanUrl", "Found", "node", "regexpHoistable", "parse", "init", "id", "createError", "import_node_fs", "join", "tryStatSync", "fs", "dirname", "cache", "A", "E", "C", "init", "Q", "B", "g", "I", "w", "K", "D", "o", "import_node_fs", "import_node_util", "_a", "benchmark", "_b", "fs", "task", "import_node_assert", "import_node_util", "require$$0", "bufferUtil", "data", "require$$0$1", "require$$0$2", "n", "require$$1", "sender", "onMessage", "parse", "start", "format", "extension", "EventEmitter", "require$$0$3", "require$$1$1", "require$$2", "require$$3", "require$$4", "createHash", "URL", "require$$7", "receiver", "websocket", "defaultPort", "key", "stream", "err", "protocol", "subprotocol", "WebSocketServer", "version", "_a", "id", "url", "crypto", "promises$1", "p", "_b", "debug", "createDebug", "property", "createFileTask", "task", "promises", "fs", "cache", "path", "code", "comma", "config", "base", "options", "RunnerState", "resolve", "resolve$1", "v8", "fork", "EventEmitter$1", "files", "specs", "pool", "order", "jsTokens_1", "hasRequiredJsTokens", "requireJsTokens", "jsTokensExports", "jsTokens", "hash", "console", "isBrowserEnabled", "name", "resolveOptions", "root", "init", "pm", "generateHash", "configFiles", "nodeos__default", "filters", "related", "_fullName", "error", "keys", "assert$1", "assert", "readline", "stdout"]
}
